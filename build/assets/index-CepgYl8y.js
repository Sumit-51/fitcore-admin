(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var zh={exports:{}},Xo={},Bh={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function sE(){if(Wg)return Se;Wg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,V={};function F(M,Y,Ie){this.props=M,this.context=Y,this.refs=V,this.updater=Ie||R}F.prototype.isReactComponent={},F.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},F.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=F.prototype;function G(M,Y,Ie){this.props=M,this.context=Y,this.refs=V,this.updater=Ie||R}var ne=G.prototype=new W;ne.constructor=G,H(ne,F.prototype),ne.isPureReactComponent=!0;var ee=Array.isArray,me=Object.prototype.hasOwnProperty,te={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(M,Y,Ie){var be,Ne={},Ae=null,$e=null;if(Y!=null)for(be in Y.ref!==void 0&&($e=Y.ref),Y.key!==void 0&&(Ae=""+Y.key),Y)me.call(Y,be)&&!N.hasOwnProperty(be)&&(Ne[be]=Y[be]);var Me=arguments.length-2;if(Me===1)Ne.children=Ie;else if(1<Me){for(var Ge=Array(Me),Wt=0;Wt<Me;Wt++)Ge[Wt]=arguments[Wt+2];Ne.children=Ge}if(M&&M.defaultProps)for(be in Me=M.defaultProps,Me)Ne[be]===void 0&&(Ne[be]=Me[be]);return{$$typeof:n,type:M,key:Ae,ref:$e,props:Ne,_owner:te.current}}function S(M,Y){return{$$typeof:n,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function j(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Ie){return Y[Ie]})}var O=/\/+/g;function A(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):Y.toString(36)}function He(M,Y,Ie,be,Ne){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var $e=!1;if(M===null)$e=!0;else switch(Ae){case"string":case"number":$e=!0;break;case"object":switch(M.$$typeof){case n:case e:$e=!0}}if($e)return $e=M,Ne=Ne($e),M=be===""?"."+A($e,0):be,ee(Ne)?(Ie="",M!=null&&(Ie=M.replace(O,"$&/")+"/"),He(Ne,Y,Ie,"",function(Wt){return Wt})):Ne!=null&&(P(Ne)&&(Ne=S(Ne,Ie+(!Ne.key||$e&&$e.key===Ne.key?"":(""+Ne.key).replace(O,"$&/")+"/")+M)),Y.push(Ne)),1;if($e=0,be=be===""?".":be+":",ee(M))for(var Me=0;Me<M.length;Me++){Ae=M[Me];var Ge=be+A(Ae,Me);$e+=He(Ae,Y,Ie,Ge,Ne)}else if(Ge=T(M),typeof Ge=="function")for(M=Ge.call(M),Me=0;!(Ae=M.next()).done;)Ae=Ae.value,Ge=be+A(Ae,Me++),$e+=He(Ae,Y,Ie,Ge,Ne);else if(Ae==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return $e}function Le(M,Y,Ie){if(M==null)return M;var be=[],Ne=0;return He(M,be,"","",function(Ae){return Y.call(Ie,Ae,Ne++)}),be}function kt(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(Ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=Ie)},function(Ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=Ie)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var We={current:null},ie={transition:null},pe={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:ie,ReactCurrentOwner:te};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:Le,forEach:function(M,Y,Ie){Le(M,function(){Y.apply(this,arguments)},Ie)},count:function(M){var Y=0;return Le(M,function(){Y++}),Y},toArray:function(M){return Le(M,function(Y){return Y})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Se.Component=F,Se.Fragment=t,Se.Profiler=a,Se.PureComponent=G,Se.StrictMode=s,Se.Suspense=y,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Se.act=ue,Se.cloneElement=function(M,Y,Ie){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var be=H({},M.props),Ne=M.key,Ae=M.ref,$e=M._owner;if(Y!=null){if(Y.ref!==void 0&&(Ae=Y.ref,$e=te.current),Y.key!==void 0&&(Ne=""+Y.key),M.type&&M.type.defaultProps)var Me=M.type.defaultProps;for(Ge in Y)me.call(Y,Ge)&&!N.hasOwnProperty(Ge)&&(be[Ge]=Y[Ge]===void 0&&Me!==void 0?Me[Ge]:Y[Ge])}var Ge=arguments.length-2;if(Ge===1)be.children=Ie;else if(1<Ge){Me=Array(Ge);for(var Wt=0;Wt<Ge;Wt++)Me[Wt]=arguments[Wt+2];be.children=Me}return{$$typeof:n,type:M.type,key:Ne,ref:Ae,props:be,_owner:$e}},Se.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Se.createElement=I,Se.createFactory=function(M){var Y=I.bind(null,M);return Y.type=M,Y},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:m,render:M}},Se.isValidElement=P,Se.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:kt}},Se.memo=function(M,Y){return{$$typeof:v,type:M,compare:Y===void 0?null:Y}},Se.startTransition=function(M){var Y=ie.transition;ie.transition={};try{M()}finally{ie.transition=Y}},Se.unstable_act=ue,Se.useCallback=function(M,Y){return We.current.useCallback(M,Y)},Se.useContext=function(M){return We.current.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M){return We.current.useDeferredValue(M)},Se.useEffect=function(M,Y){return We.current.useEffect(M,Y)},Se.useId=function(){return We.current.useId()},Se.useImperativeHandle=function(M,Y,Ie){return We.current.useImperativeHandle(M,Y,Ie)},Se.useInsertionEffect=function(M,Y){return We.current.useInsertionEffect(M,Y)},Se.useLayoutEffect=function(M,Y){return We.current.useLayoutEffect(M,Y)},Se.useMemo=function(M,Y){return We.current.useMemo(M,Y)},Se.useReducer=function(M,Y,Ie){return We.current.useReducer(M,Y,Ie)},Se.useRef=function(M){return We.current.useRef(M)},Se.useState=function(M){return We.current.useState(M)},Se.useSyncExternalStore=function(M,Y,Ie){return We.current.useSyncExternalStore(M,Y,Ie)},Se.useTransition=function(){return We.current.useTransition()},Se.version="18.3.1",Se}var Gg;function Vf(){return Gg||(Gg=1,Bh.exports=sE()),Bh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function iE(){if(Kg)return Xo;Kg=1;var n=Vf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(m,y,v){var _,E={},T=null,R=null;v!==void 0&&(T=""+v),y.key!==void 0&&(T=""+y.key),y.ref!==void 0&&(R=y.ref);for(_ in y)s.call(y,_)&&!l.hasOwnProperty(_)&&(E[_]=y[_]);if(m&&m.defaultProps)for(_ in y=m.defaultProps,y)E[_]===void 0&&(E[_]=y[_]);return{$$typeof:e,type:m,key:T,ref:R,props:E,_owner:a.current}}return Xo.Fragment=t,Xo.jsx=c,Xo.jsxs=c,Xo}var Qg;function aE(){return Qg||(Qg=1,zh.exports=iE()),zh.exports}var h=aE(),ic={},$h={exports:{}},tr={},qh={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function oE(){return Yg||(Yg=1,(function(n){function e(ie,pe){var ue=ie.length;ie.push(pe);e:for(;0<ue;){var M=ue-1>>>1,Y=ie[M];if(0<a(Y,pe))ie[M]=pe,ie[ue]=Y,ue=M;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var pe=ie[0],ue=ie.pop();if(ue!==pe){ie[0]=ue;e:for(var M=0,Y=ie.length,Ie=Y>>>1;M<Ie;){var be=2*(M+1)-1,Ne=ie[be],Ae=be+1,$e=ie[Ae];if(0>a(Ne,ue))Ae<Y&&0>a($e,Ne)?(ie[M]=$e,ie[Ae]=ue,M=Ae):(ie[M]=Ne,ie[be]=ue,M=be);else if(Ae<Y&&0>a($e,ue))ie[M]=$e,ie[Ae]=ue,M=Ae;else break e}}return pe}function a(ie,pe){var ue=ie.sortIndex-pe.sortIndex;return ue!==0?ue:ie.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var y=[],v=[],_=1,E=null,T=3,R=!1,H=!1,V=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(ie){for(var pe=t(v);pe!==null;){if(pe.callback===null)s(v);else if(pe.startTime<=ie)s(v),pe.sortIndex=pe.expirationTime,e(y,pe);else break;pe=t(v)}}function ee(ie){if(V=!1,ne(ie),!H)if(t(y)!==null)H=!0,kt(me);else{var pe=t(v);pe!==null&&We(ee,pe.startTime-ie)}}function me(ie,pe){H=!1,V&&(V=!1,W(I),I=-1),R=!0;var ue=T;try{for(ne(pe),E=t(y);E!==null&&(!(E.expirationTime>pe)||ie&&!j());){var M=E.callback;if(typeof M=="function"){E.callback=null,T=E.priorityLevel;var Y=M(E.expirationTime<=pe);pe=n.unstable_now(),typeof Y=="function"?E.callback=Y:E===t(y)&&s(y),ne(pe)}else s(y);E=t(y)}if(E!==null)var Ie=!0;else{var be=t(v);be!==null&&We(ee,be.startTime-pe),Ie=!1}return Ie}finally{E=null,T=ue,R=!1}}var te=!1,N=null,I=-1,S=5,P=-1;function j(){return!(n.unstable_now()-P<S)}function O(){if(N!==null){var ie=n.unstable_now();P=ie;var pe=!0;try{pe=N(!0,ie)}finally{pe?A():(te=!1,N=null)}}else te=!1}var A;if(typeof G=="function")A=function(){G(O)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Le=He.port2;He.port1.onmessage=O,A=function(){Le.postMessage(null)}}else A=function(){F(O,0)};function kt(ie){N=ie,te||(te=!0,A())}function We(ie,pe){I=F(function(){ie(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){H||R||(H=!0,kt(me))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(y)},n.unstable_next=function(ie){switch(T){case 1:case 2:case 3:var pe=3;break;default:pe=T}var ue=T;T=pe;try{return ie()}finally{T=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=T;T=ie;try{return pe()}finally{T=ue}},n.unstable_scheduleCallback=function(ie,pe,ue){var M=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?M+ue:M):ue=M,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ue+Y,ie={id:_++,callback:pe,priorityLevel:ie,startTime:ue,expirationTime:Y,sortIndex:-1},ue>M?(ie.sortIndex=ue,e(v,ie),t(y)===null&&ie===t(v)&&(V?(W(I),I=-1):V=!0,We(ee,ue-M))):(ie.sortIndex=Y,e(y,ie),H||R||(H=!0,kt(me))),ie},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(ie){var pe=T;return function(){var ue=T;T=pe;try{return ie.apply(this,arguments)}finally{T=ue}}}})(Hh)),Hh}var Jg;function lE(){return Jg||(Jg=1,qh.exports=oE()),qh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function uE(){if(Xg)return tr;Xg=1;var n=Vf(),e=lE();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(a[r]=i,r=0;r<i.length;r++)s.add(i[r])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function T(r){return y.call(E,r)?!0:y.call(_,r)?!1:v.test(r)?E[r]=!0:(_[r]=!0,!1)}function R(r,i,o,d){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function H(r,i,o,d){if(i===null||typeof i>"u"||R(r,i,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function V(r,i,o,d,f,p,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=r,this.type=i,this.sanitizeURL=p,this.removeEmptyString=w}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new V(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];F[i]=new V(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new V(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new V(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new V(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new V(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new V(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new V(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new V(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(W,G);F[i]=new V(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(W,G);F[i]=new V(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(W,G);F[i]=new V(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new V(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new V(r,1,!1,r.toLowerCase(),null,!0,!0)});function ne(r,i,o,d){var f=F.hasOwnProperty(i)?F[i]:null;(f!==null?f.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(H(i,o,f,d)&&(o=null),d||f===null?T(i)&&(o===null?r.removeAttribute(i):r.setAttribute(i,""+o)):f.mustUseProperty?r[f.propertyName]=o===null?f.type===3?!1:"":o:(i=f.attributeName,d=f.attributeNamespace,o===null?r.removeAttribute(i):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,d?r.setAttributeNS(d,i,o):r.setAttribute(i,o))))}var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=Symbol.for("react.element"),te=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),j=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),We=Symbol.for("react.offscreen"),ie=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var ue=Object.assign,M;function Y(r){if(M===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+r}var Ie=!1;function be(r,i){if(!r||Ie)return"";Ie=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var d=$}Reflect.construct(r,[],i)}else{try{i.call()}catch($){d=$}r.call(i.prototype)}else{try{throw Error()}catch($){d=$}r()}}catch($){if($&&d&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),p=d.stack.split(`
`),w=f.length-1,b=p.length-1;1<=w&&0<=b&&f[w]!==p[b];)b--;for(;1<=w&&0<=b;w--,b--)if(f[w]!==p[b]){if(w!==1||b!==1)do if(w--,b--,0>b||f[w]!==p[b]){var C=`
`+f[w].replace(" at new "," at ");return r.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",r.displayName)),C}while(1<=w&&0<=b);break}}}finally{Ie=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?Y(r):""}function Ne(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=be(r.type,!1),r;case 11:return r=be(r.type.render,!1),r;case 1:return r=be(r.type,!0),r;default:return""}}function Ae(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case te:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case He:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case j:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case O:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Le:return i=r.displayName||null,i!==null?i:Ae(r.type)||"Memo";case kt:i=r._payload,r=r._init;try{return Ae(r(i))}catch{}}return null}function $e(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ge(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wt(r){var i=Ge(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){d=""+w,p.call(this,w)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Fi(r){r._valueTracker||(r._valueTracker=Wt(r))}function no(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return r&&(d=Ge(r)?r.checked?"true":"false":r.value),r=d,r!==o?(i.setValue(r),!0):!1}function Xn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ui(r,i){var o=i.checked;return ue({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function ql(r,i){var o=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;o=Me(i.value!=null?i.value:o),r._wrapperState={initialChecked:d,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function zi(r,i){i=i.checked,i!=null&&ne(r,"checked",i,!1)}function Zs(r,i){zi(r,i);var o=Me(i.value),d=i.type;if(o!=null)d==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?ft(r,i.type,o):i.hasOwnProperty("defaultValue")&&ft(r,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function so(r,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,o||i===r.value||(r.value=i),r.defaultValue=i}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function ft(r,i,o){(i!=="number"||Xn(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var lt=Array.isArray;function Nr(r,i,o,d){if(r=r.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=i.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&d&&(r[o].defaultSelected=!0)}else{for(o=""+Me(o),i=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function io(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ao(r,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(t(92));if(lt(o)){if(1<o.length)throw Error(t(93));o=o[0]}i=o}i==null&&(i=""),o=i}r._wrapperState={initialValue:Me(o)}}function Hl(r,i){var o=Me(i.value),d=Me(i.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),i.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),d!=null&&(r.defaultValue=""+d)}function Zn(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function oo(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bi(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?oo(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var es,Wl=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,d,f){MSApp.execUnsafeLocalFunction(function(){return r(i,o,d,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=es.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function ei(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gl=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(r){Gl.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),ts[i]=ts[r]})});function rs(r,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||ts.hasOwnProperty(r)&&ts[r]?(""+i).trim():i+"px"}function $i(r,i){r=r.style;for(var o in i)if(i.hasOwnProperty(o)){var d=o.indexOf("--")===0,f=rs(o,i[o],d);o==="float"&&(o="cssFloat"),d?r.setProperty(o,f):r[o]=f}}var lo=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ar(r,i){if(i){if(lo[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function qi(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=null;function Hi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var wn=null,En=null,at=null;function uo(r){if(r=Mo(r)){if(typeof wn!="function")throw Error(t(280));var i=r.stateNode;i&&(i=_u(i),wn(r.stateNode,r.type,i))}}function ss(r){En?at?at.push(r):at=[r]:En=r}function is(){if(En){var r=En,i=at;if(at=En=null,uo(r),i)for(r=0;r<i.length;r++)uo(i[r])}}function Kl(r,i){return r(i)}function Ql(){}var Hr=!1;function Yl(r,i,o){if(Hr)return r(i,o);Hr=!0;try{return Kl(r,i,o)}finally{Hr=!1,(En!==null||at!==null)&&(Ql(),is())}}function ti(r,i){var o=r.stateNode;if(o===null)return null;var d=_u(o);if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(t(231,i,typeof o));return o}var as=!1;if(m)try{var os={};Object.defineProperty(os,"passive",{get:function(){as=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{as=!1}function Jl(r,i,o,d,f,p,w,b,C){var $=Array.prototype.slice.call(arguments,3);try{i.apply(o,$)}catch(X){this.onError(X)}}var kn=!1,Wr=null,Wi=!1,pr=null,Xl={onError:function(r){kn=!0,Wr=r}};function Zl(r,i,o,d,f,p,w,b,C){kn=!1,Wr=null,Jl.apply(Xl,arguments)}function co(r,i,o,d,f,p,w,b,C){if(Zl.apply(this,arguments),kn){if(kn){var $=Wr;kn=!1,Wr=null}else throw Error(t(198));Wi||(Wi=!0,pr=$)}}function Cr(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function ho(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function eu(r){if(Cr(r)!==r)throw Error(t(188))}function tu(r){var i=r.alternate;if(!i){if(i=Cr(r),i===null)throw Error(t(188));return i!==r?null:r}for(var o=r,d=i;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(d=f.return,d!==null){o=d;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return eu(f),r;if(p===d)return eu(f),i;p=p.sibling}throw Error(t(188))}if(o.return!==d.return)o=f,d=p;else{for(var w=!1,b=f.child;b;){if(b===o){w=!0,o=f,d=p;break}if(b===d){w=!0,d=f,o=p;break}b=b.sibling}if(!w){for(b=p.child;b;){if(b===o){w=!0,o=p,d=f;break}if(b===d){w=!0,d=p,o=f;break}b=b.sibling}if(!w)throw Error(t(189))}}if(o.alternate!==d)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?r:i}function ru(r){return r=tu(r),r!==null?ri(r):null}function ri(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=ri(r);if(i!==null)return i;r=r.sibling}return null}var fo=e.unstable_scheduleCallback,Gi=e.unstable_cancelCallback,ni=e.unstable_shouldYield,Tn=e.unstable_requestPaint,Je=e.unstable_now,vd=e.unstable_getCurrentPriorityLevel,Ki=e.unstable_ImmediatePriority,mo=e.unstable_UserBlockingPriority,si=e.unstable_NormalPriority,po=e.unstable_LowPriority,Qi=e.unstable_IdlePriority,ii=null,sr=null;function nu(r){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(ii,r,void 0,(r.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:ai,Gr=Math.log,gr=Math.LN2;function ai(r){return r>>>=0,r===0?32:31-(Gr(r)/gr|0)|0}var Kr=64,ls=4194304;function Ue(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function In(r,i){var o=r.pendingLanes;if(o===0)return 0;var d=0,f=r.suspendedLanes,p=r.pingedLanes,w=o&268435455;if(w!==0){var b=w&~f;b!==0?d=Ue(b):(p&=w,p!==0&&(d=Ue(p)))}else w=o&~f,w!==0?d=Ue(w):p!==0&&(d=Ue(p));if(d===0)return 0;if(i!==0&&i!==d&&(i&f)===0&&(f=d&-d,p=i&-i,f>=p||f===16&&(p&4194240)!==0))return i;if((d&4)!==0&&(d|=o&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)o=31-ir(i),f=1<<o,d|=r[o],i&=~f;return d}function oi(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function li(r,i){for(var o=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes;0<p;){var w=31-ir(p),b=1<<w,C=f[w];C===-1?((b&o)===0||(b&d)!==0)&&(f[w]=oi(b,i)):C<=i&&(r.expiredLanes|=b),p&=~b}}function go(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function yo(){var r=Kr;return Kr<<=1,(Kr&4194240)===0&&(Kr=64),r}function vo(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function ui(r,i,o){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-ir(i),r[i]=o}function xd(r,i){var o=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<o;){var f=31-ir(o),p=1<<f;i[f]=0,d[f]=-1,r[f]=-1,o&=~p}}function xo(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var d=31-ir(o),f=1<<d;f&i|r[d]&i&&(r[d]|=i),o&=~f}}var je=0;function Qr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var _o,Yi,wo,Eo,ko,Yr=!1,Ji=[],Jr=null,Xr=null,Ct=null,ci=new Map,bn=new Map,ar=[],su="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function us(r,i){switch(r){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":ci.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(i.pointerId)}}function Rr(r,i,o,d,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:p,targetContainers:[f]},i!==null&&(i=Mo(i),i!==null&&Yi(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function iu(r,i,o,d,f){switch(i){case"focusin":return Jr=Rr(Jr,r,i,o,d,f),!0;case"dragenter":return Xr=Rr(Xr,r,i,o,d,f),!0;case"mouseover":return Ct=Rr(Ct,r,i,o,d,f),!0;case"pointerover":var p=f.pointerId;return ci.set(p,Rr(ci.get(p)||null,r,i,o,d,f)),!0;case"gotpointercapture":return p=f.pointerId,bn.set(p,Rr(bn.get(p)||null,r,i,o,d,f)),!0}return!1}function Xi(r){var i=mi(r.target);if(i!==null){var o=Cr(i);if(o!==null){if(i=o.tag,i===13){if(i=ho(o),i!==null){r.blockedOn=i,ko(r.priority,function(){wo(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ke(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Zi(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var d=new o.constructor(o.type,o);ns=d,o.target.dispatchEvent(d),ns=null}else return i=Mo(o),i!==null&&Yi(i),r.blockedOn=o,!1;i.shift()}return!0}function au(r,i,o){Ke(r)&&o.delete(i)}function _d(){Yr=!1,Jr!==null&&Ke(Jr)&&(Jr=null),Xr!==null&&Ke(Xr)&&(Xr=null),Ct!==null&&Ke(Ct)&&(Ct=null),ci.forEach(au),bn.forEach(au)}function cs(r,i){r.blockedOn===i&&(r.blockedOn=null,Yr||(Yr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_d)))}function ds(r){function i(f){return cs(f,r)}if(0<Ji.length){cs(Ji[0],r);for(var o=1;o<Ji.length;o++){var d=Ji[o];d.blockedOn===r&&(d.blockedOn=null)}}for(Jr!==null&&cs(Jr,r),Xr!==null&&cs(Xr,r),Ct!==null&&cs(Ct,r),ci.forEach(i),bn.forEach(i),o=0;o<ar.length;o++)d=ar[o],d.blockedOn===r&&(d.blockedOn=null);for(;0<ar.length&&(o=ar[0],o.blockedOn===null);)Xi(o),o.blockedOn===null&&ar.shift()}var Sn=ee.ReactCurrentBatchConfig,Nn=!0;function Zr(r,i,o,d){var f=je,p=Sn.transition;Sn.transition=null;try{je=1,To(r,i,o,d)}finally{je=f,Sn.transition=p}}function ou(r,i,o,d){var f=je,p=Sn.transition;Sn.transition=null;try{je=4,To(r,i,o,d)}finally{je=f,Sn.transition=p}}function To(r,i,o,d){if(Nn){var f=Zi(r,i,o,d);if(f===null)Rd(r,i,d,en,o),us(r,d);else if(iu(f,r,i,o,d))d.stopPropagation();else if(us(r,d),i&4&&-1<su.indexOf(r)){for(;f!==null;){var p=Mo(f);if(p!==null&&_o(p),p=Zi(r,i,o,d),p===null&&Rd(r,i,d,en,o),p===f)break;f=p}f!==null&&d.stopPropagation()}else Rd(r,i,d,null,o)}}var en=null;function Zi(r,i,o,d){if(en=null,r=Hi(d),r=mi(r),r!==null)if(i=Cr(r),i===null)r=null;else if(o=i.tag,o===13){if(r=ho(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return en=r,null}function ea(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vd()){case Ki:return 1;case mo:return 4;case si:case po:return 16;case Qi:return 536870912;default:return 16}default:return 16}}var or=null,ta=null,An=null;function lu(){if(An)return An;var r,i=ta,o=i.length,d,f="value"in or?or.value:or.textContent,p=f.length;for(r=0;r<o&&i[r]===f[r];r++);var w=o-r;for(d=1;d<=w&&i[o-d]===f[p-d];d++);return An=f.slice(r,1<d?1-d:void 0)}function di(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function tn(){return!0}function Io(){return!1}function Mt(r){function i(o,d,f,p,w){this._reactName=o,this._targetInst=f,this.type=d,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(o=r[b],this[b]=o?o(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?tn:Io,this.isPropagationStopped=Io,this}return ue(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),i}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Mt(rn),hs=ue({},rn,{view:0,detail:0}),ra=Mt(hs),na,sa,lr,fi=ue({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Te,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==lr&&(lr&&r.type==="mousemove"?(na=r.screenX-lr.screenX,sa=r.screenY-lr.screenY):sa=na=0,lr=r),na)},movementY:function(r){return"movementY"in r?r.movementY:sa}}),bo=Mt(fi),uu=ue({},fi,{dataTransfer:0}),cu=Mt(uu),ia=ue({},hs,{relatedTarget:0}),Rt=Mt(ia),du=ue({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=Mt(du),fs=ue({},rn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Mt(fs),g=ue({},rn,{data:0}),x=Mt(g),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function se(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=q[r])?!!i[r]:!1}function Te(){return se}var ut=ue({},hs,{key:function(r){if(r.key){var i=k[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=di(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?z[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Te,charCode:function(r){return r.type==="keypress"?di(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?di(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qe=Mt(ut),mt=ue({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ur=Mt(mt),Cn=ue({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Te}),nn=Mt(Cn),sn=ue({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),aa=Mt(sn),So=ue({},fi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),X_=Mt(So),Z_=[9,13,27,32],wd=m&&"CompositionEvent"in window,No=null;m&&"documentMode"in document&&(No=document.documentMode);var ew=m&&"TextEvent"in window&&!No,Om=m&&(!wd||No&&8<No&&11>=No),Fm=" ",Um=!1;function zm(r,i){switch(r){case"keyup":return Z_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var oa=!1;function tw(r,i){switch(r){case"compositionend":return Bm(i);case"keypress":return i.which!==32?null:(Um=!0,Fm);case"textInput":return r=i.data,r===Fm&&Um?null:r;default:return null}}function rw(r,i){if(oa)return r==="compositionend"||!wd&&zm(r,i)?(r=lu(),An=ta=or=null,oa=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Om&&i.locale!=="ko"?null:i.data;default:return null}}var nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!nw[r.type]:i==="textarea"}function qm(r,i,o,d){ss(d),i=yu(i,"onChange"),0<i.length&&(o=new hi("onChange","change",null,o,d),r.push({event:o,listeners:i}))}var Ao=null,Co=null;function sw(r){lp(r,0)}function fu(r){var i=ha(r);if(no(i))return r}function iw(r,i){if(r==="change")return i}var Hm=!1;if(m){var Ed;if(m){var kd="oninput"in document;if(!kd){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),kd=typeof Wm.oninput=="function"}Ed=kd}else Ed=!1;Hm=Ed&&(!document.documentMode||9<document.documentMode)}function Gm(){Ao&&(Ao.detachEvent("onpropertychange",Km),Co=Ao=null)}function Km(r){if(r.propertyName==="value"&&fu(Co)){var i=[];qm(i,Co,r,Hi(r)),Yl(sw,i)}}function aw(r,i,o){r==="focusin"?(Gm(),Ao=i,Co=o,Ao.attachEvent("onpropertychange",Km)):r==="focusout"&&Gm()}function ow(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return fu(Co)}function lw(r,i){if(r==="click")return fu(i)}function uw(r,i){if(r==="input"||r==="change")return fu(i)}function cw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Pr=typeof Object.is=="function"?Object.is:cw;function Ro(r,i){if(Pr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var f=o[d];if(!y.call(i,f)||!Pr(r[f],i[f]))return!1}return!0}function Qm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ym(r,i){var o=Qm(r);r=0;for(var d;o;){if(o.nodeType===3){if(d=r+o.textContent.length,r<=i&&d>=i)return{node:o,offset:i-r};r=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Qm(o)}}function Jm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Jm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Xm(){for(var r=window,i=Xn();i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Xn(r.document)}return i}function Td(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function dw(r){var i=Xm(),o=r.focusedElem,d=r.selectionRange;if(i!==o&&o&&o.ownerDocument&&Jm(o.ownerDocument.documentElement,o)){if(d!==null&&Td(o)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(r,o.value.length);else if(r=(i=o.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=o.textContent.length,p=Math.min(d.start,f);d=d.end===void 0?p:Math.min(d.end,f),!r.extend&&p>d&&(f=d,d=p,p=f),f=Ym(o,p);var w=Ym(o,d);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),p>d?(r.addRange(i),r.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),r.addRange(i)))}}for(i=[],r=o;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)r=i[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var hw=m&&"documentMode"in document&&11>=document.documentMode,la=null,Id=null,Po=null,bd=!1;function Zm(r,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;bd||la==null||la!==Xn(d)||(d=la,"selectionStart"in d&&Td(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Po&&Ro(Po,d)||(Po=d,d=yu(Id,"onSelect"),0<d.length&&(i=new hi("onSelect","select",null,i,o),r.push({event:i,listeners:d}),i.target=la)))}function mu(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var ua={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},Sd={},ep={};m&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function pu(r){if(Sd[r])return Sd[r];if(!ua[r])return r;var i=ua[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in ep)return Sd[r]=i[o];return r}var tp=pu("animationend"),rp=pu("animationiteration"),np=pu("animationstart"),sp=pu("transitionend"),ip=new Map,ap="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(r,i){ip.set(r,i),l(i,[r])}for(var Nd=0;Nd<ap.length;Nd++){var Ad=ap[Nd],fw=Ad.toLowerCase(),mw=Ad[0].toUpperCase()+Ad.slice(1);ms(fw,"on"+mw)}ms(tp,"onAnimationEnd"),ms(rp,"onAnimationIteration"),ms(np,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(sp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function op(r,i,o){var d=r.type||"unknown-event";r.currentTarget=o,co(d,i,void 0,r),r.currentTarget=null}function lp(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var d=r[o],f=d.event;d=d.listeners;e:{var p=void 0;if(i)for(var w=d.length-1;0<=w;w--){var b=d[w],C=b.instance,$=b.currentTarget;if(b=b.listener,C!==p&&f.isPropagationStopped())break e;op(f,b,$),p=C}else for(w=0;w<d.length;w++){if(b=d[w],C=b.instance,$=b.currentTarget,b=b.listener,C!==p&&f.isPropagationStopped())break e;op(f,b,$),p=C}}}if(Wi)throw r=pr,Wi=!1,pr=null,r}function Xe(r,i){var o=i[Md];o===void 0&&(o=i[Md]=new Set);var d=r+"__bubble";o.has(d)||(up(i,r,2,!1),o.add(d))}function Cd(r,i,o){var d=0;i&&(d|=4),up(o,r,d,i)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Do(r){if(!r[gu]){r[gu]=!0,s.forEach(function(o){o!=="selectionchange"&&(pw.has(o)||Cd(o,!1,r),Cd(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[gu]||(i[gu]=!0,Cd("selectionchange",!1,i))}}function up(r,i,o,d){switch(ea(i)){case 1:var f=Zr;break;case 4:f=ou;break;default:f=To}o=f.bind(null,i,o,r),f=void 0,!as||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(i,o,{capture:!0,passive:f}):r.addEventListener(i,o,!0):f!==void 0?r.addEventListener(i,o,{passive:f}):r.addEventListener(i,o,!1)}function Rd(r,i,o,d,f){var p=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var b=d.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(w===4)for(w=d.return;w!==null;){var C=w.tag;if((C===3||C===4)&&(C=w.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;w=w.return}for(;b!==null;){if(w=mi(b),w===null)return;if(C=w.tag,C===5||C===6){d=p=w;continue e}b=b.parentNode}}d=d.return}Yl(function(){var $=p,X=Hi(o),Z=[];e:{var J=ip.get(r);if(J!==void 0){var oe=hi,de=r;switch(r){case"keypress":if(di(o)===0)break e;case"keydown":case"keyup":oe=qe;break;case"focusin":de="focus",oe=Rt;break;case"focusout":de="blur",oe=Rt;break;case"beforeblur":case"afterblur":oe=Rt;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=nn;break;case tp:case rp:case np:oe=hu;break;case sp:oe=aa;break;case"scroll":oe=ra;break;case"wheel":oe=X_;break;case"copy":case"cut":case"paste":oe=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=ur}var he=(i&4)!==0,ct=!he&&r==="scroll",U=he?J!==null?J+"Capture":null:J;he=[];for(var D=$,B;D!==null;){B=D;var re=B.stateNode;if(B.tag===5&&re!==null&&(B=re,U!==null&&(re=ti(D,U),re!=null&&he.push(Vo(D,re,B)))),ct)break;D=D.return}0<he.length&&(J=new oe(J,de,null,o,X),Z.push({event:J,listeners:he}))}}if((i&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",J&&o!==ns&&(de=o.relatedTarget||o.fromElement)&&(mi(de)||de[Rn]))break e;if((oe||J)&&(J=X.window===X?X:(J=X.ownerDocument)?J.defaultView||J.parentWindow:window,oe?(de=o.relatedTarget||o.toElement,oe=$,de=de?mi(de):null,de!==null&&(ct=Cr(de),de!==ct||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=$),oe!==de)){if(he=bo,re="onMouseLeave",U="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(he=ur,re="onPointerLeave",U="onPointerEnter",D="pointer"),ct=oe==null?J:ha(oe),B=de==null?J:ha(de),J=new he(re,D+"leave",oe,o,X),J.target=ct,J.relatedTarget=B,re=null,mi(X)===$&&(he=new he(U,D+"enter",de,o,X),he.target=B,he.relatedTarget=ct,re=he),ct=re,oe&&de)t:{for(he=oe,U=de,D=0,B=he;B;B=ca(B))D++;for(B=0,re=U;re;re=ca(re))B++;for(;0<D-B;)he=ca(he),D--;for(;0<B-D;)U=ca(U),B--;for(;D--;){if(he===U||U!==null&&he===U.alternate)break t;he=ca(he),U=ca(U)}he=null}else he=null;oe!==null&&cp(Z,J,oe,he,!1),de!==null&&ct!==null&&cp(Z,ct,de,he,!0)}}e:{if(J=$?ha($):window,oe=J.nodeName&&J.nodeName.toLowerCase(),oe==="select"||oe==="input"&&J.type==="file")var fe=iw;else if($m(J))if(Hm)fe=uw;else{fe=ow;var ye=aw}else(oe=J.nodeName)&&oe.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(fe=lw);if(fe&&(fe=fe(r,$))){qm(Z,fe,o,X);break e}ye&&ye(r,J,$),r==="focusout"&&(ye=J._wrapperState)&&ye.controlled&&J.type==="number"&&ft(J,"number",J.value)}switch(ye=$?ha($):window,r){case"focusin":($m(ye)||ye.contentEditable==="true")&&(la=ye,Id=$,Po=null);break;case"focusout":Po=Id=la=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,Zm(Z,o,X);break;case"selectionchange":if(hw)break;case"keydown":case"keyup":Zm(Z,o,X)}var ve;if(wd)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else oa?zm(r,o)&&(we="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(Om&&o.locale!=="ko"&&(oa||we!=="onCompositionStart"?we==="onCompositionEnd"&&oa&&(ve=lu()):(or=X,ta="value"in or?or.value:or.textContent,oa=!0)),ye=yu($,we),0<ye.length&&(we=new x(we,r,null,o,X),Z.push({event:we,listeners:ye}),ve?we.data=ve:(ve=Bm(o),ve!==null&&(we.data=ve)))),(ve=ew?tw(r,o):rw(r,o))&&($=yu($,"onBeforeInput"),0<$.length&&(X=new x("onBeforeInput","beforeinput",null,o,X),Z.push({event:X,listeners:$}),X.data=ve))}lp(Z,i)})}function Vo(r,i,o){return{instance:r,listener:i,currentTarget:o}}function yu(r,i){for(var o=i+"Capture",d=[];r!==null;){var f=r,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=ti(r,o),p!=null&&d.unshift(Vo(r,p,f)),p=ti(r,i),p!=null&&d.push(Vo(r,p,f))),r=r.return}return d}function ca(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function cp(r,i,o,d,f){for(var p=i._reactName,w=[];o!==null&&o!==d;){var b=o,C=b.alternate,$=b.stateNode;if(C!==null&&C===d)break;b.tag===5&&$!==null&&(b=$,f?(C=ti(o,p),C!=null&&w.unshift(Vo(o,C,b))):f||(C=ti(o,p),C!=null&&w.push(Vo(o,C,b)))),o=o.return}w.length!==0&&r.push({event:i,listeners:w})}var gw=/\r\n?/g,yw=/\u0000|\uFFFD/g;function dp(r){return(typeof r=="string"?r:""+r).replace(gw,`
`).replace(yw,"")}function vu(r,i,o){if(i=dp(i),dp(r)!==i&&o)throw Error(t(425))}function xu(){}var Pd=null,jd=null;function Dd(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=typeof setTimeout=="function"?setTimeout:void 0,vw=typeof clearTimeout=="function"?clearTimeout:void 0,hp=typeof Promise=="function"?Promise:void 0,xw=typeof queueMicrotask=="function"?queueMicrotask:typeof hp<"u"?function(r){return hp.resolve(null).then(r).catch(_w)}:Vd;function _w(r){setTimeout(function(){throw r})}function Ld(r,i){var o=i,d=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(d===0){r.removeChild(f),ds(i);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=f}while(o);ds(i)}function ps(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function fp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}var da=Math.random().toString(36).slice(2),an="__reactFiber$"+da,Lo="__reactProps$"+da,Rn="__reactContainer$"+da,Md="__reactEvents$"+da,ww="__reactListeners$"+da,Ew="__reactHandles$"+da;function mi(r){var i=r[an];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Rn]||o[an]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=fp(r);r!==null;){if(o=r[an])return o;r=fp(r)}return i}r=o,o=r.parentNode}return null}function Mo(r){return r=r[an]||r[Rn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ha(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function _u(r){return r[Lo]||null}var Od=[],fa=-1;function gs(r){return{current:r}}function Ze(r){0>fa||(r.current=Od[fa],Od[fa]=null,fa--)}function Qe(r,i){fa++,Od[fa]=r.current,r.current=i}var ys={},Ot=gs(ys),Yt=gs(!1),pi=ys;function ma(r,i){var o=r.type.contextTypes;if(!o)return ys;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=i[p];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function Jt(r){return r=r.childContextTypes,r!=null}function wu(){Ze(Yt),Ze(Ot)}function mp(r,i,o){if(Ot.current!==ys)throw Error(t(168));Qe(Ot,i),Qe(Yt,o)}function pp(r,i,o){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var f in d)if(!(f in i))throw Error(t(108,$e(r)||"Unknown",f));return ue({},o,d)}function Eu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ys,pi=Ot.current,Qe(Ot,r),Qe(Yt,Yt.current),!0}function gp(r,i,o){var d=r.stateNode;if(!d)throw Error(t(169));o?(r=pp(r,i,pi),d.__reactInternalMemoizedMergedChildContext=r,Ze(Yt),Ze(Ot),Qe(Ot,r)):Ze(Yt),Qe(Yt,o)}var Pn=null,ku=!1,Fd=!1;function yp(r){Pn===null?Pn=[r]:Pn.push(r)}function kw(r){ku=!0,yp(r)}function vs(){if(!Fd&&Pn!==null){Fd=!0;var r=0,i=je;try{var o=Pn;for(je=1;r<o.length;r++){var d=o[r];do d=d(!0);while(d!==null)}Pn=null,ku=!1}catch(f){throw Pn!==null&&(Pn=Pn.slice(r+1)),fo(Ki,vs),f}finally{je=i,Fd=!1}}return null}var pa=[],ga=0,Tu=null,Iu=0,yr=[],vr=0,gi=null,jn=1,Dn="";function yi(r,i){pa[ga++]=Iu,pa[ga++]=Tu,Tu=r,Iu=i}function vp(r,i,o){yr[vr++]=jn,yr[vr++]=Dn,yr[vr++]=gi,gi=r;var d=jn;r=Dn;var f=32-ir(d)-1;d&=~(1<<f),o+=1;var p=32-ir(i)+f;if(30<p){var w=f-f%5;p=(d&(1<<w)-1).toString(32),d>>=w,f-=w,jn=1<<32-ir(i)+f|o<<f|d,Dn=p+r}else jn=1<<p|o<<f|d,Dn=r}function Ud(r){r.return!==null&&(yi(r,1),vp(r,1,0))}function zd(r){for(;r===Tu;)Tu=pa[--ga],pa[ga]=null,Iu=pa[--ga],pa[ga]=null;for(;r===gi;)gi=yr[--vr],yr[vr]=null,Dn=yr[--vr],yr[vr]=null,jn=yr[--vr],yr[vr]=null}var cr=null,dr=null,tt=!1,jr=null;function xp(r,i){var o=Er(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=r,i=r.deletions,i===null?(r.deletions=[o],r.flags|=16):i.push(o)}function _p(r,i){switch(r.tag){case 5:var o=r.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,cr=r,dr=ps(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,cr=r,dr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=gi!==null?{id:jn,overflow:Dn}:null,r.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Er(18,null,null,0),o.stateNode=i,o.return=r,r.child=o,cr=r,dr=null,!0):!1;default:return!1}}function Bd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function $d(r){if(tt){var i=dr;if(i){var o=i;if(!_p(r,i)){if(Bd(r))throw Error(t(418));i=ps(o.nextSibling);var d=cr;i&&_p(r,i)?xp(d,o):(r.flags=r.flags&-4097|2,tt=!1,cr=r)}}else{if(Bd(r))throw Error(t(418));r.flags=r.flags&-4097|2,tt=!1,cr=r}}}function wp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;cr=r}function bu(r){if(r!==cr)return!1;if(!tt)return wp(r),tt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Dd(r.type,r.memoizedProps)),i&&(i=dr)){if(Bd(r))throw Ep(),Error(t(418));for(;i;)xp(r,i),i=ps(i.nextSibling)}if(wp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(i===0){dr=ps(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}r=r.nextSibling}dr=null}}else dr=cr?ps(r.stateNode.nextSibling):null;return!0}function Ep(){for(var r=dr;r;)r=ps(r.nextSibling)}function ya(){dr=cr=null,tt=!1}function qd(r){jr===null?jr=[r]:jr.push(r)}var Tw=ee.ReactCurrentBatchConfig;function Oo(r,i,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var d=o.stateNode}if(!d)throw Error(t(147,r));var f=d,p=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===p?i.ref:(i=function(w){var b=f.refs;w===null?delete b[p]:b[p]=w},i._stringRef=p,i)}if(typeof r!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,r))}return r}function Su(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function kp(r){var i=r._init;return i(r._payload)}function Tp(r){function i(U,D){if(r){var B=U.deletions;B===null?(U.deletions=[D],U.flags|=16):B.push(D)}}function o(U,D){if(!r)return null;for(;D!==null;)i(U,D),D=D.sibling;return null}function d(U,D){for(U=new Map;D!==null;)D.key!==null?U.set(D.key,D):U.set(D.index,D),D=D.sibling;return U}function f(U,D){return U=bs(U,D),U.index=0,U.sibling=null,U}function p(U,D,B){return U.index=B,r?(B=U.alternate,B!==null?(B=B.index,B<D?(U.flags|=2,D):B):(U.flags|=2,D)):(U.flags|=1048576,D)}function w(U){return r&&U.alternate===null&&(U.flags|=2),U}function b(U,D,B,re){return D===null||D.tag!==6?(D=Vh(B,U.mode,re),D.return=U,D):(D=f(D,B),D.return=U,D)}function C(U,D,B,re){var fe=B.type;return fe===N?X(U,D,B.props.children,re,B.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===kt&&kp(fe)===D.type)?(re=f(D,B.props),re.ref=Oo(U,D,B),re.return=U,re):(re=Ju(B.type,B.key,B.props,null,U.mode,re),re.ref=Oo(U,D,B),re.return=U,re)}function $(U,D,B,re){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Lh(B,U.mode,re),D.return=U,D):(D=f(D,B.children||[]),D.return=U,D)}function X(U,D,B,re,fe){return D===null||D.tag!==7?(D=Ii(B,U.mode,re,fe),D.return=U,D):(D=f(D,B),D.return=U,D)}function Z(U,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Vh(""+D,U.mode,B),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case me:return B=Ju(D.type,D.key,D.props,null,U.mode,B),B.ref=Oo(U,null,D),B.return=U,B;case te:return D=Lh(D,U.mode,B),D.return=U,D;case kt:var re=D._init;return Z(U,re(D._payload),B)}if(lt(D)||pe(D))return D=Ii(D,U.mode,B,null),D.return=U,D;Su(U,D)}return null}function J(U,D,B,re){var fe=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return fe!==null?null:b(U,D,""+B,re);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case me:return B.key===fe?C(U,D,B,re):null;case te:return B.key===fe?$(U,D,B,re):null;case kt:return fe=B._init,J(U,D,fe(B._payload),re)}if(lt(B)||pe(B))return fe!==null?null:X(U,D,B,re,null);Su(U,B)}return null}function oe(U,D,B,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number")return U=U.get(B)||null,b(D,U,""+re,fe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case me:return U=U.get(re.key===null?B:re.key)||null,C(D,U,re,fe);case te:return U=U.get(re.key===null?B:re.key)||null,$(D,U,re,fe);case kt:var ye=re._init;return oe(U,D,B,ye(re._payload),fe)}if(lt(re)||pe(re))return U=U.get(B)||null,X(D,U,re,fe,null);Su(D,re)}return null}function de(U,D,B,re){for(var fe=null,ye=null,ve=D,we=D=0,bt=null;ve!==null&&we<B.length;we++){ve.index>we?(bt=ve,ve=null):bt=ve.sibling;var Fe=J(U,ve,B[we],re);if(Fe===null){ve===null&&(ve=bt);break}r&&ve&&Fe.alternate===null&&i(U,ve),D=p(Fe,D,we),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe,ve=bt}if(we===B.length)return o(U,ve),tt&&yi(U,we),fe;if(ve===null){for(;we<B.length;we++)ve=Z(U,B[we],re),ve!==null&&(D=p(ve,D,we),ye===null?fe=ve:ye.sibling=ve,ye=ve);return tt&&yi(U,we),fe}for(ve=d(U,ve);we<B.length;we++)bt=oe(ve,U,we,B[we],re),bt!==null&&(r&&bt.alternate!==null&&ve.delete(bt.key===null?we:bt.key),D=p(bt,D,we),ye===null?fe=bt:ye.sibling=bt,ye=bt);return r&&ve.forEach(function(Ss){return i(U,Ss)}),tt&&yi(U,we),fe}function he(U,D,B,re){var fe=pe(B);if(typeof fe!="function")throw Error(t(150));if(B=fe.call(B),B==null)throw Error(t(151));for(var ye=fe=null,ve=D,we=D=0,bt=null,Fe=B.next();ve!==null&&!Fe.done;we++,Fe=B.next()){ve.index>we?(bt=ve,ve=null):bt=ve.sibling;var Ss=J(U,ve,Fe.value,re);if(Ss===null){ve===null&&(ve=bt);break}r&&ve&&Ss.alternate===null&&i(U,ve),D=p(Ss,D,we),ye===null?fe=Ss:ye.sibling=Ss,ye=Ss,ve=bt}if(Fe.done)return o(U,ve),tt&&yi(U,we),fe;if(ve===null){for(;!Fe.done;we++,Fe=B.next())Fe=Z(U,Fe.value,re),Fe!==null&&(D=p(Fe,D,we),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return tt&&yi(U,we),fe}for(ve=d(U,ve);!Fe.done;we++,Fe=B.next())Fe=oe(ve,U,we,Fe.value,re),Fe!==null&&(r&&Fe.alternate!==null&&ve.delete(Fe.key===null?we:Fe.key),D=p(Fe,D,we),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return r&&ve.forEach(function(nE){return i(U,nE)}),tt&&yi(U,we),fe}function ct(U,D,B,re){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case me:e:{for(var fe=B.key,ye=D;ye!==null;){if(ye.key===fe){if(fe=B.type,fe===N){if(ye.tag===7){o(U,ye.sibling),D=f(ye,B.props.children),D.return=U,U=D;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===kt&&kp(fe)===ye.type){o(U,ye.sibling),D=f(ye,B.props),D.ref=Oo(U,ye,B),D.return=U,U=D;break e}o(U,ye);break}else i(U,ye);ye=ye.sibling}B.type===N?(D=Ii(B.props.children,U.mode,re,B.key),D.return=U,U=D):(re=Ju(B.type,B.key,B.props,null,U.mode,re),re.ref=Oo(U,D,B),re.return=U,U=re)}return w(U);case te:e:{for(ye=B.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){o(U,D.sibling),D=f(D,B.children||[]),D.return=U,U=D;break e}else{o(U,D);break}else i(U,D);D=D.sibling}D=Lh(B,U.mode,re),D.return=U,U=D}return w(U);case kt:return ye=B._init,ct(U,D,ye(B._payload),re)}if(lt(B))return de(U,D,B,re);if(pe(B))return he(U,D,B,re);Su(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,D!==null&&D.tag===6?(o(U,D.sibling),D=f(D,B),D.return=U,U=D):(o(U,D),D=Vh(B,U.mode,re),D.return=U,U=D),w(U)):o(U,D)}return ct}var va=Tp(!0),Ip=Tp(!1),Nu=gs(null),Au=null,xa=null,Hd=null;function Wd(){Hd=xa=Au=null}function Gd(r){var i=Nu.current;Ze(Nu),r._currentValue=i}function Kd(r,i,o){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===o)break;r=r.return}}function _a(r,i){Au=r,Hd=xa=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Xt=!0),r.firstContext=null)}function xr(r){var i=r._currentValue;if(Hd!==r)if(r={context:r,memoizedValue:i,next:null},xa===null){if(Au===null)throw Error(t(308));xa=r,Au.dependencies={lanes:0,firstContext:r}}else xa=xa.next=r;return i}var vi=null;function Qd(r){vi===null?vi=[r]:vi.push(r)}function bp(r,i,o,d){var f=i.interleaved;return f===null?(o.next=o,Qd(i)):(o.next=f.next,f.next=o),i.interleaved=o,Vn(r,d)}function Vn(r,i){r.lanes|=i;var o=r.alternate;for(o!==null&&(o.lanes|=i),o=r,r=r.return;r!==null;)r.childLanes|=i,o=r.alternate,o!==null&&(o.childLanes|=i),o=r,r=r.return;return o.tag===3?o.stateNode:null}var xs=!1;function Yd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ln(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function _s(r,i,o){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var f=d.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),d.pending=i,Vn(r,o)}return f=d.interleaved,f===null?(i.next=i,Qd(d)):(i.next=f.next,f.next=i),d.interleaved=i,Vn(r,o)}function Cu(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,o|=d,i.lanes=o,xo(r,o)}}function Np(r,i){var o=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var w={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=w:p=p.next=w,o=o.next}while(o!==null);p===null?f=p=i:p=p.next=i}else f=p=i;o={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:d.shared,effects:d.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}function Ru(r,i,o,d){var f=r.updateQueue;xs=!1;var p=f.firstBaseUpdate,w=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var C=b,$=C.next;C.next=null,w===null?p=$:w.next=$,w=C;var X=r.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==w&&(b===null?X.firstBaseUpdate=$:b.next=$,X.lastBaseUpdate=C))}if(p!==null){var Z=f.baseState;w=0,X=$=C=null,b=p;do{var J=b.lane,oe=b.eventTime;if((d&J)===J){X!==null&&(X=X.next={eventTime:oe,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var de=r,he=b;switch(J=i,oe=o,he.tag){case 1:if(de=he.payload,typeof de=="function"){Z=de.call(oe,Z,J);break e}Z=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=he.payload,J=typeof de=="function"?de.call(oe,Z,J):de,J==null)break e;Z=ue({},Z,J);break e;case 2:xs=!0}}b.callback!==null&&b.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[b]:J.push(b))}else oe={eventTime:oe,lane:J,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?($=X=oe,C=Z):X=X.next=oe,w|=J;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;J=b,b=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(X===null&&(C=Z),f.baseState=C,f.firstBaseUpdate=$,f.lastBaseUpdate=X,i=f.shared.interleaved,i!==null){f=i;do w|=f.lane,f=f.next;while(f!==i)}else p===null&&(f.shared.lanes=0);wi|=w,r.lanes=w,r.memoizedState=Z}}function Ap(r,i,o){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],f=d.callback;if(f!==null){if(d.callback=null,d=o,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var Fo={},on=gs(Fo),Uo=gs(Fo),zo=gs(Fo);function xi(r){if(r===Fo)throw Error(t(174));return r}function Jd(r,i){switch(Qe(zo,i),Qe(Uo,r),Qe(on,Fo),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Bi(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Bi(i,r)}Ze(on),Qe(on,i)}function wa(){Ze(on),Ze(Uo),Ze(zo)}function Cp(r){xi(zo.current);var i=xi(on.current),o=Bi(i,r.type);i!==o&&(Qe(Uo,r),Qe(on,o))}function Xd(r){Uo.current===r&&(Ze(on),Ze(Uo))}var nt=gs(0);function Pu(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zd=[];function eh(){for(var r=0;r<Zd.length;r++)Zd[r]._workInProgressVersionPrimary=null;Zd.length=0}var ju=ee.ReactCurrentDispatcher,th=ee.ReactCurrentBatchConfig,_i=0,st=null,_t=null,Tt=null,Du=!1,Bo=!1,$o=0,Iw=0;function Ft(){throw Error(t(321))}function rh(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Pr(r[o],i[o]))return!1;return!0}function nh(r,i,o,d,f,p){if(_i=p,st=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ju.current=r===null||r.memoizedState===null?Aw:Cw,r=o(d,f),Bo){p=0;do{if(Bo=!1,$o=0,25<=p)throw Error(t(301));p+=1,Tt=_t=null,i.updateQueue=null,ju.current=Rw,r=o(d,f)}while(Bo)}if(ju.current=Mu,i=_t!==null&&_t.next!==null,_i=0,Tt=_t=st=null,Du=!1,i)throw Error(t(300));return r}function sh(){var r=$o!==0;return $o=0,r}function ln(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?st.memoizedState=Tt=r:Tt=Tt.next=r,Tt}function _r(){if(_t===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var i=Tt===null?st.memoizedState:Tt.next;if(i!==null)Tt=i,_t=r;else{if(r===null)throw Error(t(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Tt===null?st.memoizedState=Tt=r:Tt=Tt.next=r}return Tt}function qo(r,i){return typeof i=="function"?i(r):i}function ih(r){var i=_r(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=r;var d=_t,f=d.baseQueue,p=o.pending;if(p!==null){if(f!==null){var w=f.next;f.next=p.next,p.next=w}d.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,d=d.baseState;var b=w=null,C=null,$=p;do{var X=$.lane;if((_i&X)===X)C!==null&&(C=C.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),d=$.hasEagerState?$.eagerState:r(d,$.action);else{var Z={lane:X,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};C===null?(b=C=Z,w=d):C=C.next=Z,st.lanes|=X,wi|=X}$=$.next}while($!==null&&$!==p);C===null?w=d:C.next=b,Pr(d,i.memoizedState)||(Xt=!0),i.memoizedState=d,i.baseState=w,i.baseQueue=C,o.lastRenderedState=d}if(r=o.interleaved,r!==null){f=r;do p=f.lane,st.lanes|=p,wi|=p,f=f.next;while(f!==r)}else f===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function ah(r){var i=_r(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=r;var d=o.dispatch,f=o.pending,p=i.memoizedState;if(f!==null){o.pending=null;var w=f=f.next;do p=r(p,w.action),w=w.next;while(w!==f);Pr(p,i.memoizedState)||(Xt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,d]}function Rp(){}function Pp(r,i){var o=st,d=_r(),f=i(),p=!Pr(d.memoizedState,f);if(p&&(d.memoizedState=f,Xt=!0),d=d.queue,oh(Vp.bind(null,o,d,r),[r]),d.getSnapshot!==i||p||Tt!==null&&Tt.memoizedState.tag&1){if(o.flags|=2048,Ho(9,Dp.bind(null,o,d,f,i),void 0,null),It===null)throw Error(t(349));(_i&30)!==0||jp(o,i,f)}return f}function jp(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=st.updateQueue,i===null?(i={lastEffect:null,stores:null},st.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function Dp(r,i,o,d){i.value=o,i.getSnapshot=d,Lp(i)&&Mp(r)}function Vp(r,i,o){return o(function(){Lp(i)&&Mp(r)})}function Lp(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Pr(r,o)}catch{return!0}}function Mp(r){var i=Vn(r,1);i!==null&&Mr(i,r,1,-1)}function Op(r){var i=ln();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:r},i.queue=r,r=r.dispatch=Nw.bind(null,st,r),[i.memoizedState,r]}function Ho(r,i,o,d){return r={tag:r,create:i,destroy:o,deps:d,next:null},i=st.updateQueue,i===null?(i={lastEffect:null,stores:null},st.updateQueue=i,i.lastEffect=r.next=r):(o=i.lastEffect,o===null?i.lastEffect=r.next=r:(d=o.next,o.next=r,r.next=d,i.lastEffect=r)),r}function Fp(){return _r().memoizedState}function Vu(r,i,o,d){var f=ln();st.flags|=r,f.memoizedState=Ho(1|i,o,void 0,d===void 0?null:d)}function Lu(r,i,o,d){var f=_r();d=d===void 0?null:d;var p=void 0;if(_t!==null){var w=_t.memoizedState;if(p=w.destroy,d!==null&&rh(d,w.deps)){f.memoizedState=Ho(i,o,p,d);return}}st.flags|=r,f.memoizedState=Ho(1|i,o,p,d)}function Up(r,i){return Vu(8390656,8,r,i)}function oh(r,i){return Lu(2048,8,r,i)}function zp(r,i){return Lu(4,2,r,i)}function Bp(r,i){return Lu(4,4,r,i)}function $p(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function qp(r,i,o){return o=o!=null?o.concat([r]):null,Lu(4,4,$p.bind(null,i,r),o)}function lh(){}function Hp(r,i){var o=_r();i=i===void 0?null:i;var d=o.memoizedState;return d!==null&&i!==null&&rh(i,d[1])?d[0]:(o.memoizedState=[r,i],r)}function Wp(r,i){var o=_r();i=i===void 0?null:i;var d=o.memoizedState;return d!==null&&i!==null&&rh(i,d[1])?d[0]:(r=r(),o.memoizedState=[r,i],r)}function Gp(r,i,o){return(_i&21)===0?(r.baseState&&(r.baseState=!1,Xt=!0),r.memoizedState=o):(Pr(o,i)||(o=yo(),st.lanes|=o,wi|=o,r.baseState=!0),i)}function bw(r,i){var o=je;je=o!==0&&4>o?o:4,r(!0);var d=th.transition;th.transition={};try{r(!1),i()}finally{je=o,th.transition=d}}function Kp(){return _r().memoizedState}function Sw(r,i,o){var d=Ts(r);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},Qp(r))Yp(i,o);else if(o=bp(r,i,o,d),o!==null){var f=Kt();Mr(o,r,d,f),Jp(o,i,d)}}function Nw(r,i,o){var d=Ts(r),f={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(Qp(r))Yp(i,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var w=i.lastRenderedState,b=p(w,o);if(f.hasEagerState=!0,f.eagerState=b,Pr(b,w)){var C=i.interleaved;C===null?(f.next=f,Qd(i)):(f.next=C.next,C.next=f),i.interleaved=f;return}}catch{}finally{}o=bp(r,i,f,d),o!==null&&(f=Kt(),Mr(o,r,d,f),Jp(o,i,d))}}function Qp(r){var i=r.alternate;return r===st||i!==null&&i===st}function Yp(r,i){Bo=Du=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Jp(r,i,o){if((o&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,o|=d,i.lanes=o,xo(r,o)}}var Mu={readContext:xr,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Aw={readContext:xr,useCallback:function(r,i){return ln().memoizedState=[r,i===void 0?null:i],r},useContext:xr,useEffect:Up,useImperativeHandle:function(r,i,o){return o=o!=null?o.concat([r]):null,Vu(4194308,4,$p.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Vu(4194308,4,r,i)},useInsertionEffect:function(r,i){return Vu(4,2,r,i)},useMemo:function(r,i){var o=ln();return i=i===void 0?null:i,r=r(),o.memoizedState=[r,i],r},useReducer:function(r,i,o){var d=ln();return i=o!==void 0?o(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=Sw.bind(null,st,r),[d.memoizedState,r]},useRef:function(r){var i=ln();return r={current:r},i.memoizedState=r},useState:Op,useDebugValue:lh,useDeferredValue:function(r){return ln().memoizedState=r},useTransition:function(){var r=Op(!1),i=r[0];return r=bw.bind(null,r[1]),ln().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,o){var d=st,f=ln();if(tt){if(o===void 0)throw Error(t(407));o=o()}else{if(o=i(),It===null)throw Error(t(349));(_i&30)!==0||jp(d,i,o)}f.memoizedState=o;var p={value:o,getSnapshot:i};return f.queue=p,Up(Vp.bind(null,d,p,r),[r]),d.flags|=2048,Ho(9,Dp.bind(null,d,p,o,i),void 0,null),o},useId:function(){var r=ln(),i=It.identifierPrefix;if(tt){var o=Dn,d=jn;o=(d&~(1<<32-ir(d)-1)).toString(32)+o,i=":"+i+"R"+o,o=$o++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=Iw++,i=":"+i+"r"+o.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Cw={readContext:xr,useCallback:Hp,useContext:xr,useEffect:oh,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Wp,useReducer:ih,useRef:Fp,useState:function(){return ih(qo)},useDebugValue:lh,useDeferredValue:function(r){var i=_r();return Gp(i,_t.memoizedState,r)},useTransition:function(){var r=ih(qo)[0],i=_r().memoizedState;return[r,i]},useMutableSource:Rp,useSyncExternalStore:Pp,useId:Kp,unstable_isNewReconciler:!1},Rw={readContext:xr,useCallback:Hp,useContext:xr,useEffect:oh,useImperativeHandle:qp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Wp,useReducer:ah,useRef:Fp,useState:function(){return ah(qo)},useDebugValue:lh,useDeferredValue:function(r){var i=_r();return _t===null?i.memoizedState=r:Gp(i,_t.memoizedState,r)},useTransition:function(){var r=ah(qo)[0],i=_r().memoizedState;return[r,i]},useMutableSource:Rp,useSyncExternalStore:Pp,useId:Kp,unstable_isNewReconciler:!1};function Dr(r,i){if(r&&r.defaultProps){i=ue({},i),r=r.defaultProps;for(var o in r)i[o]===void 0&&(i[o]=r[o]);return i}return i}function uh(r,i,o,d){i=r.memoizedState,o=o(d,i),o=o==null?i:ue({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Ou={isMounted:function(r){return(r=r._reactInternals)?Cr(r)===r:!1},enqueueSetState:function(r,i,o){r=r._reactInternals;var d=Kt(),f=Ts(r),p=Ln(d,f);p.payload=i,o!=null&&(p.callback=o),i=_s(r,p,f),i!==null&&(Mr(i,r,f,d),Cu(i,r,f))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var d=Kt(),f=Ts(r),p=Ln(d,f);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=_s(r,p,f),i!==null&&(Mr(i,r,f,d),Cu(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Kt(),d=Ts(r),f=Ln(o,d);f.tag=2,i!=null&&(f.callback=i),i=_s(r,f,d),i!==null&&(Mr(i,r,d,o),Cu(i,r,d))}};function Xp(r,i,o,d,f,p,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,p,w):i.prototype&&i.prototype.isPureReactComponent?!Ro(o,d)||!Ro(f,p):!0}function Zp(r,i,o){var d=!1,f=ys,p=i.contextType;return typeof p=="object"&&p!==null?p=xr(p):(f=Jt(i)?pi:Ot.current,d=i.contextTypes,p=(d=d!=null)?ma(r,f):ys),i=new i(o,p),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ou,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=p),i}function eg(r,i,o,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==r&&Ou.enqueueReplaceState(i,i.state,null)}function ch(r,i,o,d){var f=r.stateNode;f.props=o,f.state=r.memoizedState,f.refs={},Yd(r);var p=i.contextType;typeof p=="object"&&p!==null?f.context=xr(p):(p=Jt(i)?pi:Ot.current,f.context=ma(r,p)),f.state=r.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(uh(r,i,p,o),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Ou.enqueueReplaceState(f,f.state,null),Ru(r,o,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Ea(r,i){try{var o="",d=i;do o+=Ne(d),d=d.return;while(d);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:i,stack:f,digest:null}}function dh(r,i,o){return{value:r,source:null,stack:o??null,digest:i??null}}function hh(r,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Pw=typeof WeakMap=="function"?WeakMap:Map;function tg(r,i,o){o=Ln(-1,o),o.tag=3,o.payload={element:null};var d=i.value;return o.callback=function(){Hu||(Hu=!0,Sh=d),hh(r,i)},o}function rg(r,i,o){o=Ln(-1,o),o.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=i.value;o.payload=function(){return d(f)},o.callback=function(){hh(r,i)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){hh(r,i),typeof d!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),o}function ng(r,i,o){var d=r.pingCache;if(d===null){d=r.pingCache=new Pw;var f=new Set;d.set(i,f)}else f=d.get(i),f===void 0&&(f=new Set,d.set(i,f));f.has(o)||(f.add(o),r=Ww.bind(null,r,i,o),i.then(r,r))}function sg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function ig(r,i,o,d,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=Ln(-1,1),i.tag=2,_s(o,i,1))),o.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var jw=ee.ReactCurrentOwner,Xt=!1;function Gt(r,i,o,d){i.child=r===null?Ip(i,null,o,d):va(i,r.child,o,d)}function ag(r,i,o,d,f){o=o.render;var p=i.ref;return _a(i,f),d=nh(r,i,o,d,p,f),o=sh(),r!==null&&!Xt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Mn(r,i,f)):(tt&&o&&Ud(i),i.flags|=1,Gt(r,i,d,f),i.child)}function og(r,i,o,d,f){if(r===null){var p=o.type;return typeof p=="function"&&!Dh(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=p,lg(r,i,p,d,f)):(r=Ju(o.type,null,d,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,(r.lanes&f)===0){var w=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ro,o(w,d)&&r.ref===i.ref)return Mn(r,i,f)}return i.flags|=1,r=bs(p,d),r.ref=i.ref,r.return=i,i.child=r}function lg(r,i,o,d,f){if(r!==null){var p=r.memoizedProps;if(Ro(p,d)&&r.ref===i.ref)if(Xt=!1,i.pendingProps=d=p,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Xt=!0);else return i.lanes=r.lanes,Mn(r,i,f)}return fh(r,i,o,d,f)}function ug(r,i,o){var d=i.pendingProps,f=d.children,p=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ta,hr),hr|=o;else{if((o&1073741824)===0)return r=p!==null?p.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Qe(Ta,hr),hr|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=p!==null?p.baseLanes:o,Qe(Ta,hr),hr|=d}else p!==null?(d=p.baseLanes|o,i.memoizedState=null):d=o,Qe(Ta,hr),hr|=d;return Gt(r,i,f,o),i.child}function cg(r,i){var o=i.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function fh(r,i,o,d,f){var p=Jt(o)?pi:Ot.current;return p=ma(i,p),_a(i,f),o=nh(r,i,o,d,p,f),d=sh(),r!==null&&!Xt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Mn(r,i,f)):(tt&&d&&Ud(i),i.flags|=1,Gt(r,i,o,f),i.child)}function dg(r,i,o,d,f){if(Jt(o)){var p=!0;Eu(i)}else p=!1;if(_a(i,f),i.stateNode===null)Uu(r,i),Zp(i,o,d),ch(i,o,d,f),d=!0;else if(r===null){var w=i.stateNode,b=i.memoizedProps;w.props=b;var C=w.context,$=o.contextType;typeof $=="object"&&$!==null?$=xr($):($=Jt(o)?pi:Ot.current,$=ma(i,$));var X=o.getDerivedStateFromProps,Z=typeof X=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(b!==d||C!==$)&&eg(i,w,d,$),xs=!1;var J=i.memoizedState;w.state=J,Ru(i,d,w,f),C=i.memoizedState,b!==d||J!==C||Yt.current||xs?(typeof X=="function"&&(uh(i,o,X,d),C=i.memoizedState),(b=xs||Xp(i,o,b,d,J,C,$))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=C),w.props=d,w.state=C,w.context=$,d=b):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{w=i.stateNode,Sp(r,i),b=i.memoizedProps,$=i.type===i.elementType?b:Dr(i.type,b),w.props=$,Z=i.pendingProps,J=w.context,C=o.contextType,typeof C=="object"&&C!==null?C=xr(C):(C=Jt(o)?pi:Ot.current,C=ma(i,C));var oe=o.getDerivedStateFromProps;(X=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(b!==Z||J!==C)&&eg(i,w,d,C),xs=!1,J=i.memoizedState,w.state=J,Ru(i,d,w,f);var de=i.memoizedState;b!==Z||J!==de||Yt.current||xs?(typeof oe=="function"&&(uh(i,o,oe,d),de=i.memoizedState),($=xs||Xp(i,o,$,d,J,de,C)||!1)?(X||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,de,C),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,de,C)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=de),w.props=d,w.state=de,w.context=C,d=$):(typeof w.componentDidUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),d=!1)}return mh(r,i,o,d,p,f)}function mh(r,i,o,d,f,p){cg(r,i);var w=(i.flags&128)!==0;if(!d&&!w)return f&&gp(i,o,!1),Mn(r,i,p);d=i.stateNode,jw.current=i;var b=w&&typeof o.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&w?(i.child=va(i,r.child,null,p),i.child=va(i,null,b,p)):Gt(r,i,b,p),i.memoizedState=d.state,f&&gp(i,o,!0),i.child}function hg(r){var i=r.stateNode;i.pendingContext?mp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&mp(r,i.context,!1),Jd(r,i.containerInfo)}function fg(r,i,o,d,f){return ya(),qd(f),i.flags|=256,Gt(r,i,o,d),i.child}var ph={dehydrated:null,treeContext:null,retryLane:0};function gh(r){return{baseLanes:r,cachePool:null,transitions:null}}function mg(r,i,o){var d=i.pendingProps,f=nt.current,p=!1,w=(i.flags&128)!==0,b;if((b=w)||(b=r!==null&&r.memoizedState===null?!1:(f&2)!==0),b?(p=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Qe(nt,f&1),r===null)return $d(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=d.children,r=d.fallback,p?(d=i.mode,p=i.child,w={mode:"hidden",children:w},(d&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=Xu(w,d,0,null),r=Ii(r,d,o,null),p.return=i,r.return=i,p.sibling=r,i.child=p,i.child.memoizedState=gh(o),i.memoizedState=ph,r):yh(i,w));if(f=r.memoizedState,f!==null&&(b=f.dehydrated,b!==null))return Dw(r,i,w,d,b,f,o);if(p){p=d.fallback,w=i.mode,f=r.child,b=f.sibling;var C={mode:"hidden",children:d.children};return(w&1)===0&&i.child!==f?(d=i.child,d.childLanes=0,d.pendingProps=C,i.deletions=null):(d=bs(f,C),d.subtreeFlags=f.subtreeFlags&14680064),b!==null?p=bs(b,p):(p=Ii(p,w,o,null),p.flags|=2),p.return=i,d.return=i,d.sibling=p,i.child=d,d=p,p=i.child,w=r.child.memoizedState,w=w===null?gh(o):{baseLanes:w.baseLanes|o,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=r.childLanes&~o,i.memoizedState=ph,d}return p=r.child,r=p.sibling,d=bs(p,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=o),d.return=i,d.sibling=null,r!==null&&(o=i.deletions,o===null?(i.deletions=[r],i.flags|=16):o.push(r)),i.child=d,i.memoizedState=null,d}function yh(r,i){return i=Xu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Fu(r,i,o,d){return d!==null&&qd(d),va(i,r.child,null,o),r=yh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Dw(r,i,o,d,f,p,w){if(o)return i.flags&256?(i.flags&=-257,d=dh(Error(t(422))),Fu(r,i,w,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(p=d.fallback,f=i.mode,d=Xu({mode:"visible",children:d.children},f,0,null),p=Ii(p,f,w,null),p.flags|=2,d.return=i,p.return=i,d.sibling=p,i.child=d,(i.mode&1)!==0&&va(i,r.child,null,w),i.child.memoizedState=gh(w),i.memoizedState=ph,p);if((i.mode&1)===0)return Fu(r,i,w,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var b=d.dgst;return d=b,p=Error(t(419)),d=dh(p,d,void 0),Fu(r,i,w,d)}if(b=(w&r.childLanes)!==0,Xt||b){if(d=It,d!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|w))!==0?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,Vn(r,f),Mr(d,r,f,-1))}return jh(),d=dh(Error(t(421))),Fu(r,i,w,d)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=Gw.bind(null,r),f._reactRetry=i,null):(r=p.treeContext,dr=ps(f.nextSibling),cr=i,tt=!0,jr=null,r!==null&&(yr[vr++]=jn,yr[vr++]=Dn,yr[vr++]=gi,jn=r.id,Dn=r.overflow,gi=i),i=yh(i,d.children),i.flags|=4096,i)}function pg(r,i,o){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),Kd(r.return,i,o)}function vh(r,i,o,d,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=d,p.tail=o,p.tailMode=f)}function gg(r,i,o){var d=i.pendingProps,f=d.revealOrder,p=d.tail;if(Gt(r,i,d.children,o),d=nt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&pg(r,o,i);else if(r.tag===19)pg(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Qe(nt,d),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(o=i.child,f=null;o!==null;)r=o.alternate,r!==null&&Pu(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),vh(i,!1,f,o,p);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Pu(r)===null){i.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}vh(i,!0,o,null,p);break;case"together":vh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Uu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Mn(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),wi|=i.lanes,(o&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,o=bs(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=bs(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function Vw(r,i,o){switch(i.tag){case 3:hg(i),ya();break;case 5:Cp(i);break;case 1:Jt(i.type)&&Eu(i);break;case 4:Jd(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,f=i.memoizedProps.value;Qe(Nu,d._currentValue),d._currentValue=f;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Qe(nt,nt.current&1),i.flags|=128,null):(o&i.child.childLanes)!==0?mg(r,i,o):(Qe(nt,nt.current&1),r=Mn(r,i,o),r!==null?r.sibling:null);Qe(nt,nt.current&1);break;case 19:if(d=(o&i.childLanes)!==0,(r.flags&128)!==0){if(d)return gg(r,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(nt,nt.current),d)break;return null;case 22:case 23:return i.lanes=0,ug(r,i,o)}return Mn(r,i,o)}var yg,xh,vg,xg;yg=function(r,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},xh=function(){},vg=function(r,i,o,d){var f=r.memoizedProps;if(f!==d){r=i.stateNode,xi(on.current);var p=null;switch(o){case"input":f=Ui(r,f),d=Ui(r,d),p=[];break;case"select":f=ue({},f,{value:void 0}),d=ue({},d,{value:void 0}),p=[];break;case"textarea":f=io(r,f),d=io(r,d),p=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=xu)}Ar(o,d);var w;o=null;for($ in f)if(!d.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var b=f[$];for(w in b)b.hasOwnProperty(w)&&(o||(o={}),o[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(a.hasOwnProperty($)?p||(p=[]):(p=p||[]).push($,null));for($ in d){var C=d[$];if(b=f?.[$],d.hasOwnProperty($)&&C!==b&&(C!=null||b!=null))if($==="style")if(b){for(w in b)!b.hasOwnProperty(w)||C&&C.hasOwnProperty(w)||(o||(o={}),o[w]="");for(w in C)C.hasOwnProperty(w)&&b[w]!==C[w]&&(o||(o={}),o[w]=C[w])}else o||(p||(p=[]),p.push($,o)),o=C;else $==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,b=b?b.__html:void 0,C!=null&&b!==C&&(p=p||[]).push($,C)):$==="children"?typeof C!="string"&&typeof C!="number"||(p=p||[]).push($,""+C):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(a.hasOwnProperty($)?(C!=null&&$==="onScroll"&&Xe("scroll",r),p||b===C||(p=[])):(p=p||[]).push($,C))}o&&(p=p||[]).push("style",o);var $=p;(i.updateQueue=$)&&(i.flags|=4)}},xg=function(r,i,o,d){o!==d&&(i.flags|=4)};function Wo(r,i){if(!tt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ut(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,d=0;if(i)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=o,i}function Lw(r,i,o){var d=i.pendingProps;switch(zd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return Jt(i.type)&&wu(),Ut(i),null;case 3:return d=i.stateNode,wa(),Ze(Yt),Ze(Ot),eh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(bu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jr!==null&&(Ch(jr),jr=null))),xh(r,i),Ut(i),null;case 5:Xd(i);var f=xi(zo.current);if(o=i.type,r!==null&&i.stateNode!=null)vg(r,i,o,d,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return Ut(i),null}if(r=xi(on.current),bu(i)){d=i.stateNode,o=i.type;var p=i.memoizedProps;switch(d[an]=i,d[Lo]=p,r=(i.mode&1)!==0,o){case"dialog":Xe("cancel",d),Xe("close",d);break;case"iframe":case"object":case"embed":Xe("load",d);break;case"video":case"audio":for(f=0;f<jo.length;f++)Xe(jo[f],d);break;case"source":Xe("error",d);break;case"img":case"image":case"link":Xe("error",d),Xe("load",d);break;case"details":Xe("toggle",d);break;case"input":ql(d,p),Xe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!p.multiple},Xe("invalid",d);break;case"textarea":ao(d,p),Xe("invalid",d)}Ar(o,p),f=null;for(var w in p)if(p.hasOwnProperty(w)){var b=p[w];w==="children"?typeof b=="string"?d.textContent!==b&&(p.suppressHydrationWarning!==!0&&vu(d.textContent,b,r),f=["children",b]):typeof b=="number"&&d.textContent!==""+b&&(p.suppressHydrationWarning!==!0&&vu(d.textContent,b,r),f=["children",""+b]):a.hasOwnProperty(w)&&b!=null&&w==="onScroll"&&Xe("scroll",d)}switch(o){case"input":Fi(d),so(d,p,!0);break;case"textarea":Fi(d),Zn(d);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(d.onclick=xu)}d=f,i.updateQueue=d,d!==null&&(i.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=oo(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(o,{is:d.is}):(r=w.createElement(o),o==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,o),r[an]=i,r[Lo]=d,yg(r,i,!1,!1),i.stateNode=r;e:{switch(w=qi(o,d),o){case"dialog":Xe("cancel",r),Xe("close",r),f=d;break;case"iframe":case"object":case"embed":Xe("load",r),f=d;break;case"video":case"audio":for(f=0;f<jo.length;f++)Xe(jo[f],r);f=d;break;case"source":Xe("error",r),f=d;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),f=d;break;case"details":Xe("toggle",r),f=d;break;case"input":ql(r,d),f=Ui(r,d),Xe("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=ue({},d,{value:void 0}),Xe("invalid",r);break;case"textarea":ao(r,d),f=io(r,d),Xe("invalid",r);break;default:f=d}Ar(o,f),b=f;for(p in b)if(b.hasOwnProperty(p)){var C=b[p];p==="style"?$i(r,C):p==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Wl(r,C)):p==="children"?typeof C=="string"?(o!=="textarea"||C!=="")&&ei(r,C):typeof C=="number"&&ei(r,""+C):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?C!=null&&p==="onScroll"&&Xe("scroll",r):C!=null&&ne(r,p,C,w))}switch(o){case"input":Fi(r),so(r,d,!1);break;case"textarea":Fi(r),Zn(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Me(d.value));break;case"select":r.multiple=!!d.multiple,p=d.value,p!=null?Nr(r,!!d.multiple,p,!1):d.defaultValue!=null&&Nr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=xu)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ut(i),null;case 6:if(r&&i.stateNode!=null)xg(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(o=xi(zo.current),xi(on.current),bu(i)){if(d=i.stateNode,o=i.memoizedProps,d[an]=i,(p=d.nodeValue!==o)&&(r=cr,r!==null))switch(r.tag){case 3:vu(d.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&vu(d.nodeValue,o,(r.mode&1)!==0)}p&&(i.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[an]=i,i.stateNode=d}return Ut(i),null;case 13:if(Ze(nt),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(tt&&dr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Ep(),ya(),i.flags|=98560,p=!1;else if(p=bu(i),d!==null&&d.dehydrated!==null){if(r===null){if(!p)throw Error(t(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[an]=i}else ya(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),p=!1}else jr!==null&&(Ch(jr),jr=null),p=!0;if(!p)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=o,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(nt.current&1)!==0?wt===0&&(wt=3):jh())),i.updateQueue!==null&&(i.flags|=4),Ut(i),null);case 4:return wa(),xh(r,i),r===null&&Do(i.stateNode.containerInfo),Ut(i),null;case 10:return Gd(i.type._context),Ut(i),null;case 17:return Jt(i.type)&&wu(),Ut(i),null;case 19:if(Ze(nt),p=i.memoizedState,p===null)return Ut(i),null;if(d=(i.flags&128)!==0,w=p.rendering,w===null)if(d)Wo(p,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=Pu(r),w!==null){for(i.flags|=128,Wo(p,!1),d=w.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=o,o=i.child;o!==null;)p=o,r=d,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,r=w.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return Qe(nt,nt.current&1|2),i.child}r=r.sibling}p.tail!==null&&Je()>Ia&&(i.flags|=128,d=!0,Wo(p,!1),i.lanes=4194304)}else{if(!d)if(r=Pu(w),r!==null){if(i.flags|=128,d=!0,o=r.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Wo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!tt)return Ut(i),null}else 2*Je()-p.renderingStartTime>Ia&&o!==1073741824&&(i.flags|=128,d=!0,Wo(p,!1),i.lanes=4194304);p.isBackwards?(w.sibling=i.child,i.child=w):(o=p.last,o!==null?o.sibling=w:i.child=w,p.last=w)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Je(),i.sibling=null,o=nt.current,Qe(nt,d?o&1|2:o&1),i):(Ut(i),null);case 22:case 23:return Ph(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(hr&1073741824)!==0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Mw(r,i){switch(zd(i),i.tag){case 1:return Jt(i.type)&&wu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return wa(),Ze(Yt),Ze(Ot),eh(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Xd(i),null;case 13:if(Ze(nt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ya()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ze(nt),null;case 4:return wa(),null;case 10:return Gd(i.type._context),null;case 22:case 23:return Ph(),null;case 24:return null;default:return null}}var zu=!1,zt=!1,Ow=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ka(r,i){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){ot(r,i,d)}else o.current=null}function _h(r,i,o){try{o()}catch(d){ot(r,i,d)}}var _g=!1;function Fw(r,i){if(Pd=Nn,r=Xm(),Td(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var f=d.anchorOffset,p=d.focusNode;d=d.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var w=0,b=-1,C=-1,$=0,X=0,Z=r,J=null;t:for(;;){for(var oe;Z!==o||f!==0&&Z.nodeType!==3||(b=w+f),Z!==p||d!==0&&Z.nodeType!==3||(C=w+d),Z.nodeType===3&&(w+=Z.nodeValue.length),(oe=Z.firstChild)!==null;)J=Z,Z=oe;for(;;){if(Z===r)break t;if(J===o&&++$===f&&(b=w),J===p&&++X===d&&(C=w),(oe=Z.nextSibling)!==null)break;Z=J,J=Z.parentNode}Z=oe}o=b===-1||C===-1?null:{start:b,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(jd={focusedElem:r,selectionRange:o},Nn=!1,ce=i;ce!==null;)if(i=ce,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ce=r;else for(;ce!==null;){i=ce;try{var de=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var he=de.memoizedProps,ct=de.memoizedState,U=i.stateNode,D=U.getSnapshotBeforeUpdate(i.elementType===i.type?he:Dr(i.type,he),ct);U.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ot(i,i.return,re)}if(r=i.sibling,r!==null){r.return=i.return,ce=r;break}ce=i.return}return de=_g,_g=!1,de}function Go(r,i,o){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var p=f.destroy;f.destroy=void 0,p!==void 0&&_h(i,o,p)}f=f.next}while(f!==d)}}function Bu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&r)===r){var d=o.create;o.destroy=d()}o=o.next}while(o!==i)}}function wh(r){var i=r.ref;if(i!==null){var o=r.stateNode;switch(r.tag){case 5:r=o;break;default:r=o}typeof i=="function"?i(r):i.current=r}}function wg(r){var i=r.alternate;i!==null&&(r.alternate=null,wg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[an],delete i[Lo],delete i[Md],delete i[ww],delete i[Ew])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Eg(r){return r.tag===5||r.tag===3||r.tag===4}function kg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Eg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Eh(r,i,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(r,i):o.insertBefore(r,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(r,o)):(i=o,i.appendChild(r)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=xu));else if(d!==4&&(r=r.child,r!==null))for(Eh(r,i,o),r=r.sibling;r!==null;)Eh(r,i,o),r=r.sibling}function kh(r,i,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(kh(r,i,o),r=r.sibling;r!==null;)kh(r,i,o),r=r.sibling}var Pt=null,Vr=!1;function ws(r,i,o){for(o=o.child;o!==null;)Tg(r,i,o),o=o.sibling}function Tg(r,i,o){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(ii,o)}catch{}switch(o.tag){case 5:zt||ka(o,i);case 6:var d=Pt,f=Vr;Pt=null,ws(r,i,o),Pt=d,Vr=f,Pt!==null&&(Vr?(r=Pt,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):Pt.removeChild(o.stateNode));break;case 18:Pt!==null&&(Vr?(r=Pt,o=o.stateNode,r.nodeType===8?Ld(r.parentNode,o):r.nodeType===1&&Ld(r,o),ds(r)):Ld(Pt,o.stateNode));break;case 4:d=Pt,f=Vr,Pt=o.stateNode.containerInfo,Vr=!0,ws(r,i,o),Pt=d,Vr=f;break;case 0:case 11:case 14:case 15:if(!zt&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var p=f,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&_h(o,i,w),f=f.next}while(f!==d)}ws(r,i,o);break;case 1:if(!zt&&(ka(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(b){ot(o,i,b)}ws(r,i,o);break;case 21:ws(r,i,o);break;case 22:o.mode&1?(zt=(d=zt)||o.memoizedState!==null,ws(r,i,o),zt=d):ws(r,i,o);break;default:ws(r,i,o)}}function Ig(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new Ow),i.forEach(function(d){var f=Kw.bind(null,r,d);o.has(d)||(o.add(d),d.then(f,f))})}}function Lr(r,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var f=o[d];try{var p=r,w=i,b=w;e:for(;b!==null;){switch(b.tag){case 5:Pt=b.stateNode,Vr=!1;break e;case 3:Pt=b.stateNode.containerInfo,Vr=!0;break e;case 4:Pt=b.stateNode.containerInfo,Vr=!0;break e}b=b.return}if(Pt===null)throw Error(t(160));Tg(p,w,f),Pt=null,Vr=!1;var C=f.alternate;C!==null&&(C.return=null),f.return=null}catch($){ot(f,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)bg(i,r),i=i.sibling}function bg(r,i){var o=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Lr(i,r),un(r),d&4){try{Go(3,r,r.return),Bu(3,r)}catch(he){ot(r,r.return,he)}try{Go(5,r,r.return)}catch(he){ot(r,r.return,he)}}break;case 1:Lr(i,r),un(r),d&512&&o!==null&&ka(o,o.return);break;case 5:if(Lr(i,r),un(r),d&512&&o!==null&&ka(o,o.return),r.flags&32){var f=r.stateNode;try{ei(f,"")}catch(he){ot(r,r.return,he)}}if(d&4&&(f=r.stateNode,f!=null)){var p=r.memoizedProps,w=o!==null?o.memoizedProps:p,b=r.type,C=r.updateQueue;if(r.updateQueue=null,C!==null)try{b==="input"&&p.type==="radio"&&p.name!=null&&zi(f,p),qi(b,w);var $=qi(b,p);for(w=0;w<C.length;w+=2){var X=C[w],Z=C[w+1];X==="style"?$i(f,Z):X==="dangerouslySetInnerHTML"?Wl(f,Z):X==="children"?ei(f,Z):ne(f,X,Z,$)}switch(b){case"input":Zs(f,p);break;case"textarea":Hl(f,p);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var oe=p.value;oe!=null?Nr(f,!!p.multiple,oe,!1):J!==!!p.multiple&&(p.defaultValue!=null?Nr(f,!!p.multiple,p.defaultValue,!0):Nr(f,!!p.multiple,p.multiple?[]:"",!1))}f[Lo]=p}catch(he){ot(r,r.return,he)}}break;case 6:if(Lr(i,r),un(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,p=r.memoizedProps;try{f.nodeValue=p}catch(he){ot(r,r.return,he)}}break;case 3:if(Lr(i,r),un(r),d&4&&o!==null&&o.memoizedState.isDehydrated)try{ds(i.containerInfo)}catch(he){ot(r,r.return,he)}break;case 4:Lr(i,r),un(r);break;case 13:Lr(i,r),un(r),f=r.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(bh=Je())),d&4&&Ig(r);break;case 22:if(X=o!==null&&o.memoizedState!==null,r.mode&1?(zt=($=zt)||X,Lr(i,r),zt=$):Lr(i,r),un(r),d&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!X&&(r.mode&1)!==0)for(ce=r,X=r.child;X!==null;){for(Z=ce=X;ce!==null;){switch(J=ce,oe=J.child,J.tag){case 0:case 11:case 14:case 15:Go(4,J,J.return);break;case 1:ka(J,J.return);var de=J.stateNode;if(typeof de.componentWillUnmount=="function"){d=J,o=J.return;try{i=d,de.props=i.memoizedProps,de.state=i.memoizedState,de.componentWillUnmount()}catch(he){ot(d,o,he)}}break;case 5:ka(J,J.return);break;case 22:if(J.memoizedState!==null){Ag(Z);continue}}oe!==null?(oe.return=J,ce=oe):Ag(Z)}X=X.sibling}e:for(X=null,Z=r;;){if(Z.tag===5){if(X===null){X=Z;try{f=Z.stateNode,$?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(b=Z.stateNode,C=Z.memoizedProps.style,w=C!=null&&C.hasOwnProperty("display")?C.display:null,b.style.display=rs("display",w))}catch(he){ot(r,r.return,he)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(he){ot(r,r.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Lr(i,r),un(r),d&4&&Ig(r);break;case 21:break;default:Lr(i,r),un(r)}}function un(r){var i=r.flags;if(i&2){try{e:{for(var o=r.return;o!==null;){if(Eg(o)){var d=o;break e}o=o.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(ei(f,""),d.flags&=-33);var p=kg(r);kh(r,p,f);break;case 3:case 4:var w=d.stateNode.containerInfo,b=kg(r);Eh(r,b,w);break;default:throw Error(t(161))}}catch(C){ot(r,r.return,C)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Uw(r,i,o){ce=r,Sg(r)}function Sg(r,i,o){for(var d=(r.mode&1)!==0;ce!==null;){var f=ce,p=f.child;if(f.tag===22&&d){var w=f.memoizedState!==null||zu;if(!w){var b=f.alternate,C=b!==null&&b.memoizedState!==null||zt;b=zu;var $=zt;if(zu=w,(zt=C)&&!$)for(ce=f;ce!==null;)w=ce,C=w.child,w.tag===22&&w.memoizedState!==null?Cg(f):C!==null?(C.return=w,ce=C):Cg(f);for(;p!==null;)ce=p,Sg(p),p=p.sibling;ce=f,zu=b,zt=$}Ng(r)}else(f.subtreeFlags&8772)!==0&&p!==null?(p.return=f,ce=p):Ng(r)}}function Ng(r){for(;ce!==null;){var i=ce;if((i.flags&8772)!==0){var o=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:zt||Bu(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!zt)if(o===null)d.componentDidMount();else{var f=i.elementType===i.type?o.memoizedProps:Dr(i.type,o.memoizedProps);d.componentDidUpdate(f,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var p=i.updateQueue;p!==null&&Ap(i,p,d);break;case 3:var w=i.updateQueue;if(w!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}Ap(i,w,o)}break;case 5:var b=i.stateNode;if(o===null&&i.flags&4){o=b;var C=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&o.focus();break;case"img":C.src&&(o.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var X=$.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&ds(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||i.flags&512&&wh(i)}catch(J){ot(i,i.return,J)}}if(i===r){ce=null;break}if(o=i.sibling,o!==null){o.return=i.return,ce=o;break}ce=i.return}}function Ag(r){for(;ce!==null;){var i=ce;if(i===r){ce=null;break}var o=i.sibling;if(o!==null){o.return=i.return,ce=o;break}ce=i.return}}function Cg(r){for(;ce!==null;){var i=ce;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Bu(4,i)}catch(C){ot(i,o,C)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var f=i.return;try{d.componentDidMount()}catch(C){ot(i,f,C)}}var p=i.return;try{wh(i)}catch(C){ot(i,p,C)}break;case 5:var w=i.return;try{wh(i)}catch(C){ot(i,w,C)}}}catch(C){ot(i,i.return,C)}if(i===r){ce=null;break}var b=i.sibling;if(b!==null){b.return=i.return,ce=b;break}ce=i.return}}var zw=Math.ceil,$u=ee.ReactCurrentDispatcher,Th=ee.ReactCurrentOwner,wr=ee.ReactCurrentBatchConfig,Oe=0,It=null,pt=null,jt=0,hr=0,Ta=gs(0),wt=0,Ko=null,wi=0,qu=0,Ih=0,Qo=null,Zt=null,bh=0,Ia=1/0,On=null,Hu=!1,Sh=null,Es=null,Wu=!1,ks=null,Gu=0,Yo=0,Nh=null,Ku=-1,Qu=0;function Kt(){return(Oe&6)!==0?Je():Ku!==-1?Ku:Ku=Je()}function Ts(r){return(r.mode&1)===0?1:(Oe&2)!==0&&jt!==0?jt&-jt:Tw.transition!==null?(Qu===0&&(Qu=yo()),Qu):(r=je,r!==0||(r=window.event,r=r===void 0?16:ea(r.type)),r)}function Mr(r,i,o,d){if(50<Yo)throw Yo=0,Nh=null,Error(t(185));ui(r,o,d),((Oe&2)===0||r!==It)&&(r===It&&((Oe&2)===0&&(qu|=o),wt===4&&Is(r,jt)),er(r,d),o===1&&Oe===0&&(i.mode&1)===0&&(Ia=Je()+500,ku&&vs()))}function er(r,i){var o=r.callbackNode;li(r,i);var d=In(r,r===It?jt:0);if(d===0)o!==null&&Gi(o),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(o!=null&&Gi(o),i===1)r.tag===0?kw(Pg.bind(null,r)):yp(Pg.bind(null,r)),xw(function(){(Oe&6)===0&&vs()}),o=null;else{switch(Qr(d)){case 1:o=Ki;break;case 4:o=mo;break;case 16:o=si;break;case 536870912:o=Qi;break;default:o=si}o=Ug(o,Rg.bind(null,r))}r.callbackPriority=i,r.callbackNode=o}}function Rg(r,i){if(Ku=-1,Qu=0,(Oe&6)!==0)throw Error(t(327));var o=r.callbackNode;if(ba()&&r.callbackNode!==o)return null;var d=In(r,r===It?jt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=Yu(r,d);else{i=d;var f=Oe;Oe|=2;var p=Dg();(It!==r||jt!==i)&&(On=null,Ia=Je()+500,ki(r,i));do try{qw();break}catch(b){jg(r,b)}while(!0);Wd(),$u.current=p,Oe=f,pt!==null?i=0:(It=null,jt=0,i=wt)}if(i!==0){if(i===2&&(f=go(r),f!==0&&(d=f,i=Ah(r,f))),i===1)throw o=Ko,ki(r,0),Is(r,d),er(r,Je()),o;if(i===6)Is(r,d);else{if(f=r.current.alternate,(d&30)===0&&!Bw(f)&&(i=Yu(r,d),i===2&&(p=go(r),p!==0&&(d=p,i=Ah(r,p))),i===1))throw o=Ko,ki(r,0),Is(r,d),er(r,Je()),o;switch(r.finishedWork=f,r.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:Ti(r,Zt,On);break;case 3:if(Is(r,d),(d&130023424)===d&&(i=bh+500-Je(),10<i)){if(In(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){Kt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Vd(Ti.bind(null,r,Zt,On),i);break}Ti(r,Zt,On);break;case 4:if(Is(r,d),(d&4194240)===d)break;for(i=r.eventTimes,f=-1;0<d;){var w=31-ir(d);p=1<<w,w=i[w],w>f&&(f=w),d&=~p}if(d=f,d=Je()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*zw(d/1960))-d,10<d){r.timeoutHandle=Vd(Ti.bind(null,r,Zt,On),d);break}Ti(r,Zt,On);break;case 5:Ti(r,Zt,On);break;default:throw Error(t(329))}}}return er(r,Je()),r.callbackNode===o?Rg.bind(null,r):null}function Ah(r,i){var o=Qo;return r.current.memoizedState.isDehydrated&&(ki(r,i).flags|=256),r=Yu(r,i),r!==2&&(i=Zt,Zt=o,i!==null&&Ch(i)),r}function Ch(r){Zt===null?Zt=r:Zt.push.apply(Zt,r)}function Bw(r){for(var i=r;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var f=o[d],p=f.getSnapshot;f=f.value;try{if(!Pr(p(),f))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Is(r,i){for(i&=~Ih,i&=~qu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var o=31-ir(i),d=1<<o;r[o]=-1,i&=~d}}function Pg(r){if((Oe&6)!==0)throw Error(t(327));ba();var i=In(r,0);if((i&1)===0)return er(r,Je()),null;var o=Yu(r,i);if(r.tag!==0&&o===2){var d=go(r);d!==0&&(i=d,o=Ah(r,d))}if(o===1)throw o=Ko,ki(r,0),Is(r,i),er(r,Je()),o;if(o===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ti(r,Zt,On),er(r,Je()),null}function Rh(r,i){var o=Oe;Oe|=1;try{return r(i)}finally{Oe=o,Oe===0&&(Ia=Je()+500,ku&&vs())}}function Ei(r){ks!==null&&ks.tag===0&&(Oe&6)===0&&ba();var i=Oe;Oe|=1;var o=wr.transition,d=je;try{if(wr.transition=null,je=1,r)return r()}finally{je=d,wr.transition=o,Oe=i,(Oe&6)===0&&vs()}}function Ph(){hr=Ta.current,Ze(Ta)}function ki(r,i){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,vw(o)),pt!==null)for(o=pt.return;o!==null;){var d=o;switch(zd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&wu();break;case 3:wa(),Ze(Yt),Ze(Ot),eh();break;case 5:Xd(d);break;case 4:wa();break;case 13:Ze(nt);break;case 19:Ze(nt);break;case 10:Gd(d.type._context);break;case 22:case 23:Ph()}o=o.return}if(It=r,pt=r=bs(r.current,null),jt=hr=i,wt=0,Ko=null,Ih=qu=wi=0,Zt=Qo=null,vi!==null){for(i=0;i<vi.length;i++)if(o=vi[i],d=o.interleaved,d!==null){o.interleaved=null;var f=d.next,p=o.pending;if(p!==null){var w=p.next;p.next=f,d.next=w}o.pending=d}vi=null}return r}function jg(r,i){do{var o=pt;try{if(Wd(),ju.current=Mu,Du){for(var d=st.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}Du=!1}if(_i=0,Tt=_t=st=null,Bo=!1,$o=0,Th.current=null,o===null||o.return===null){wt=1,Ko=i,pt=null;break}e:{var p=r,w=o.return,b=o,C=i;if(i=jt,b.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=C,X=b,Z=X.tag;if((X.mode&1)===0&&(Z===0||Z===11||Z===15)){var J=X.alternate;J?(X.updateQueue=J.updateQueue,X.memoizedState=J.memoizedState,X.lanes=J.lanes):(X.updateQueue=null,X.memoizedState=null)}var oe=sg(w);if(oe!==null){oe.flags&=-257,ig(oe,w,b,p,i),oe.mode&1&&ng(p,$,i),i=oe,C=$;var de=i.updateQueue;if(de===null){var he=new Set;he.add(C),i.updateQueue=he}else de.add(C);break e}else{if((i&1)===0){ng(p,$,i),jh();break e}C=Error(t(426))}}else if(tt&&b.mode&1){var ct=sg(w);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),ig(ct,w,b,p,i),qd(Ea(C,b));break e}}p=C=Ea(C,b),wt!==4&&(wt=2),Qo===null?Qo=[p]:Qo.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,i&=-i,p.lanes|=i;var U=tg(p,C,i);Np(p,U);break e;case 1:b=C;var D=p.type,B=p.stateNode;if((p.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Es===null||!Es.has(B)))){p.flags|=65536,i&=-i,p.lanes|=i;var re=rg(p,b,i);Np(p,re);break e}}p=p.return}while(p!==null)}Lg(o)}catch(fe){i=fe,pt===o&&o!==null&&(pt=o=o.return);continue}break}while(!0)}function Dg(){var r=$u.current;return $u.current=Mu,r===null?Mu:r}function jh(){(wt===0||wt===3||wt===2)&&(wt=4),It===null||(wi&268435455)===0&&(qu&268435455)===0||Is(It,jt)}function Yu(r,i){var o=Oe;Oe|=2;var d=Dg();(It!==r||jt!==i)&&(On=null,ki(r,i));do try{$w();break}catch(f){jg(r,f)}while(!0);if(Wd(),Oe=o,$u.current=d,pt!==null)throw Error(t(261));return It=null,jt=0,wt}function $w(){for(;pt!==null;)Vg(pt)}function qw(){for(;pt!==null&&!ni();)Vg(pt)}function Vg(r){var i=Fg(r.alternate,r,hr);r.memoizedProps=r.pendingProps,i===null?Lg(r):pt=i,Th.current=null}function Lg(r){var i=r;do{var o=i.alternate;if(r=i.return,(i.flags&32768)===0){if(o=Lw(o,i,hr),o!==null){pt=o;return}}else{if(o=Mw(o,i),o!==null){o.flags&=32767,pt=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wt=6,pt=null;return}}if(i=i.sibling,i!==null){pt=i;return}pt=i=r}while(i!==null);wt===0&&(wt=5)}function Ti(r,i,o){var d=je,f=wr.transition;try{wr.transition=null,je=1,Hw(r,i,o,d)}finally{wr.transition=f,je=d}return null}function Hw(r,i,o,d){do ba();while(ks!==null);if((Oe&6)!==0)throw Error(t(327));o=r.finishedWork;var f=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var p=o.lanes|o.childLanes;if(xd(r,p),r===It&&(pt=It=null,jt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Wu||(Wu=!0,Ug(si,function(){return ba(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=wr.transition,wr.transition=null;var w=je;je=1;var b=Oe;Oe|=4,Th.current=null,Fw(r,o),bg(o,r),dw(jd),Nn=!!Pd,jd=Pd=null,r.current=o,Uw(o),Tn(),Oe=b,je=w,wr.transition=p}else r.current=o;if(Wu&&(Wu=!1,ks=r,Gu=f),p=r.pendingLanes,p===0&&(Es=null),nu(o.stateNode),er(r,Je()),i!==null)for(d=r.onRecoverableError,o=0;o<i.length;o++)f=i[o],d(f.value,{componentStack:f.stack,digest:f.digest});if(Hu)throw Hu=!1,r=Sh,Sh=null,r;return(Gu&1)!==0&&r.tag!==0&&ba(),p=r.pendingLanes,(p&1)!==0?r===Nh?Yo++:(Yo=0,Nh=r):Yo=0,vs(),null}function ba(){if(ks!==null){var r=Qr(Gu),i=wr.transition,o=je;try{if(wr.transition=null,je=16>r?16:r,ks===null)var d=!1;else{if(r=ks,ks=null,Gu=0,(Oe&6)!==0)throw Error(t(331));var f=Oe;for(Oe|=4,ce=r.current;ce!==null;){var p=ce,w=p.child;if((ce.flags&16)!==0){var b=p.deletions;if(b!==null){for(var C=0;C<b.length;C++){var $=b[C];for(ce=$;ce!==null;){var X=ce;switch(X.tag){case 0:case 11:case 15:Go(8,X,p)}var Z=X.child;if(Z!==null)Z.return=X,ce=Z;else for(;ce!==null;){X=ce;var J=X.sibling,oe=X.return;if(wg(X),X===$){ce=null;break}if(J!==null){J.return=oe,ce=J;break}ce=oe}}}var de=p.alternate;if(de!==null){var he=de.child;if(he!==null){de.child=null;do{var ct=he.sibling;he.sibling=null,he=ct}while(he!==null)}}ce=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,ce=w;else e:for(;ce!==null;){if(p=ce,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Go(9,p,p.return)}var U=p.sibling;if(U!==null){U.return=p.return,ce=U;break e}ce=p.return}}var D=r.current;for(ce=D;ce!==null;){w=ce;var B=w.child;if((w.subtreeFlags&2064)!==0&&B!==null)B.return=w,ce=B;else e:for(w=D;ce!==null;){if(b=ce,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Bu(9,b)}}catch(fe){ot(b,b.return,fe)}if(b===w){ce=null;break e}var re=b.sibling;if(re!==null){re.return=b.return,ce=re;break e}ce=b.return}}if(Oe=f,vs(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(ii,r)}catch{}d=!0}return d}finally{je=o,wr.transition=i}}return!1}function Mg(r,i,o){i=Ea(o,i),i=tg(r,i,1),r=_s(r,i,1),i=Kt(),r!==null&&(ui(r,1,i),er(r,i))}function ot(r,i,o){if(r.tag===3)Mg(r,r,o);else for(;i!==null;){if(i.tag===3){Mg(i,r,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Es===null||!Es.has(d))){r=Ea(o,r),r=rg(i,r,1),i=_s(i,r,1),r=Kt(),i!==null&&(ui(i,1,r),er(i,r));break}}i=i.return}}function Ww(r,i,o){var d=r.pingCache;d!==null&&d.delete(i),i=Kt(),r.pingedLanes|=r.suspendedLanes&o,It===r&&(jt&o)===o&&(wt===4||wt===3&&(jt&130023424)===jt&&500>Je()-bh?ki(r,0):Ih|=o),er(r,i)}function Og(r,i){i===0&&((r.mode&1)===0?i=1:(i=ls,ls<<=1,(ls&130023424)===0&&(ls=4194304)));var o=Kt();r=Vn(r,i),r!==null&&(ui(r,i,o),er(r,o))}function Gw(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Og(r,o)}function Kw(r,i){var o=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),Og(r,o)}var Fg;Fg=function(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps||Yt.current)Xt=!0;else{if((r.lanes&o)===0&&(i.flags&128)===0)return Xt=!1,Vw(r,i,o);Xt=(r.flags&131072)!==0}else Xt=!1,tt&&(i.flags&1048576)!==0&&vp(i,Iu,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Uu(r,i),r=i.pendingProps;var f=ma(i,Ot.current);_a(i,o),f=nh(null,i,d,r,f,o);var p=sh();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Jt(d)?(p=!0,Eu(i)):p=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Yd(i),f.updater=Ou,i.stateNode=f,f._reactInternals=i,ch(i,d,r,o),i=mh(null,i,d,!0,p,o)):(i.tag=0,tt&&p&&Ud(i),Gt(null,i,f,o),i=i.child),i;case 16:d=i.elementType;e:{switch(Uu(r,i),r=i.pendingProps,f=d._init,d=f(d._payload),i.type=d,f=i.tag=Yw(d),r=Dr(d,r),f){case 0:i=fh(null,i,d,r,o);break e;case 1:i=dg(null,i,d,r,o);break e;case 11:i=ag(null,i,d,r,o);break e;case 14:i=og(null,i,d,Dr(d.type,r),o);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:Dr(d,f),fh(r,i,d,f,o);case 1:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:Dr(d,f),dg(r,i,d,f,o);case 3:e:{if(hg(i),r===null)throw Error(t(387));d=i.pendingProps,p=i.memoizedState,f=p.element,Sp(r,i),Ru(i,d,null,o);var w=i.memoizedState;if(d=w.element,p.isDehydrated)if(p={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){f=Ea(Error(t(423)),i),i=fg(r,i,d,o,f);break e}else if(d!==f){f=Ea(Error(t(424)),i),i=fg(r,i,d,o,f);break e}else for(dr=ps(i.stateNode.containerInfo.firstChild),cr=i,tt=!0,jr=null,o=Ip(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ya(),d===f){i=Mn(r,i,o);break e}Gt(r,i,d,o)}i=i.child}return i;case 5:return Cp(i),r===null&&$d(i),d=i.type,f=i.pendingProps,p=r!==null?r.memoizedProps:null,w=f.children,Dd(d,f)?w=null:p!==null&&Dd(d,p)&&(i.flags|=32),cg(r,i),Gt(r,i,w,o),i.child;case 6:return r===null&&$d(i),null;case 13:return mg(r,i,o);case 4:return Jd(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=va(i,null,d,o):Gt(r,i,d,o),i.child;case 11:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:Dr(d,f),ag(r,i,d,f,o);case 7:return Gt(r,i,i.pendingProps,o),i.child;case 8:return Gt(r,i,i.pendingProps.children,o),i.child;case 12:return Gt(r,i,i.pendingProps.children,o),i.child;case 10:e:{if(d=i.type._context,f=i.pendingProps,p=i.memoizedProps,w=f.value,Qe(Nu,d._currentValue),d._currentValue=w,p!==null)if(Pr(p.value,w)){if(p.children===f.children&&!Yt.current){i=Mn(r,i,o);break e}}else for(p=i.child,p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){w=p.child;for(var C=b.firstContext;C!==null;){if(C.context===d){if(p.tag===1){C=Ln(-1,o&-o),C.tag=2;var $=p.updateQueue;if($!==null){$=$.shared;var X=$.pending;X===null?C.next=C:(C.next=X.next,X.next=C),$.pending=C}}p.lanes|=o,C=p.alternate,C!==null&&(C.lanes|=o),Kd(p.return,o,i),b.lanes|=o;break}C=C.next}}else if(p.tag===10)w=p.type===i.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(t(341));w.lanes|=o,b=w.alternate,b!==null&&(b.lanes|=o),Kd(w,o,i),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}Gt(r,i,f.children,o),i=i.child}return i;case 9:return f=i.type,d=i.pendingProps.children,_a(i,o),f=xr(f),d=d(f),i.flags|=1,Gt(r,i,d,o),i.child;case 14:return d=i.type,f=Dr(d,i.pendingProps),f=Dr(d.type,f),og(r,i,d,f,o);case 15:return lg(r,i,i.type,i.pendingProps,o);case 17:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:Dr(d,f),Uu(r,i),i.tag=1,Jt(d)?(r=!0,Eu(i)):r=!1,_a(i,o),Zp(i,d,f),ch(i,d,f,o),mh(null,i,d,!0,r,o);case 19:return gg(r,i,o);case 22:return ug(r,i,o)}throw Error(t(156,i.tag))};function Ug(r,i){return fo(r,i)}function Qw(r,i,o,d){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(r,i,o,d){return new Qw(r,i,o,d)}function Dh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Yw(r){if(typeof r=="function")return Dh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===O)return 11;if(r===Le)return 14}return 2}function bs(r,i){var o=r.alternate;return o===null?(o=Er(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function Ju(r,i,o,d,f,p){var w=2;if(d=r,typeof r=="function")Dh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case N:return Ii(o.children,f,p,i);case I:w=8,f|=8;break;case S:return r=Er(12,o,i,f|2),r.elementType=S,r.lanes=p,r;case A:return r=Er(13,o,i,f),r.elementType=A,r.lanes=p,r;case He:return r=Er(19,o,i,f),r.elementType=He,r.lanes=p,r;case We:return Xu(o,f,p,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:w=10;break e;case j:w=9;break e;case O:w=11;break e;case Le:w=14;break e;case kt:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Er(w,o,i,f),i.elementType=r,i.type=d,i.lanes=p,i}function Ii(r,i,o,d){return r=Er(7,r,d,i),r.lanes=o,r}function Xu(r,i,o,d){return r=Er(22,r,d,i),r.elementType=We,r.lanes=o,r.stateNode={isHidden:!1},r}function Vh(r,i,o){return r=Er(6,r,null,i),r.lanes=o,r}function Lh(r,i,o){return i=Er(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Jw(r,i,o,d,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vo(0),this.expirationTimes=vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Mh(r,i,o,d,f,p,w,b,C){return r=new Jw(r,i,o,b,C),i===1?(i=1,p===!0&&(i|=8)):i=0,p=Er(3,null,null,i),r.current=p,p.stateNode=r,p.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yd(p),r}function Xw(r,i,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:d==null?null:""+d,children:r,containerInfo:i,implementation:o}}function zg(r){if(!r)return ys;r=r._reactInternals;e:{if(Cr(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Jt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var o=r.type;if(Jt(o))return pp(r,o,i)}return i}function Bg(r,i,o,d,f,p,w,b,C){return r=Mh(o,d,!0,r,f,p,w,b,C),r.context=zg(null),o=r.current,d=Kt(),f=Ts(o),p=Ln(d,f),p.callback=i??null,_s(o,p,f),r.current.lanes=f,ui(r,f,d),er(r,d),r}function Zu(r,i,o,d){var f=i.current,p=Kt(),w=Ts(f);return o=zg(o),i.context===null?i.context=o:i.pendingContext=o,i=Ln(p,w),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=_s(f,i,w),r!==null&&(Mr(r,f,w,p),Cu(r,f,w)),w}function ec(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function $g(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Oh(r,i){$g(r,i),(r=r.alternate)&&$g(r,i)}function Zw(){return null}var qg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Fh(r){this._internalRoot=r}tc.prototype.render=Fh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Zu(r,i,null,null)},tc.prototype.unmount=Fh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Ei(function(){Zu(null,r,null,null)}),i[Rn]=null}};function tc(r){this._internalRoot=r}tc.prototype.unstable_scheduleHydration=function(r){if(r){var i=Eo();r={blockedOn:null,target:r,priority:i};for(var o=0;o<ar.length&&i!==0&&i<ar[o].priority;o++);ar.splice(o,0,r),o===0&&Xi(r)}};function Uh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function rc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Hg(){}function eE(r,i,o,d,f){if(f){if(typeof d=="function"){var p=d;d=function(){var $=ec(w);p.call($)}}var w=Bg(i,d,r,0,null,!1,!1,"",Hg);return r._reactRootContainer=w,r[Rn]=w.current,Do(r.nodeType===8?r.parentNode:r),Ei(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var b=d;d=function(){var $=ec(C);b.call($)}}var C=Mh(r,0,!1,null,null,!1,!1,"",Hg);return r._reactRootContainer=C,r[Rn]=C.current,Do(r.nodeType===8?r.parentNode:r),Ei(function(){Zu(i,C,o,d)}),C}function nc(r,i,o,d,f){var p=o._reactRootContainer;if(p){var w=p;if(typeof f=="function"){var b=f;f=function(){var C=ec(w);b.call(C)}}Zu(i,w,r,f)}else w=eE(o,i,r,f,d);return ec(w)}_o=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var o=Ue(i.pendingLanes);o!==0&&(xo(i,o|1),er(i,Je()),(Oe&6)===0&&(Ia=Je()+500,vs()))}break;case 13:Ei(function(){var d=Vn(r,1);if(d!==null){var f=Kt();Mr(d,r,1,f)}}),Oh(r,1)}},Yi=function(r){if(r.tag===13){var i=Vn(r,134217728);if(i!==null){var o=Kt();Mr(i,r,134217728,o)}Oh(r,134217728)}},wo=function(r){if(r.tag===13){var i=Ts(r),o=Vn(r,i);if(o!==null){var d=Kt();Mr(o,r,i,d)}Oh(r,i)}},Eo=function(){return je},ko=function(r,i){var o=je;try{return je=r,i()}finally{je=o}},wn=function(r,i,o){switch(i){case"input":if(Zs(r,o),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==r&&d.form===r.form){var f=_u(d);if(!f)throw Error(t(90));no(d),Zs(d,f)}}}break;case"textarea":Hl(r,o);break;case"select":i=o.value,i!=null&&Nr(r,!!o.multiple,i,!1)}},Kl=Rh,Ql=Ei;var tE={usingClientEntryPoint:!1,Events:[Mo,ha,_u,ss,is,Rh]},Jo={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rE={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ru(r),r===null?null:r.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||Zw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{ii=sc.inject(rE),sr=sc}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tE,tr.createPortal=function(r,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uh(i))throw Error(t(200));return Xw(r,i,null,o)},tr.createRoot=function(r,i){if(!Uh(r))throw Error(t(299));var o=!1,d="",f=qg;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Mh(r,1,!1,null,null,o,!1,d,f),r[Rn]=i.current,Do(r.nodeType===8?r.parentNode:r),new Fh(i)},tr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ru(i),r=r===null?null:r.stateNode,r},tr.flushSync=function(r){return Ei(r)},tr.hydrate=function(r,i,o){if(!rc(i))throw Error(t(200));return nc(null,r,i,!0,o)},tr.hydrateRoot=function(r,i,o){if(!Uh(r))throw Error(t(405));var d=o!=null&&o.hydratedSources||null,f=!1,p="",w=qg;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),i=Bg(i,null,r,1,o??null,f,!1,p,w),r[Rn]=i.current,Do(r),d)for(r=0;r<d.length;r++)o=d[r],f=o._getVersion,f=f(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,f]:i.mutableSourceEagerHydrationData.push(o,f);return new tc(i)},tr.render=function(r,i,o){if(!rc(i))throw Error(t(200));return nc(null,r,i,!1,o)},tr.unmountComponentAtNode=function(r){if(!rc(r))throw Error(t(40));return r._reactRootContainer?(Ei(function(){nc(null,null,r,!1,function(){r._reactRootContainer=null,r[Rn]=null})}),!0):!1},tr.unstable_batchedUpdates=Rh,tr.unstable_renderSubtreeIntoContainer=function(r,i,o,d){if(!rc(o))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return nc(r,i,o,!1,d)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var Zg;function cE(){if(Zg)return $h.exports;Zg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$h.exports=uE(),$h.exports}var ey;function dE(){if(ey)return ic;ey=1;var n=cE();return ic.createRoot=n.createRoot,ic.hydrateRoot=n.hydrateRoot,ic}var hE=dE(),L=Vf();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ty="popstate";function fE(n={}){function e(s,a){let{pathname:l,search:c,hash:m}=s.location;return lf("",{pathname:l,search:c,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:fl(a)}return pE(e,t,null,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Br(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mE(){return Math.random().toString(36).substring(2,10)}function ry(n,e){return{usr:n.state,key:n.key,idx:e}}function lf(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ha(e):e,state:t,key:e&&e.key||s||mE()}}function fl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ha(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function pE(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,m="POP",y=null,v=_();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function _(){return(c.state||{idx:null}).idx}function E(){m="POP";let F=_(),W=F==null?null:F-v;v=F,y&&y({action:m,location:V.location,delta:W})}function T(F,W){m="PUSH";let G=lf(V.location,F,W);v=_()+1;let ne=ry(G,v),ee=V.createHref(G);try{c.pushState(ne,"",ee)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;a.location.assign(ee)}l&&y&&y({action:m,location:V.location,delta:1})}function R(F,W){m="REPLACE";let G=lf(V.location,F,W);v=_();let ne=ry(G,v),ee=V.createHref(G);c.replaceState(ne,"",ee),l&&y&&y({action:m,location:V.location,delta:0})}function H(F){return gE(F)}let V={get action(){return m},get location(){return n(a,c)},listen(F){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(ty,E),y=F,()=>{a.removeEventListener(ty,E),y=null}},createHref(F){return e(a,F)},createURL:H,encodeLocation(F){let W=H(F);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:R,go(F){return c.go(F)}};return V}function gE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),rt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:fl(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function z0(n,e,t="/"){return yE(n,e,t,!1)}function yE(n,e,t,s){let a=typeof e=="string"?Ha(e):e,l=$n(a.pathname||"/",t);if(l==null)return null;let c=B0(n);vE(c);let m=null;for(let y=0;m==null&&y<c.length;++y){let v=AE(l);m=SE(c[y],v,s)}return m}function B0(n,e=[],t=[],s="",a=!1){let l=(c,m,y=a,v)=>{let _={relativePath:v===void 0?c.path||"":v,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&y)return;rt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let E=zn([s,_.relativePath]),T=t.concat(_);c.children&&c.children.length>0&&(rt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),B0(c.children,e,T,E,y)),!(c.path==null&&!c.index)&&e.push({path:E,score:IE(E,c.index),routesMeta:T})};return n.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))l(c,m);else for(let y of $0(c.path))l(c,m,!0,y)}),e}function $0(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=$0(s.join("/")),m=[];return m.push(...c.map(y=>y===""?l:[l,y].join("/"))),a&&m.push(...c),m.map(y=>n.startsWith("/")&&y===""?"/":y)}function vE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bE(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var xE=/^:[\w-]+$/,_E=3,wE=2,EE=1,kE=10,TE=-2,ny=n=>n==="*";function IE(n,e){let t=n.split("/"),s=t.length;return t.some(ny)&&(s+=TE),e&&(s+=wE),t.filter(a=>!ny(a)).reduce((a,l)=>a+(xE.test(l)?_E:l===""?EE:kE),s)}function bE(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function SE(n,e,t=!1){let{routesMeta:s}=n,a={},l="/",c=[];for(let m=0;m<s.length;++m){let y=s[m],v=m===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=Ic({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},_),T=y.route;if(!E&&v&&t&&!s[s.length-1].route.index&&(E=Ic({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},_)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:zn([l,E.pathname]),pathnameBase:jE(zn([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=zn([l,E.pathnameBase]))}return c}function Ic(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=NE(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,{paramName:_,isOptional:E},T)=>{if(_==="*"){let H=m[T]||"";c=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const R=m[T];return E&&!R?v[_]=void 0:v[_]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:c,pattern:n}}function NE(n,e=!1,t=!0){Br(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function AE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Br(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $n(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function RE(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?Ha(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=sy(t.substring(1),"/"):l=sy(t,e)):l=e,{pathname:l,search:DE(s),hash:VE(a)}}function sy(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Wh(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Lf(n){let e=PE(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Mf(n,e,t,s=!1){let a;typeof n=="string"?a=Ha(n):(a={...n},rt(!a.pathname||!a.pathname.includes("?"),Wh("?","pathname","search",a)),rt(!a.pathname||!a.pathname.includes("#"),Wh("#","pathname","hash",a)),rt(!a.search||!a.search.includes("#"),Wh("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,m;if(c==null)m=t;else{let E=e.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;a.pathname=T.join("/")}m=E>=0?e[E]:"/"}let y=RE(a,m),v=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(v||_)&&(y.pathname+="/"),y}var zn=n=>n.join("/").replace(/\/\/+/g,"/"),jE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,VE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,LE=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function ME(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function OE(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function H0(n,e){let t=n;if(typeof t!="string"||!CE.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,a=!1;if(q0)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),m=$n(c.pathname,e);c.origin===l.origin&&m!=null?t=m+c.search+c.hash:a=!0}catch{Br(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var W0=["POST","PUT","PATCH","DELETE"];new Set(W0);var FE=["GET",...W0];new Set(FE);var Wa=L.createContext(null);Wa.displayName="DataRouter";var Gc=L.createContext(null);Gc.displayName="DataRouterState";var UE=L.createContext(!1),G0=L.createContext({isTransitioning:!1});G0.displayName="ViewTransition";var zE=L.createContext(new Map);zE.displayName="Fetchers";var BE=L.createContext(null);BE.displayName="Await";var mr=L.createContext(null);mr.displayName="Navigation";var Cl=L.createContext(null);Cl.displayName="Location";var xn=L.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var Of=L.createContext(null);Of.displayName="RouteError";var K0="REACT_ROUTER_ERROR",$E="REDIRECT",qE="ROUTE_ERROR_RESPONSE";function HE(n){if(n.startsWith(`${K0}:${$E}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WE(n){if(n.startsWith(`${K0}:${qE}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new LE(e.status,e.statusText,e.data)}catch{}}function GE(n,{relative:e}={}){rt(Ga(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=L.useContext(mr),{hash:a,pathname:l,search:c}=Rl(n,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:zn([t,l])),s.createHref({pathname:m,search:c,hash:a})}function Ga(){return L.useContext(Cl)!=null}function Kn(){return rt(Ga(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Cl).location}var Q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y0(n){L.useContext(mr).static||L.useLayoutEffect(n)}function Ka(){let{isDataRoute:n}=L.useContext(xn);return n?ak():KE()}function KE(){rt(Ga(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(Wa),{basename:e,navigator:t}=L.useContext(mr),{matches:s}=L.useContext(xn),{pathname:a}=Kn(),l=JSON.stringify(Lf(s)),c=L.useRef(!1);return Y0(()=>{c.current=!0}),L.useCallback((y,v={})=>{if(Br(c.current,Q0),!c.current)return;if(typeof y=="number"){t.go(y);return}let _=Mf(y,JSON.parse(l),a,v.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:zn([e,_.pathname])),(v.replace?t.replace:t.push)(_,v.state,v)},[e,t,l,a,n])}L.createContext(null);function Rl(n,{relative:e}={}){let{matches:t}=L.useContext(xn),{pathname:s}=Kn(),a=JSON.stringify(Lf(t));return L.useMemo(()=>Mf(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function QE(n,e){return J0(n,e)}function J0(n,e,t,s,a){rt(Ga(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=L.useContext(mr),{matches:c}=L.useContext(xn),m=c[c.length-1],y=m?m.params:{},v=m?m.pathname:"/",_=m?m.pathnameBase:"/",E=m&&m.route;{let G=E&&E.path||"";Z0(v,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=Kn(),R;if(e){let G=typeof e=="string"?Ha(e):e;rt(_==="/"||G.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=T;let H=R.pathname||"/",V=H;if(_!=="/"){let G=_.replace(/^\//,"").split("/");V="/"+H.replace(/^\//,"").split("/").slice(G.length).join("/")}let F=z0(n,{pathname:V});Br(E||F!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Br(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=ek(F&&F.map(G=>Object.assign({},G,{params:Object.assign({},y,G.params),pathname:zn([_,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?_:zn([_,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,t,s,a);return e&&W?L.createElement(Cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},W):W}function YE(){let n=ik(),e=ME(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:a},t):null,c)}var JE=L.createElement(YE,null),X0=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=WE(n.digest);t&&(n=t)}let e=n!==void 0?L.createElement(xn.Provider,{value:this.props.routeContext},L.createElement(Of.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?L.createElement(XE,{error:n},e):e}};X0.contextType=UE;var Gh=new WeakMap;function XE({children:n,error:e}){let{basename:t}=L.useContext(mr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=HE(e.digest);if(s){let a=Gh.get(e);if(a)throw a;let l=H0(s.location,t);if(q0&&!Gh.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Gh.set(e,c),c}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function ZE({routeContext:n,match:e,children:t}){let s=L.useContext(Wa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(xn.Provider,{value:n},t)}function ek(n,e=[],t=null,s=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let _=l.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);rt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let m=!1,y=-1;if(t)for(let _=0;_<l.length;_++){let E=l[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=_),E.route.id){let{loaderData:T,errors:R}=t,H=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||H){m=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}let v=t&&s?(_,E)=>{s(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:OE(t.matches),errorInfo:E})}:void 0;return l.reduceRight((_,E,T)=>{let R,H=!1,V=null,F=null;t&&(R=c&&E.route.id?c[E.route.id]:void 0,V=E.route.errorElement||JE,m&&(y<0&&T===0?(Z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,F=null):y===T&&(H=!0,F=E.route.hydrateFallbackElement||null)));let W=e.concat(l.slice(0,T+1)),G=()=>{let ne;return R?ne=V:H?ne=F:E.route.Component?ne=L.createElement(E.route.Component,null):E.route.element?ne=E.route.element:ne=_,L.createElement(ZE,{match:E,routeContext:{outlet:_,matches:W,isDataRoute:t!=null},children:ne})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?L.createElement(X0,{location:t.location,revalidation:t.revalidation,component:V,error:R,children:G(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:v}):G()},null)}function Ff(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tk(n){let e=L.useContext(Wa);return rt(e,Ff(n)),e}function rk(n){let e=L.useContext(Gc);return rt(e,Ff(n)),e}function nk(n){let e=L.useContext(xn);return rt(e,Ff(n)),e}function Uf(n){let e=nk(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function sk(){return Uf("useRouteId")}function ik(){let n=L.useContext(Of),e=rk("useRouteError"),t=Uf("useRouteError");return n!==void 0?n:e.errors?.[t]}function ak(){let{router:n}=tk("useNavigate"),e=Uf("useNavigate"),t=L.useRef(!1);return Y0(()=>{t.current=!0}),L.useCallback(async(a,l={})=>{Br(t.current,Q0),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var iy={};function Z0(n,e,t){!e&&!iy[n]&&(iy[n]=!0,Br(!1,t))}L.memo(ok);function ok({routes:n,future:e,state:t,onError:s}){return J0(n,void 0,t,s,e)}function ev({to:n,replace:e,state:t,relative:s}){rt(Ga(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=L.useContext(mr);Br(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(xn),{pathname:c}=Kn(),m=Ka(),y=Mf(n,Lf(l),c,s==="path"),v=JSON.stringify(y);return L.useEffect(()=>{m(JSON.parse(v),{replace:e,state:t,relative:s})},[m,v,s,e,t]),null}function Or(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lk({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){rt(!Ga(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),y=L.useMemo(()=>({basename:m,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[m,a,l,c]);typeof t=="string"&&(t=Ha(t));let{pathname:v="/",search:_="",hash:E="",state:T=null,key:R="default"}=t,H=L.useMemo(()=>{let V=$n(v,m);return V==null?null:{location:{pathname:V,search:_,hash:E,state:T,key:R},navigationType:s}},[m,v,_,E,T,R,s]);return Br(H!=null,`<Router basename="${m}"> is not able to match the URL "${v}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:L.createElement(mr.Provider,{value:y},L.createElement(Cl.Provider,{children:e,value:H}))}function uk({children:n,location:e}){return QE(uf(n),e)}function uf(n,e=[]){let t=[];return L.Children.forEach(n,(s,a)=>{if(!L.isValidElement(s))return;let l=[...e,a];if(s.type===L.Fragment){t.push.apply(t,uf(s.props.children,l));return}rt(s.type===Or,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=uf(s.props.children,l)),t.push(c)}),t}var fc="get",mc="application/x-www-form-urlencoded";function Kc(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function ck(n){return Kc(n)&&n.tagName.toLowerCase()==="button"}function dk(n){return Kc(n)&&n.tagName.toLowerCase()==="form"}function hk(n){return Kc(n)&&n.tagName.toLowerCase()==="input"}function fk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function mk(n,e){return n.button===0&&(!e||e==="_self")&&!fk(n)}var ac=null;function pk(){if(ac===null)try{new FormData(document.createElement("form"),0),ac=!1}catch{ac=!0}return ac}var gk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kh(n){return n!=null&&!gk.has(n)?(Br(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):n}function yk(n,e){let t,s,a,l,c;if(dk(n)){let m=n.getAttribute("action");s=m?$n(m,e):null,t=n.getAttribute("method")||fc,a=Kh(n.getAttribute("enctype"))||mc,l=new FormData(n)}else if(ck(n)||hk(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||m.getAttribute("action");if(s=y?$n(y,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||fc,a=Kh(n.getAttribute("formenctype"))||Kh(m.getAttribute("enctype"))||mc,l=new FormData(m,n),!pk()){let{name:v,type:_,value:E}=n;if(_==="image"){let T=v?`${v}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else v&&l.append(v,E)}}else{if(Kc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fc,s=null,a=mc,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vk(n,e,t,s){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&$n(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function xk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _k(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function wk(n,e,t){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await xk(l,t);return c.links?c.links():[]}return[]}));return Ik(s.flat(1).filter(_k).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ay(n,e,t,s,a,l){let c=(y,v)=>t[v]?y.route.id!==t[v].route.id:!0,m=(y,v)=>t[v].pathname!==y.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==y.params["*"];return l==="assets"?e.filter((y,v)=>c(y,v)||m(y,v)):l==="data"?e.filter((y,v)=>{let _=s.routes[y.route.id];if(!_||!_.hasLoader)return!1;if(c(y,v)||m(y,v))return!0;if(y.route.shouldRevalidate){let E=y.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Ek(n,e,{includeHydrateFallback:t}={}){return kk(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function kk(n){return[...new Set(n)]}function Tk(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function Ik(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(Tk(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function tv(){let n=L.useContext(Wa);return zf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function bk(){let n=L.useContext(Gc);return zf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Bf=L.createContext(void 0);Bf.displayName="FrameworkContext";function rv(){let n=L.useContext(Bf);return zf(n,"You must render this element inside a <HydratedRouter> element"),n}function Sk(n,e){let t=L.useContext(Bf),[s,a]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:v,onMouseLeave:_,onTouchStart:E}=e,T=L.useRef(null);L.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let V=W=>{W.forEach(G=>{c(G.isIntersecting)})},F=new IntersectionObserver(V,{threshold:.5});return T.current&&F.observe(T.current),()=>{F.disconnect()}}},[n]),L.useEffect(()=>{if(s){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[s]);let R=()=>{a(!0)},H=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:Zo(m,R),onBlur:Zo(y,H),onMouseEnter:Zo(v,R),onMouseLeave:Zo(_,H),onTouchStart:Zo(E,R)}]:[!1,T,{}]}function Zo(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Nk({page:n,...e}){let{router:t}=tv(),s=L.useMemo(()=>z0(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?L.createElement(Ck,{page:n,matches:s,...e}):null}function Ak(n){let{manifest:e,routeModules:t}=rv(),[s,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return wk(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),s}function Ck({page:n,matches:e,...t}){let s=Kn(),{future:a,manifest:l,routeModules:c}=rv(),{basename:m}=tv(),{loaderData:y,matches:v}=bk(),_=L.useMemo(()=>ay(n,e,v,l,s,"data"),[n,e,v,l,s]),E=L.useMemo(()=>ay(n,e,v,l,s,"assets"),[n,e,v,l,s]),T=L.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let V=new Set,F=!1;if(e.forEach(G=>{let ne=l.routes[G.route.id];!ne||!ne.hasLoader||(!_.some(ee=>ee.route.id===G.route.id)&&G.route.id in y&&c[G.route.id]?.shouldRevalidate||ne.hasClientLoader?F=!0:V.add(G.route.id))}),V.size===0)return[];let W=vk(n,m,a.unstable_trailingSlashAwareDataRequests,"data");return F&&V.size>0&&W.searchParams.set("_routes",e.filter(G=>V.has(G.route.id)).map(G=>G.route.id).join(",")),[W.pathname+W.search]},[m,a.unstable_trailingSlashAwareDataRequests,y,s,l,_,e,n,c]),R=L.useMemo(()=>Ek(E,l),[E,l]),H=Ak(E);return L.createElement(L.Fragment,null,T.map(V=>L.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),R.map(V=>L.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),H.map(({key:V,link:F})=>L.createElement("link",{key:V,nonce:t.nonce,...F,crossOrigin:F.crossOrigin??t.crossOrigin})))}function Rk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Pk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pk&&(window.__reactRouterVersion="7.13.0")}catch{}function jk({basename:n,children:e,unstable_useTransitions:t,window:s}){let a=L.useRef();a.current==null&&(a.current=fE({window:s,v5Compat:!0}));let l=a.current,[c,m]=L.useState({action:l.action,location:l.location}),y=L.useCallback(v=>{t===!1?m(v):L.startTransition(()=>m(v))},[t]);return L.useLayoutEffect(()=>l.listen(y),[l,y]),L.createElement(lk,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sv=L.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:m,target:y,to:v,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:T,...R},H){let{basename:V,unstable_useTransitions:F}=L.useContext(mr),W=typeof v=="string"&&nv.test(v),G=H0(v,V);v=G.to;let ne=GE(v,{relative:a}),[ee,me,te]=Sk(s,R),N=Mk(v,{replace:c,state:m,target:y,preventScrollReset:_,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:T,unstable_useTransitions:F});function I(P){e&&e(P),P.defaultPrevented||N(P)}let S=L.createElement("a",{...R,...te,href:G.absoluteURL||ne,onClick:G.isExternal||l?e:I,ref:Rk(H,me),target:y,"data-discover":!W&&t==="render"?"true":void 0});return ee&&!W?L.createElement(L.Fragment,null,S,L.createElement(Nk,{page:ne})):S});sv.displayName="Link";var Dk=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:m,children:y,...v},_){let E=Rl(c,{relative:v.relative}),T=Kn(),R=L.useContext(Gc),{navigator:H,basename:V}=L.useContext(mr),F=R!=null&&Bk(E)&&m===!0,W=H.encodeLocation?H.encodeLocation(E).pathname:E.pathname,G=T.pathname,ne=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(G=G.toLowerCase(),ne=ne?ne.toLowerCase():null,W=W.toLowerCase()),ne&&V&&(ne=$n(ne,V)||ne);const ee=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let me=G===W||!a&&G.startsWith(W)&&G.charAt(ee)==="/",te=ne!=null&&(ne===W||!a&&ne.startsWith(W)&&ne.charAt(W.length)==="/"),N={isActive:me,isPending:te,isTransitioning:F},I=me?e:void 0,S;typeof s=="function"?S=s(N):S=[s,me?"active":null,te?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(N):l;return L.createElement(sv,{...v,"aria-current":I,className:S,ref:_,style:P,to:c,viewTransition:m},typeof y=="function"?y(N):y)});Dk.displayName="NavLink";var Vk=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=fc,action:m,onSubmit:y,relative:v,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:T,...R},H)=>{let{unstable_useTransitions:V}=L.useContext(mr),F=Uk(),W=zk(m,{relative:v}),G=c.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&nv.test(m),ee=me=>{if(y&&y(me),me.defaultPrevented)return;me.preventDefault();let te=me.nativeEvent.submitter,N=te?.getAttribute("formmethod")||c,I=()=>F(te||me.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:a,state:l,relative:v,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:T});V&&t!==!1?L.startTransition(()=>I()):I()};return L.createElement("form",{ref:H,method:G,action:W,onSubmit:s?y:ee,...R,"data-discover":!ne&&n==="render"?"true":void 0})});Vk.displayName="Form";function Lk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iv(n){let e=L.useContext(Wa);return rt(e,Lk(n)),e}function Mk(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let v=Ka(),_=Kn(),E=Rl(n,{relative:l});return L.useCallback(T=>{if(mk(T,e)){T.preventDefault();let R=t!==void 0?t:fl(_)===fl(E),H=()=>v(n,{replace:R,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:m});y?L.startTransition(()=>H()):H()}},[_,v,E,t,s,e,n,a,l,c,m,y])}var Ok=0,Fk=()=>`__${String(++Ok)}__`;function Uk(){let{router:n}=iv("useSubmit"),{basename:e}=L.useContext(mr),t=sk(),s=n.fetch,a=n.navigate;return L.useCallback(async(l,c={})=>{let{action:m,method:y,encType:v,formData:_,body:E}=yk(l,e);if(c.navigate===!1){let T=c.fetcherKey||Fk();await s(T,t,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||y,formEncType:c.encType||v,flushSync:c.flushSync})}else await a(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||y,formEncType:c.encType||v,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,t])}function zk(n,{relative:e}={}){let{basename:t}=L.useContext(mr),s=L.useContext(xn);rt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Rl(n||".",{relative:e})},c=Kn();if(n==null){l.search=c.search;let m=new URLSearchParams(l.search),y=m.getAll("index");if(y.some(_=>_==="")){m.delete("index"),y.filter(E=>E).forEach(E=>m.append("index",E));let _=m.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:zn([t,l.pathname])),fl(l)}function Bk(n,{relative:e}={}){let t=L.useContext(G0);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iv("useViewTransitionState"),a=Rl(n,{relative:e});if(!t.isTransitioning)return!1;let l=$n(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=$n(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ic(a.pathname,c)!=null||Ic(a.pathname,l)!=null}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qk=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),oy=n=>{const e=qk(n);return e.charAt(0).toUpperCase()+e.slice(1)},av=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...m},y)=>L.createElement("svg",{ref:y,...Hk,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:av("lucide",a),...m},[...c.map(([v,_])=>L.createElement(v,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(n,e)=>{const t=L.forwardRef(({className:s,...a},l)=>L.createElement(Wk,{ref:l,iconNode:e,className:av(`lucide-${$k(oy(n))}`,`lucide-${n}`,s),...a}));return t.displayName=oy(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Kk=Ve("activity",Gk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$f=Ve("arrow-left",Qk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],ly=Ve("ban",Yk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],ml=Ve("building-2",Jk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zk=Ve("calendar",Xk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],t1=Ve("chart-column",e1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],n1=Ve("circle-alert",r1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bc=Ve("circle-check-big",s1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ov=Ve("circle-x",i1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],lv=Ve("credit-card",a1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pl=Ve("dollar-sign",o1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],uv=Ve("download",l1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c1=Ve("eye",u1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],cv=Ve("funnel",d1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],f1=Ve("indian-rupee",h1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],p1=Ve("key",m1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],y1=Ve("layout-dashboard",g1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],dv=Ve("log-out",v1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],hv=Ve("mail",x1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],w1=Ve("map-pin",_1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],k1=Ve("menu",E1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],I1=Ve("moon",T1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],fv=Ve("phone",b1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gl=Ve("plus",S1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],mv=Ve("search",N1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C1=Ve("settings",A1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],P1=Ve("square-pen",R1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],D1=Ve("sun",j1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],pv=Ve("trash-2",V1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],M1=Ve("trending-up",L1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],gv=Ve("user-check",O1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],U1=Ve("user-x",F1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],yl=Ve("users",z1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$1=Ve("x",B1),q1=()=>{};var uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},H1=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],m=n[t++],y=((a&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,m=c?n[a+1]:0,y=a+2<n.length,v=y?n[a+2]:0,_=l>>2,E=(l&3)<<4|m>>4;let T=(m&15)<<2|v>>6,R=v&63;y||(R=64,c||(T=64)),s.push(t[_],t[E],t[T],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):H1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],m=a<n.length?t[n.charAt(a)]:0;++a;const v=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||m==null||v==null||E==null)throw new W1;const T=l<<2|m>>4;if(s.push(T),v!==64){const R=m<<4&240|v>>2;if(s.push(R),E!==64){const H=v<<6&192|E;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class W1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(n){const e=yv(n);return vv.encodeByteArray(e,!0)},Sc=function(n){return G1(n).replace(/\./g,"")},xv=function(n){try{return vv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=()=>K1().__FIREBASE_DEFAULTS__,Y1=()=>{if(typeof process>"u"||typeof uy>"u")return;const n=uy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},J1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xv(n[1]);return e&&JSON.parse(e)},Qc=()=>{try{return q1()||Q1()||Y1()||J1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_v=n=>Qc()?.emulatorHosts?.[n],X1=n=>{const e=_v(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},wv=()=>Qc()?.config,Ev=n=>Qc()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Sc(JSON.stringify(t)),Sc(JSON.stringify(c)),""].join(".")}const ol={};function tT(){const n={prod:[],emulator:[]};for(const e of Object.keys(ol))ol[e]?n.emulator.push(e):n.prod.push(e);return n}function rT(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let cy=!1;function Tv(n,e){if(typeof window>"u"||typeof document>"u"||!Qa(window.location.host)||ol[n]===e||ol[n]||cy)return;ol[n]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=tT().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function y(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function v(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{cy=!0,c()},T}function _(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=rT(s),R=t("text"),H=document.getElementById(R)||document.createElement("span"),V=t("learnmore"),F=document.getElementById(V)||document.createElement("a"),W=t("preprendIcon"),G=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ne=T.element;m(ne),_(F,V);const ee=v();y(G,W),ne.append(G,H,F,ee),document.body.appendChild(ne)}l?(H.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function sT(){const n=Qc()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lT(){const n=Ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uT(){return!sT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cT(){try{return typeof indexedDB=="object"}catch{return!1}}function dT(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="FirebaseError";class Qn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=hT,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?fT(l,s):"Error",m=`${this.serviceName}: ${c} (${a}).`;return new Qn(a,m,s)}}function fT(n,e){return n.replace(mT,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const mT=/\{\$([^}]+)}/g;function pT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ci(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],c=e[a];if(dy(l)&&dy(c)){if(!Ci(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function dy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function tl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function rl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gT(n,e){const t=new yT(n,e);return t.subscribe.bind(t)}class yT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");vT(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Qh),a.error===void 0&&(a.error=Qh),a.complete===void 0&&(a.complete=Qh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n){return n&&n._delegate?n._delegate:n}class Ri{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Z1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wT(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_T(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _T(n){return n===bi?void 0:n}function wT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ce||(Ce={}));const kT={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},TT=Ce.INFO,IT={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},bT=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=IT[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qf{constructor(e){this.name=e,this._logLevel=TT,this._logHandler=bT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const ST=(n,e)=>e.some(t=>n instanceof t);let hy,fy;function NT(){return hy||(hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AT(){return fy||(fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iv=new WeakMap,cf=new WeakMap,bv=new WeakMap,Yh=new WeakMap,Hf=new WeakMap;function CT(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ls(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Iv.set(t,n)}).catch(()=>{}),Hf.set(e,n),e}function RT(n){if(cf.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});cf.set(n,e)}let df={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ls(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PT(n){df=n(df)}function jT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Jh(this),e,...t);return bv.set(s,e.sort?e.sort():[e]),Ls(s)}:AT().includes(n)?function(...e){return n.apply(Jh(this),e),Ls(Iv.get(this))}:function(...e){return Ls(n.apply(Jh(this),e))}}function DT(n){return typeof n=="function"?jT(n):(n instanceof IDBTransaction&&RT(n),ST(n,NT())?new Proxy(n,df):n)}function Ls(n){if(n instanceof IDBRequest)return CT(n);if(Yh.has(n))return Yh.get(n);const e=DT(n);return e!==n&&(Yh.set(n,e),Hf.set(e,n)),e}const Jh=n=>Hf.get(n);function VT(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),m=Ls(c);return s&&c.addEventListener("upgradeneeded",y=>{s(Ls(c.result),y.oldVersion,y.newVersion,Ls(c.transaction),y)}),t&&c.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),m.then(y=>{l&&y.addEventListener("close",()=>l()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const LT=["get","getKey","getAll","getAllKeys","count"],MT=["put","add","delete","clear"],Xh=new Map;function my(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=MT.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||LT.includes(t)))return;const l=async function(c,...m){const y=this.transaction(c,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[t](...m),a&&y.done]))[0]};return Xh.set(e,l),l}PT(n=>({...n,get:(e,t,s)=>my(e,t)||n.get(e,t,s),has:(e,t)=>!!my(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FT(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function FT(n){return n.getComponent()?.type==="VERSION"}const hf="@firebase/app",py="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new qf("@firebase/app"),UT="@firebase/app-compat",zT="@firebase/analytics-compat",BT="@firebase/analytics",$T="@firebase/app-check-compat",qT="@firebase/app-check",HT="@firebase/auth",WT="@firebase/auth-compat",GT="@firebase/database",KT="@firebase/data-connect",QT="@firebase/database-compat",YT="@firebase/functions",JT="@firebase/functions-compat",XT="@firebase/installations",ZT="@firebase/installations-compat",eI="@firebase/messaging",tI="@firebase/messaging-compat",rI="@firebase/performance",nI="@firebase/performance-compat",sI="@firebase/remote-config",iI="@firebase/remote-config-compat",aI="@firebase/storage",oI="@firebase/storage-compat",lI="@firebase/firestore",uI="@firebase/ai",cI="@firebase/firestore-compat",dI="firebase",hI="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="[DEFAULT]",fI={[hf]:"fire-core",[UT]:"fire-core-compat",[BT]:"fire-analytics",[zT]:"fire-analytics-compat",[qT]:"fire-app-check",[$T]:"fire-app-check-compat",[HT]:"fire-auth",[WT]:"fire-auth-compat",[GT]:"fire-rtdb",[KT]:"fire-data-connect",[QT]:"fire-rtdb-compat",[YT]:"fire-fn",[JT]:"fire-fn-compat",[XT]:"fire-iid",[ZT]:"fire-iid-compat",[eI]:"fire-fcm",[tI]:"fire-fcm-compat",[rI]:"fire-perf",[nI]:"fire-perf-compat",[sI]:"fire-rc",[iI]:"fire-rc-compat",[aI]:"fire-gcs",[oI]:"fire-gcs-compat",[lI]:"fire-fst",[cI]:"fire-fst-compat",[uI]:"fire-vertex","fire-js":"fire-js",[dI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Map,mI=new Map,mf=new Map;function gy(n,e){try{n.container.addComponent(e)}catch(t){qn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oa(n){const e=n.name;if(mf.has(e))return qn.debug(`There were multiple attempts to register component ${e}.`),!1;mf.set(e,n);for(const t of vl.values())gy(t,n);for(const t of mI.values())gy(t,n);return!0}function Wf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function kr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new Pl("app","Firebase",pI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=hI;function Sv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:ff,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ms.create("bad-app-name",{appName:String(a)});if(t||(t=wv()),!t)throw Ms.create("no-options");const l=vl.get(a);if(l){if(Ci(t,l.options)&&Ci(s,l.config))return l;throw Ms.create("duplicate-app",{appName:a})}const c=new ET(a);for(const y of mf.values())c.addComponent(y);const m=new gI(t,s,c);return vl.set(a,m),m}function Nv(n=ff){const e=vl.get(n);if(!e&&n===ff&&wv())return Sv();if(!e)throw Ms.create("no-app",{appName:n});return e}function yy(){return Array.from(vl.values())}function Os(n,e,t){let s=fI[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qn.warn(c.join(" "));return}Oa(new Ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="firebase-heartbeat-database",vI=1,xl="firebase-heartbeat-store";let Zh=null;function Av(){return Zh||(Zh=VT(yI,vI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ms.create("idb-open",{originalErrorMessage:n.message})})),Zh}async function xI(n){try{const t=(await Av()).transaction(xl),s=await t.objectStore(xl).get(Cv(n));return await t.done,s}catch(e){if(e instanceof Qn)qn.warn(e.message);else{const t=Ms.create("idb-get",{originalErrorMessage:e?.message});qn.warn(t.message)}}}async function vy(n,e){try{const s=(await Av()).transaction(xl,"readwrite");await s.objectStore(xl).put(e,Cv(n)),await s.done}catch(t){if(t instanceof Qn)qn.warn(t.message);else{const s=Ms.create("idb-set",{originalErrorMessage:t?.message});qn.warn(s.message)}}}function Cv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=1024,wI=30;class EI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>wI){const a=II(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xy(),{heartbeatsToSend:t,unsentEntries:s}=kI(this._heartbeatsCache.heartbeats),a=Sc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return qn.warn(e),""}}}function xy(){return new Date().toISOString().substring(0,10)}function kI(n,e=_I){const t=[];let s=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),_y(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),_y(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class TI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cT()?dT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function _y(n){return Sc(JSON.stringify({version:2,heartbeats:n})).length}function II(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n){Oa(new Ri("platform-logger",e=>new OT(e),"PRIVATE")),Oa(new Ri("heartbeat",e=>new EI(e),"PRIVATE")),Os(hf,py,n),Os(hf,py,"esm2020"),Os("fire-js","")}bI("");var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,Rv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function S(){}S.prototype=I.prototype,N.F=I.prototype,N.prototype=new S,N.prototype.constructor=N,N.D=function(P,j,O){for(var A=Array(arguments.length-2),He=2;He<arguments.length;He++)A[He-2]=arguments[He];return I.prototype[j].apply(P,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,I,S){S||(S=0);const P=Array(16);if(typeof I=="string")for(var j=0;j<16;++j)P[j]=I.charCodeAt(S++)|I.charCodeAt(S++)<<8|I.charCodeAt(S++)<<16|I.charCodeAt(S++)<<24;else for(j=0;j<16;++j)P[j]=I[S++]|I[S++]<<8|I[S++]<<16|I[S++]<<24;I=N.g[0],S=N.g[1],j=N.g[2];let O=N.g[3],A;A=I+(O^S&(j^O))+P[0]+3614090360&4294967295,I=S+(A<<7&4294967295|A>>>25),A=O+(j^I&(S^j))+P[1]+3905402710&4294967295,O=I+(A<<12&4294967295|A>>>20),A=j+(S^O&(I^S))+P[2]+606105819&4294967295,j=O+(A<<17&4294967295|A>>>15),A=S+(I^j&(O^I))+P[3]+3250441966&4294967295,S=j+(A<<22&4294967295|A>>>10),A=I+(O^S&(j^O))+P[4]+4118548399&4294967295,I=S+(A<<7&4294967295|A>>>25),A=O+(j^I&(S^j))+P[5]+1200080426&4294967295,O=I+(A<<12&4294967295|A>>>20),A=j+(S^O&(I^S))+P[6]+2821735955&4294967295,j=O+(A<<17&4294967295|A>>>15),A=S+(I^j&(O^I))+P[7]+4249261313&4294967295,S=j+(A<<22&4294967295|A>>>10),A=I+(O^S&(j^O))+P[8]+1770035416&4294967295,I=S+(A<<7&4294967295|A>>>25),A=O+(j^I&(S^j))+P[9]+2336552879&4294967295,O=I+(A<<12&4294967295|A>>>20),A=j+(S^O&(I^S))+P[10]+4294925233&4294967295,j=O+(A<<17&4294967295|A>>>15),A=S+(I^j&(O^I))+P[11]+2304563134&4294967295,S=j+(A<<22&4294967295|A>>>10),A=I+(O^S&(j^O))+P[12]+1804603682&4294967295,I=S+(A<<7&4294967295|A>>>25),A=O+(j^I&(S^j))+P[13]+4254626195&4294967295,O=I+(A<<12&4294967295|A>>>20),A=j+(S^O&(I^S))+P[14]+2792965006&4294967295,j=O+(A<<17&4294967295|A>>>15),A=S+(I^j&(O^I))+P[15]+1236535329&4294967295,S=j+(A<<22&4294967295|A>>>10),A=I+(j^O&(S^j))+P[1]+4129170786&4294967295,I=S+(A<<5&4294967295|A>>>27),A=O+(S^j&(I^S))+P[6]+3225465664&4294967295,O=I+(A<<9&4294967295|A>>>23),A=j+(I^S&(O^I))+P[11]+643717713&4294967295,j=O+(A<<14&4294967295|A>>>18),A=S+(O^I&(j^O))+P[0]+3921069994&4294967295,S=j+(A<<20&4294967295|A>>>12),A=I+(j^O&(S^j))+P[5]+3593408605&4294967295,I=S+(A<<5&4294967295|A>>>27),A=O+(S^j&(I^S))+P[10]+38016083&4294967295,O=I+(A<<9&4294967295|A>>>23),A=j+(I^S&(O^I))+P[15]+3634488961&4294967295,j=O+(A<<14&4294967295|A>>>18),A=S+(O^I&(j^O))+P[4]+3889429448&4294967295,S=j+(A<<20&4294967295|A>>>12),A=I+(j^O&(S^j))+P[9]+568446438&4294967295,I=S+(A<<5&4294967295|A>>>27),A=O+(S^j&(I^S))+P[14]+3275163606&4294967295,O=I+(A<<9&4294967295|A>>>23),A=j+(I^S&(O^I))+P[3]+4107603335&4294967295,j=O+(A<<14&4294967295|A>>>18),A=S+(O^I&(j^O))+P[8]+1163531501&4294967295,S=j+(A<<20&4294967295|A>>>12),A=I+(j^O&(S^j))+P[13]+2850285829&4294967295,I=S+(A<<5&4294967295|A>>>27),A=O+(S^j&(I^S))+P[2]+4243563512&4294967295,O=I+(A<<9&4294967295|A>>>23),A=j+(I^S&(O^I))+P[7]+1735328473&4294967295,j=O+(A<<14&4294967295|A>>>18),A=S+(O^I&(j^O))+P[12]+2368359562&4294967295,S=j+(A<<20&4294967295|A>>>12),A=I+(S^j^O)+P[5]+4294588738&4294967295,I=S+(A<<4&4294967295|A>>>28),A=O+(I^S^j)+P[8]+2272392833&4294967295,O=I+(A<<11&4294967295|A>>>21),A=j+(O^I^S)+P[11]+1839030562&4294967295,j=O+(A<<16&4294967295|A>>>16),A=S+(j^O^I)+P[14]+4259657740&4294967295,S=j+(A<<23&4294967295|A>>>9),A=I+(S^j^O)+P[1]+2763975236&4294967295,I=S+(A<<4&4294967295|A>>>28),A=O+(I^S^j)+P[4]+1272893353&4294967295,O=I+(A<<11&4294967295|A>>>21),A=j+(O^I^S)+P[7]+4139469664&4294967295,j=O+(A<<16&4294967295|A>>>16),A=S+(j^O^I)+P[10]+3200236656&4294967295,S=j+(A<<23&4294967295|A>>>9),A=I+(S^j^O)+P[13]+681279174&4294967295,I=S+(A<<4&4294967295|A>>>28),A=O+(I^S^j)+P[0]+3936430074&4294967295,O=I+(A<<11&4294967295|A>>>21),A=j+(O^I^S)+P[3]+3572445317&4294967295,j=O+(A<<16&4294967295|A>>>16),A=S+(j^O^I)+P[6]+76029189&4294967295,S=j+(A<<23&4294967295|A>>>9),A=I+(S^j^O)+P[9]+3654602809&4294967295,I=S+(A<<4&4294967295|A>>>28),A=O+(I^S^j)+P[12]+3873151461&4294967295,O=I+(A<<11&4294967295|A>>>21),A=j+(O^I^S)+P[15]+530742520&4294967295,j=O+(A<<16&4294967295|A>>>16),A=S+(j^O^I)+P[2]+3299628645&4294967295,S=j+(A<<23&4294967295|A>>>9),A=I+(j^(S|~O))+P[0]+4096336452&4294967295,I=S+(A<<6&4294967295|A>>>26),A=O+(S^(I|~j))+P[7]+1126891415&4294967295,O=I+(A<<10&4294967295|A>>>22),A=j+(I^(O|~S))+P[14]+2878612391&4294967295,j=O+(A<<15&4294967295|A>>>17),A=S+(O^(j|~I))+P[5]+4237533241&4294967295,S=j+(A<<21&4294967295|A>>>11),A=I+(j^(S|~O))+P[12]+1700485571&4294967295,I=S+(A<<6&4294967295|A>>>26),A=O+(S^(I|~j))+P[3]+2399980690&4294967295,O=I+(A<<10&4294967295|A>>>22),A=j+(I^(O|~S))+P[10]+4293915773&4294967295,j=O+(A<<15&4294967295|A>>>17),A=S+(O^(j|~I))+P[1]+2240044497&4294967295,S=j+(A<<21&4294967295|A>>>11),A=I+(j^(S|~O))+P[8]+1873313359&4294967295,I=S+(A<<6&4294967295|A>>>26),A=O+(S^(I|~j))+P[15]+4264355552&4294967295,O=I+(A<<10&4294967295|A>>>22),A=j+(I^(O|~S))+P[6]+2734768916&4294967295,j=O+(A<<15&4294967295|A>>>17),A=S+(O^(j|~I))+P[13]+1309151649&4294967295,S=j+(A<<21&4294967295|A>>>11),A=I+(j^(S|~O))+P[4]+4149444226&4294967295,I=S+(A<<6&4294967295|A>>>26),A=O+(S^(I|~j))+P[11]+3174756917&4294967295,O=I+(A<<10&4294967295|A>>>22),A=j+(I^(O|~S))+P[2]+718787259&4294967295,j=O+(A<<15&4294967295|A>>>17),A=S+(O^(j|~I))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(j+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+O&4294967295}s.prototype.v=function(N,I){I===void 0&&(I=N.length);const S=I-this.blockSize,P=this.C;let j=this.h,O=0;for(;O<I;){if(j==0)for(;O<=S;)a(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<I;)if(P[j++]=N.charCodeAt(O++),j==this.blockSize){a(this,P),j=0;break}}else for(;O<I;)if(P[j++]=N[O++],j==this.blockSize){a(this,P),j=0;break}}this.h=j,this.o+=I},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var S=N.length-8;S<N.length;++S)N[S]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,S=0;S<4;++S)for(let P=0;P<32;P+=8)N[I++]=this.g[S]>>>P&255;return N};function l(N,I){var S=m;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=I(N)}function c(N,I){this.h=I;const S=[];let P=!0;for(let j=N.length-1;j>=0;j--){const O=N[j]|0;P&&O==I||(S[j]=O,P=!1)}this.g=S}var m={};function y(N){return-128<=N&&N<128?l(N,function(I){return new c([I|0],I<0?-1:0)}):new c([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return F(v(-N));const I=[];let S=1;for(let P=0;N>=S;P++)I[P]=N/S|0,S*=4294967296;return new c(I,0)}function _(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return F(_(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=v(Math.pow(I,8));let P=E;for(let O=0;O<N.length;O+=8){var j=Math.min(8,N.length-O);const A=parseInt(N.substring(O,O+j),I);j<8?(j=v(Math.pow(I,j)),P=P.j(j).add(v(A))):(P=P.j(S),P=P.add(v(A)))}return P}var E=y(0),T=y(1),R=y(16777216);n=c.prototype,n.m=function(){if(V(this))return-F(this).m();let N=0,I=1;for(let S=0;S<this.g.length;S++){const P=this.i(S);N+=(P>=0?P:4294967296+P)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(V(this))return"-"+F(this).toString(N);const I=v(Math.pow(N,6));var S=this;let P="";for(;;){const j=ee(S,I).g;S=W(S,j.j(I));let O=((S.g.length>0?S.g[0]:S.h)>>>0).toString(N);if(S=j,H(S))return O+P;for(;O.length<6;)O="0"+O;P=O+P}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function V(N){return N.h==-1}n.l=function(N){return N=W(this,N),V(N)?-1:H(N)?0:1};function F(N){const I=N.g.length,S=[];for(let P=0;P<I;P++)S[P]=~N.g[P];return new c(S,~N.h).add(T)}n.abs=function(){return V(this)?F(this):this},n.add=function(N){const I=Math.max(this.g.length,N.g.length),S=[];let P=0;for(let j=0;j<=I;j++){let O=P+(this.i(j)&65535)+(N.i(j)&65535),A=(O>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);P=A>>>16,O&=65535,A&=65535,S[j]=A<<16|O}return new c(S,S[S.length-1]&-2147483648?-1:0)};function W(N,I){return N.add(F(I))}n.j=function(N){if(H(this)||H(N))return E;if(V(this))return V(N)?F(this).j(F(N)):F(F(this).j(N));if(V(N))return F(this.j(F(N)));if(this.l(R)<0&&N.l(R)<0)return v(this.m()*N.m());const I=this.g.length+N.g.length,S=[];for(var P=0;P<2*I;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(let j=0;j<N.g.length;j++){const O=this.i(P)>>>16,A=this.i(P)&65535,He=N.i(j)>>>16,Le=N.i(j)&65535;S[2*P+2*j]+=A*Le,G(S,2*P+2*j),S[2*P+2*j+1]+=O*Le,G(S,2*P+2*j+1),S[2*P+2*j+1]+=A*He,G(S,2*P+2*j+1),S[2*P+2*j+2]+=O*He,G(S,2*P+2*j+2)}for(N=0;N<I;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=I;N<2*I;N++)S[N]=0;return new c(S,0)};function G(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function ne(N,I){this.g=N,this.h=I}function ee(N,I){if(H(I))throw Error("division by zero");if(H(N))return new ne(E,E);if(V(N))return I=ee(F(N),I),new ne(F(I.g),F(I.h));if(V(I))return I=ee(N,F(I)),new ne(F(I.g),I.h);if(N.g.length>30){if(V(N)||V(I))throw Error("slowDivide_ only works with positive integers.");for(var S=T,P=I;P.l(N)<=0;)S=me(S),P=me(P);var j=te(S,1),O=te(P,1);for(P=te(P,2),S=te(S,2);!H(P);){var A=O.add(P);A.l(N)<=0&&(j=j.add(S),O=A),P=te(P,1),S=te(S,1)}return I=W(N,j.j(I)),new ne(j,I)}for(j=E;N.l(I)>=0;){for(S=Math.max(1,Math.floor(N.m()/I.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),O=v(S),A=O.j(I);V(A)||A.l(N)>0;)S-=P,O=v(S),A=O.j(I);H(O)&&(O=T),j=j.add(O),N=W(N,A)}return new ne(j,N)}n.B=function(N){return ee(this,N).h},n.and=function(N){const I=Math.max(this.g.length,N.g.length),S=[];for(let P=0;P<I;P++)S[P]=this.i(P)&N.i(P);return new c(S,this.h&N.h)},n.or=function(N){const I=Math.max(this.g.length,N.g.length),S=[];for(let P=0;P<I;P++)S[P]=this.i(P)|N.i(P);return new c(S,this.h|N.h)},n.xor=function(N){const I=Math.max(this.g.length,N.g.length),S=[];for(let P=0;P<I;P++)S[P]=this.i(P)^N.i(P);return new c(S,this.h^N.h)};function me(N){const I=N.g.length+1,S=[];for(let P=0;P<I;P++)S[P]=N.i(P)<<1|N.i(P-1)>>>31;return new c(S,N.h)}function te(N,I){const S=I>>5;I%=32;const P=N.g.length-S,j=[];for(let O=0;O<P;O++)j[O]=I>0?N.i(O+S)>>>I|N.i(O+S+1)<<32-I:N.i(O+S);return new c(j,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Rv=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=_,Fs=c}).apply(typeof wy<"u"?wy:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pv,nl,jv,pc,pf,Dv,Vv,Lv;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var g=0;g<u.length;++g){var x=u[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=t(this);function a(u,g){if(g)e:{var x=s;u=u.split(".");for(var k=0;k<u.length-1;k++){var z=u[k];if(!(z in x))break e;x=x[z]}u=u[u.length-1],k=x[u],g=g(k),g!=k&&g!=null&&e(x,u,{configurable:!0,writable:!0,value:g})}}a("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(u){return u||function(g){var x=[],k;for(k in g)Object.prototype.hasOwnProperty.call(g,k)&&x.push([k,g[k]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,x){return u.call.apply(u.bind,arguments)}function v(u,g,x){return v=y,v.apply(null,arguments)}function _(u,g){var x=Array.prototype.slice.call(arguments,1);return function(){var k=x.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function E(u,g){function x(){}x.prototype=g.prototype,u.Z=g.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(k,z,q){for(var se=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)se[Te-2]=arguments[Te];return g.prototype[z].apply(k,se)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function R(u){const g=u.length;if(g>0){const x=Array(g);for(let k=0;k<g;k++)x[k]=u[k];return x}return[]}function H(u,g){for(let k=1;k<arguments.length;k++){const z=arguments[k];var x=typeof z;if(x=x!="object"?x:z?Array.isArray(z)?"array":x:"null",x=="array"||x=="object"&&typeof z.length=="number"){x=u.length||0;const q=z.length||0;u.length=x+q;for(let se=0;se<q;se++)u[x+se]=z[se]}else u.push(z)}}class V{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(u){c.setTimeout(()=>{throw u},0)}function W(){var u=N;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class G{constructor(){this.h=this.g=null}add(g,x){const k=ne.get();k.set(g,x),this.h?this.h.next=k:this.g=k,this.h=k}}var ne=new V(()=>new ee,u=>u.reset());class ee{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let me,te=!1,N=new G,I=()=>{const u=Promise.resolve(void 0);me=()=>{u.then(S)}};function S(){for(var u;u=W();){try{u.h.call(u.g)}catch(x){F(x)}var g=ne;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}te=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};c.addEventListener("test",x,g),c.removeEventListener("test",x,g)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function He(u,g){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}E(He,j),He.prototype.init=function(u,g){const x=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(x=="mouseover"?g=u.fromElement:x=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),kt=0;function We(u,g,x,k,z){this.listener=u,this.proxy=null,this.src=g,this.type=x,this.capture=!!k,this.ha=z,this.key=++kt,this.da=this.fa=!1}function ie(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pe(u,g,x){for(const k in u)g.call(x,u[k],k,u)}function ue(u,g){for(const x in u)g.call(void 0,u[x],x,u)}function M(u){const g={};for(const x in u)g[x]=u[x];return g}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(u,g){let x,k;for(let z=1;z<arguments.length;z++){k=arguments[z];for(x in k)u[x]=k[x];for(let q=0;q<Y.length;q++)x=Y[q],Object.prototype.hasOwnProperty.call(k,x)&&(u[x]=k[x])}}function be(u){this.src=u,this.g={},this.h=0}be.prototype.add=function(u,g,x,k,z){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const se=Ae(u,g,k,z);return se>-1?(g=u[se],x||(g.fa=!1)):(g=new We(g,this.src,q,!!k,z),g.fa=x,u.push(g)),g};function Ne(u,g){const x=g.type;if(x in u.g){var k=u.g[x],z=Array.prototype.indexOf.call(k,g,void 0),q;(q=z>=0)&&Array.prototype.splice.call(k,z,1),q&&(ie(g),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Ae(u,g,x,k){for(let z=0;z<u.length;++z){const q=u[z];if(!q.da&&q.listener==g&&q.capture==!!x&&q.ha==k)return z}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),Me={};function Ge(u,g,x,k,z){if(Array.isArray(g)){for(let q=0;q<g.length;q++)Ge(u,g[q],x,k,z);return null}return x=so(x),u&&u[Le]?u.J(g,x,m(k)?!!k.capture:!1,z):Wt(u,g,x,!1,k,z)}function Wt(u,g,x,k,z,q){if(!g)throw Error("Invalid event type");const se=m(z)?!!z.capture:!!z;let Te=zi(u);if(Te||(u[$e]=Te=new be(u)),x=Te.add(g,x,k,se,q),x.proxy)return x;if(k=Fi(),x.proxy=k,k.src=u,k.listener=x,u.addEventListener)O||(z=se),z===void 0&&(z=!1),u.addEventListener(g.toString(),k,z);else if(u.attachEvent)u.attachEvent(Ui(g.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Fi(){function u(x){return g.call(u.src,u.listener,x)}const g=ql;return u}function no(u,g,x,k,z){if(Array.isArray(g))for(var q=0;q<g.length;q++)no(u,g[q],x,k,z);else k=m(k)?!!k.capture:!!k,x=so(x),u&&u[Le]?(u=u.i,q=String(g).toString(),q in u.g&&(g=u.g[q],x=Ae(g,x,k,z),x>-1&&(ie(g[x]),Array.prototype.splice.call(g,x,1),g.length==0&&(delete u.g[q],u.h--)))):u&&(u=zi(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ae(g,x,k,z)),(x=u>-1?g[u]:null)&&Xn(x))}function Xn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Le])Ne(g.i,u);else{var x=u.type,k=u.proxy;g.removeEventListener?g.removeEventListener(x,k,u.capture):g.detachEvent?g.detachEvent(Ui(x),k):g.addListener&&g.removeListener&&g.removeListener(k),(x=zi(g))?(Ne(x,u),x.h==0&&(x.src=null,g[$e]=null)):ie(u)}}}function Ui(u){return u in Me?Me[u]:Me[u]="on"+u}function ql(u,g){if(u.da)u=!0;else{g=new He(g,this);const x=u.listener,k=u.ha||u.src;u.fa&&Xn(u),u=x.call(k,g)}return u}function zi(u){return u=u[$e],u instanceof be?u:null}var Zs="__closure_events_fn_"+(Math.random()*1e9>>>0);function so(u){return typeof u=="function"?u:(u[Zs]||(u[Zs]=function(g){return u.handleEvent(g)}),u[Zs])}function ft(){P.call(this),this.i=new be(this),this.M=this,this.G=null}E(ft,P),ft.prototype[Le]=!0,ft.prototype.removeEventListener=function(u,g,x,k){no(this,u,g,x,k)};function lt(u,g){var x,k=u.G;if(k)for(x=[];k;k=k.G)x.push(k);if(u=u.M,k=g.type||g,typeof g=="string")g=new j(g,u);else if(g instanceof j)g.target=g.target||u;else{var z=g;g=new j(k,u),Ie(g,z)}z=!0;let q,se;if(x)for(se=x.length-1;se>=0;se--)q=g.g=x[se],z=Nr(q,k,!0,g)&&z;if(q=g.g=u,z=Nr(q,k,!0,g)&&z,z=Nr(q,k,!1,g)&&z,x)for(se=0;se<x.length;se++)q=g.g=x[se],z=Nr(q,k,!1,g)&&z}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const x=u.g[g];for(let k=0;k<x.length;k++)ie(x[k]);delete u.g[g],u.h--}}this.G=null},ft.prototype.J=function(u,g,x,k){return this.i.add(String(u),g,!1,x,k)},ft.prototype.K=function(u,g,x,k){return this.i.add(String(u),g,!0,x,k)};function Nr(u,g,x,k){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let q=0;q<g.length;++q){const se=g[q];if(se&&!se.da&&se.capture==x){const Te=se.listener,ut=se.ha||se.src;se.fa&&Ne(u.i,se),z=Te.call(ut,k)!==!1&&z}}return z&&!k.defaultPrevented}function io(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:c.setTimeout(u,g||0)}function ao(u){u.g=io(()=>{u.g=null,u.i&&(u.i=!1,ao(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Hl extends P{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ao(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(u){P.call(this),this.h=u,this.g={}}E(Zn,P);var oo=[];function Bi(u){pe(u.g,function(g,x){this.g.hasOwnProperty(x)&&Xn(g)},u),u.g={}}Zn.prototype.N=function(){Zn.Z.N.call(this),Bi(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var es=c.JSON.stringify,Wl=c.JSON.parse,ei=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function ts(){}function Gl(){}var rs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $i(){j.call(this,"d")}E($i,j);function lo(){j.call(this,"c")}E(lo,j);var Ar={},qi=null;function ns(){return qi=qi||new ft}Ar.Ia="serverreachability";function Hi(u){j.call(this,Ar.Ia,u)}E(Hi,j);function wn(u){const g=ns();lt(g,new Hi(g))}Ar.STAT_EVENT="statevent";function En(u,g){j.call(this,Ar.STAT_EVENT,u),this.stat=g}E(En,j);function at(u){const g=ns();lt(g,new En(g,u))}Ar.Ja="timingevent";function uo(u,g){j.call(this,Ar.Ja,u),this.size=g}E(uo,j);function ss(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},g)}function is(){this.g=!0}is.prototype.ua=function(){this.g=!1};function Kl(u,g,x,k,z,q){u.info(function(){if(u.g)if(q){var se="",Te=q.split("&");for(let qe=0;qe<Te.length;qe++){var ut=Te[qe].split("=");if(ut.length>1){const mt=ut[0];ut=ut[1];const ur=mt.split("_");se=ur.length>=2&&ur[1]=="type"?se+(mt+"="+ut+"&"):se+(mt+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+k+") [attempt "+z+"]: "+g+`
`+x+`
`+se})}function Ql(u,g,x,k,z,q,se){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+z+"]: "+g+`
`+x+`
`+q+" "+se})}function Hr(u,g,x,k){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ti(u,x)+(k?" "+k:"")})}function Yl(u,g){u.info(function(){return"TIMEOUT: "+g})}is.prototype.info=function(){};function ti(u,g){if(!u.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var x=q[u];if(!(x.length<2)){var k=x[1];if(Array.isArray(k)&&!(k.length<1)){var z=k[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<k.length;se++)k[se]=""}}}}return es(q)}catch{return g}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},os={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jl;function kn(){}E(kn,ts),kn.prototype.g=function(){return new XMLHttpRequest},Jl=new kn;function Wr(u){return encodeURIComponent(String(u))}function Wi(u){var g=1;u=u.split(":");const x=[];for(;g>0&&u.length;)x.push(u.shift()),g--;return u.length&&x.push(u.join(":")),x}function pr(u,g,x,k){this.j=u,this.i=g,this.l=x,this.S=k||1,this.V=new Zn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xl}function Xl(){this.i=null,this.g="",this.h=!1}var Zl={},co={};function Cr(u,g,x){u.M=1,u.A=In(gr(g)),u.u=x,u.R=!0,ho(u,null)}function ho(u,g){u.F=Date.now(),ri(u),u.B=gr(u.A);var x=u.B,k=u.S;Array.isArray(k)||(k=[String(k)]),Eo(x.i,"t",k),u.C=0,x=u.j.L,u.h=new Xl,u.g=uu(u.j,x?g:null,!u.u),u.P>0&&(u.O=new Hl(v(u.Y,u,u.g),u.P)),g=u.V,x=u.g,k=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(oo[0]=z.toString()),z=oo);for(let q=0;q<z.length;q++){const se=Ge(x,z[q],k||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),wn(),Kl(u.i,u.v,u.B,u.l,u.S,u.u)}pr.prototype.ba=function(u){u=u.target;const g=this.O;g&&Zr(u)==3?g.j():this.Y(u)},pr.prototype.Y=function(u){try{if(u==this.g)e:{const Te=Zr(this.g),ut=this.g.ya(),qe=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||ou(this.g)))){this.K||Te!=4||ut==7||(ut==8||qe<=0?wn(3):wn(2)),Gi(this);var g=this.g.ca();this.X=g;var x=eu(this);if(this.o=g==200,Ql(this.i,this.v,this.B,this.l,this.S,Te,g),this.o){if(this.U&&!this.L){t:{if(this.g){var k,z=this.g;if((k=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(k)){var q=k;break t}}q=null}if(u=q)Hr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Je(this,u);else{this.o=!1,this.m=3,at(12),Tn(this),ni(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<x.length;)if(mt=ru(this,x),mt==co){Te==4&&(this.m=4,at(14),u=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Zl){this.m=4,at(15),Hr(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else Hr(this.i,this.l,mt,null),Je(this,mt);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||x.length!=0||this.h.h||(this.m=1,at(16),u=!1),this.o=this.o&&u,!u)Hr(this.i,this.l,x,"[Invalid Chunked Response]"),Tn(this),ni(this);else if(x.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),hi(se),se.P=!0,at(11))}}else Hr(this.i,this.l,x,null),Je(this,x);Te==4&&Tn(this),this.o&&!this.K&&(Te==4?na(this.j,this):(this.o=!1,ri(this)))}else To(this.g),g==400&&x.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),Tn(this),ni(this)}}}catch{}finally{}};function eu(u){if(!tu(u))return u.g.la();const g=ou(u.g);if(g==="")return"";let x="";const k=g.length,z=Zr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),ni(u),"";u.h.i=new c.TextDecoder}for(let q=0;q<k;q++)u.h.h=!0,x+=u.h.i.decode(g[q],{stream:!(z&&q==k-1)});return g.length=0,u.h.g+=x,u.C=0,u.h.g}function tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,g){var x=u.C,k=g.indexOf(`
`,x);return k==-1?co:(x=Number(g.substring(x,k)),isNaN(x)?Zl:(k+=1,k+x>g.length?co:(g=g.slice(k,k+x),u.C=k+x,g)))}pr.prototype.cancel=function(){this.K=!0,Tn(this)};function ri(u){u.T=Date.now()+u.H,fo(u,u.H)}function fo(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ss(v(u.aa,u),g)}function Gi(u){u.D&&(c.clearTimeout(u.D),u.D=null)}pr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Yl(this.i,this.B),this.M!=2&&(wn(),at(17)),Tn(this),this.m=2,ni(this)):fo(this,this.T-u)};function ni(u){u.j.I==0||u.K||na(u.j,u)}function Tn(u){Gi(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Bi(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Je(u,g){try{var x=u.j;if(x.I!=0&&(x.g==u||po(x.h,u))){if(!u.L&&po(x.h,u)&&x.I==3){try{var k=x.Ba.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var z=k;if(z[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)ra(x),or(x);else break e;rn(x),at(18)}}else x.xa=z[1],0<x.xa-x.K&&z[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=ss(v(x.Va,x),6e3));si(x.h)<=1&&x.ta&&(x.ta=void 0)}else lr(x,11)}else if((u.L||x.g==u)&&ra(x),!A(g))for(z=x.Ba.g.parse(g),g=0;g<z.length;g++){let qe=z[g];const mt=qe[0];if(!(mt<=x.K))if(x.K=mt,qe=qe[1],x.I==2)if(qe[0]=="c"){x.M=qe[1],x.ba=qe[2];const ur=qe[3];ur!=null&&(x.ka=ur,x.j.info("VER="+x.ka));const Cn=qe[4];Cn!=null&&(x.za=Cn,x.j.info("SVER="+x.za));const nn=qe[5];nn!=null&&typeof nn=="number"&&nn>0&&(k=1.5*nn,x.O=k,x.j.info("backChannelRequestTimeoutMs_="+k)),k=x;const sn=u.g;if(sn){const aa=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var q=k.h;q.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Qi(q,q.h),q.h=null))}if(k.G){const So=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(k.wa=So,Ue(k.J,k.G,So))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),k=x;var se=u;if(k.na=bo(k,k.L?k.ba:null,k.W),se.L){ii(k.h,se);var Te=se,ut=k.O;ut&&(Te.H=ut),Te.D&&(Gi(Te),ri(Te)),k.g=se}else Mt(k);x.i.length>0&&An(x)}else qe[0]!="stop"&&qe[0]!="close"||lr(x,7);else x.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?lr(x,7):ea(x):qe[0]!="noop"&&x.l&&x.l.qa(qe),x.A=0)}}wn(4)}catch{}}var vd=class{constructor(u,g){this.g=u,this.map=g}};function Ki(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function si(u){return u.h?1:u.g?u.g.size:0}function po(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Qi(u,g){u.g?u.g.add(g):u.h=g}function ii(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ki.prototype.cancel=function(){if(this.i=sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const x of u.g.values())g=g.concat(x.G);return g}return R(u.i)}var nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ir(u,g){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const k=u[x].indexOf("=");let z,q=null;k>=0?(z=u[x].substring(0,k),q=u[x].substring(k+1)):z=u[x],g(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Gr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Gr?(this.l=u.l,ai(this,u.j),this.o=u.o,this.g=u.g,Kr(this,u.u),this.h=u.h,ls(this,ko(u.i)),this.m=u.m):u&&(g=String(u).match(nu))?(this.l=!1,ai(this,g[1]||"",!0),this.o=oi(g[2]||""),this.g=oi(g[3]||"",!0),Kr(this,g[4]),this.h=oi(g[5]||"",!0),ls(this,g[6]||"",!0),this.m=oi(g[7]||"")):(this.l=!1,this.i=new je(null,this.l))}Gr.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(li(g,yo,!0),":");var x=this.g;return(x||g=="file")&&(u.push("//"),(g=this.o)&&u.push(li(g,yo,!0),"@"),u.push(Wr(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(li(x,x.charAt(0)=="/"?ui:vo,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",li(x,xo)),u.join("")},Gr.prototype.resolve=function(u){const g=gr(this);let x=!!u.j;x?ai(g,u.j):x=!!u.o,x?g.o=u.o:x=!!u.g,x?g.g=u.g:x=u.u!=null;var k=u.h;if(x)Kr(g,u.u);else if(x=!!u.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var z=g.h.lastIndexOf("/");z!=-1&&(k=g.h.slice(0,z+1)+k)}if(z=k,z==".."||z==".")k="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){k=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let se=0;se<z.length;){const Te=z[se++];Te=="."?k&&se==z.length&&q.push(""):Te==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),k&&se==z.length&&q.push("")):(q.push(Te),k=!0)}k=q.join("/")}else k=z}return x?g.h=k:x=u.i.toString()!=="",x?ls(g,ko(u.i)):x=!!u.m,x&&(g.m=u.m),g};function gr(u){return new Gr(u)}function ai(u,g,x){u.j=x?oi(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Kr(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function ls(u,g,x){g instanceof je?(u.i=g,Ji(u.i,u.l)):(x||(g=li(g,xd)),u.i=new je(g,u.l))}function Ue(u,g,x){u.i.set(g,x)}function In(u){return Ue(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function li(u,g,x){return typeof u=="string"?(u=encodeURI(u).replace(g,go),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function go(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yo=/[#\/\?@]/g,vo=/[#\?:]/g,ui=/[#\?]/g,xd=/[#\?@]/g,xo=/#/g;function je(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Qr(u){u.g||(u.g=new Map,u.h=0,u.i&&ir(u.i,function(g,x){u.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}n=je.prototype,n.add=function(u,g){Qr(this),this.i=null,u=Yr(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(g),this.h+=1,this};function _o(u,g){Qr(u),g=Yr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Yi(u,g){return Qr(u),g=Yr(u,g),u.g.has(g)}n.forEach=function(u,g){Qr(this),this.g.forEach(function(x,k){x.forEach(function(z){u.call(g,z,k,this)},this)},this)};function wo(u,g){Qr(u);let x=[];if(typeof g=="string")Yi(u,g)&&(x=x.concat(u.g.get(Yr(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)x=x.concat(u[g]);return x}n.set=function(u,g){return Qr(this),this.i=null,u=Yr(this,u),Yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=wo(this,u),u.length>0?String(u[0]):g):g};function Eo(u,g,x){_o(u,g),x.length>0&&(u.i=null,u.g.set(Yr(u,g),R(x)),u.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let k=0;k<g.length;k++){var x=g[k];const z=Wr(x);x=wo(this,x);for(let q=0;q<x.length;q++){let se=z;x[q]!==""&&(se+="="+Wr(x[q])),u.push(se)}}return this.i=u.join("&")};function ko(u){const g=new je;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Yr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Ji(u,g){g&&!u.j&&(Qr(u),u.i=null,u.g.forEach(function(x,k){const z=k.toLowerCase();k!=z&&(_o(this,k),Eo(this,z,x))},u)),u.j=g}function Jr(u,g){const x=new is;if(c.Image){const k=new Image;k.onload=_(Ct,x,"TestLoadImage: loaded",!0,g,k),k.onerror=_(Ct,x,"TestLoadImage: error",!1,g,k),k.onabort=_(Ct,x,"TestLoadImage: abort",!1,g,k),k.ontimeout=_(Ct,x,"TestLoadImage: timeout",!1,g,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else g(!1)}function Xr(u,g){const x=new is,k=new AbortController,z=setTimeout(()=>{k.abort(),Ct(x,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:k.signal}).then(q=>{clearTimeout(z),q.ok?Ct(x,"TestPingServer: ok",!0,g):Ct(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Ct(x,"TestPingServer: error",!1,g)})}function Ct(u,g,x,k,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),k(x)}catch{}}function ci(){this.g=new ei}function bn(u){this.i=u.Sb||null,this.h=u.ab||!1}E(bn,ts),bn.prototype.g=function(){return new ar(this.i,this.h)};function ar(u,g){ft.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ar,ft),n=ar.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,Rr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||c).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;su(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function su(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?us(this):Rr(this),this.readyState==3&&su(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},n.Na=function(u){this.g&&(this.response=u,us(this))},n.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Rr(u)}n.setRequestHeader=function(u,g){this.A.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=g.next();return u.join(`\r
`)};function Rr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function iu(u){let g="";return pe(u,function(x,k){g+=k,g+=":",g+=x,g+=`\r
`}),g}function Xi(u,g,x){e:{for(k in x){var k=!1;break e}k=!0}k||(x=iu(x),typeof u=="string"?x!=null&&Wr(x):Ue(u,g,x))}function Ke(u){ft.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ke,ft);var au=/^https?$/i,_d=["POST","PUT"];n=Ke.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,g,x,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jl.g(),this.g.onreadystatechange=T(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(q){cs(this,q);return}if(u=x||"",x=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var z in k)x.set(z,k[z]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const q of k.keys())x.set(q,k.get(q));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(x.keys()).find(q=>q.toLowerCase()=="content-type"),z=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(_d,g,void 0)>=0)||k||z||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of x)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){cs(this,q)}};function cs(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,ds(u),Nn(u)}function ds(u){u.A||(u.A=!0,lt(u,"complete"),lt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,lt(this,"complete"),lt(this,"abort"),Nn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),Ke.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Sn(this):this.Xa())},n.Xa=function(){Sn(this)};function Sn(u){if(u.h&&typeof l<"u"){if(u.v&&Zr(u)==4)setTimeout(u.Ca.bind(u),0);else if(lt(u,"readystatechange"),Zr(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var k;if(k=q===0){let se=String(u.D).match(nu)[1]||null;!se&&c.self&&c.self.location&&(se=c.self.location.protocol.slice(0,-1)),k=!au.test(se?se.toLowerCase():"")}x=k}if(x)lt(u,"complete"),lt(u,"success");else{u.o=6;try{var z=Zr(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",ds(u)}}finally{Nn(u)}}}}function Nn(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,g||lt(u,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Zr(u){return u.g?u.g.readyState:0}n.ca=function(){try{return Zr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Wl(g)}};function ou(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function To(u){const g={};u=(u.g&&Zr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(A(u[k]))continue;var x=Wi(u[k]);const z=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const q=g[z]||[];g[z]=q,q.push(x)}ue(g,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function en(u,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||g}function Zi(u){this.za=0,this.i=[],this.j=new is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=en("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=en("baseRetryDelayMs",5e3,u),this.Za=en("retryDelaySeedMs",1e4,u),this.Ta=en("forwardChannelMaxRetries",2,u),this.va=en("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ki(u&&u.concurrentRequestLimit),this.Ba=new ci,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Zi.prototype,n.ka=8,n.I=1,n.connect=function(u,g,x,k){at(0),this.W=u,this.H=g||{},x&&k!==void 0&&(this.H.OSID=x,this.H.OAID=k),this.F=this.X,this.J=bo(this,null,this.W),An(this)};function ea(u){if(ta(u),u.I==3){var g=u.V++,x=gr(u.J);if(Ue(x,"SID",u.M),Ue(x,"RID",g),Ue(x,"TYPE","terminate"),tn(u,x),g=new pr(u,u.j,g),g.M=2,g.A=In(gr(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(g.A.toString(),"")}catch{}!x&&c.Image&&(new Image().src=g.A,x=!0),x||(g.g=uu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ri(g)}fi(u)}function or(u){u.g&&(hi(u),u.g.cancel(),u.g=null)}function ta(u){or(u),u.v&&(c.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function An(u){if(!mo(u.h)&&!u.m){u.m=!0;var g=u.Ea;me||I(),te||(me(),te=!0),N.add(g,u),u.D=0}}function lu(u,g){return si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ss(v(u.Ea,u,g),sa(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new pr(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),Ie(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var k=this.i[x];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,g>4096){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=Io(this,z,g),x=gr(this.J),Ue(x,"RID",u),Ue(x,"CVER",22),this.G&&Ue(x,"X-HTTP-Session-Id",this.G),tn(this,x),q&&(this.R?g="headers="+Wr(iu(q))+"&"+g:this.u&&Xi(x,this.u,q)),Qi(this.h,z),this.Ra&&Ue(x,"TYPE","init"),this.S?(Ue(x,"$req",g),Ue(x,"SID","null"),z.U=!0,Cr(z,x,null)):Cr(z,x,g),this.I=2}}else this.I==3&&(u?di(this,u):this.i.length==0||mo(this.h)||di(this))};function di(u,g){var x;g?x=g.l:x=u.V++;const k=gr(u.J);Ue(k,"SID",u.M),Ue(k,"RID",x),Ue(k,"AID",u.K),tn(u,k),u.u&&u.o&&Xi(k,u.u,u.o),x=new pr(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Io(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Qi(u.h,x),Cr(x,k,g)}function tn(u,g){u.H&&pe(u.H,function(x,k){Ue(g,k,x)}),u.l&&pe({},function(x,k){Ue(g,k,x)})}function Io(u,g,x){x=Math.min(u.i.length,x);const k=u.l?v(u.l.Ka,u.l,u):null;e:{var z=u.i;let Te=-1;for(;;){const ut=["count="+x];Te==-1?x>0?(Te=z[0].g,ut.push("ofs="+Te)):Te=0:ut.push("ofs="+Te);let qe=!0;for(let mt=0;mt<x;mt++){var q=z[mt].g;const ur=z[mt].map;if(q-=Te,q<0)Te=Math.max(0,z[mt].g-100),qe=!1;else try{q="req"+q+"_"||"";try{var se=ur instanceof Map?ur:Object.entries(ur);for(const[Cn,nn]of se){let sn=nn;m(nn)&&(sn=es(nn)),ut.push(q+Cn+"="+encodeURIComponent(sn))}}catch(Cn){throw ut.push(q+"type="+encodeURIComponent("_badmap")),Cn}}catch{k&&k(ur)}}if(qe){se=ut.join("&");break e}}se=void 0}return u=u.i.splice(0,x),g.G=u,se}function Mt(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;me||I(),te||(me(),te=!0),N.add(g,u),u.A=0}}function rn(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ss(v(u.Da,u),sa(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,hs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ss(v(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),or(this),hs(this))};function hi(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function hs(u){u.g=new pr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=gr(u.na);Ue(g,"RID","rpc"),Ue(g,"SID",u.M),Ue(g,"AID",u.K),Ue(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ue(g,"TO",u.ia),Ue(g,"TYPE","xmlhttp"),tn(u,g),u.u&&u.o&&Xi(g,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=In(gr(g)),x.u=null,x.R=!0,ho(x,u)}n.Va=function(){this.C!=null&&(this.C=null,or(this),rn(this),at(19))};function ra(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function na(u,g){var x=null;if(u.g==g){ra(u),hi(u),u.g=null;var k=2}else if(po(u.h,g))x=g.G,ii(u.h,g),k=1;else return;if(u.I!=0){if(g.o)if(k==1){x=g.u?g.u.length:0,g=Date.now()-g.F;var z=u.D;k=ns(),lt(k,new uo(k,x)),An(u)}else Mt(u);else if(z=g.m,z==3||z==0&&g.X>0||!(k==1&&lu(u,g)||k==2&&rn(u)))switch(x&&x.length>0&&(g=u.h,g.i=g.i.concat(x)),z){case 1:lr(u,5);break;case 4:lr(u,10);break;case 3:lr(u,6);break;default:lr(u,2)}}}function sa(u,g){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*g}function lr(u,g){if(u.j.info("Error code "+g),g==2){var x=v(u.bb,u),k=u.Ua;const z=!k;k=new Gr(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ai(k,"https"),In(k),z?Jr(k.toString(),x):Xr(k.toString(),x)}else at(2);u.I=0,u.l&&u.l.pa(g),fi(u),ta(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function fi(u){if(u.I=0,u.ja=[],u.l){const g=sr(u.h);(g.length!=0||u.i.length!=0)&&(H(u.ja,g),H(u.ja,u.i),u.h.i.length=0,R(u.i),u.i.length=0),u.l.oa()}}function bo(u,g,x){var k=x instanceof Gr?gr(x):new Gr(x);if(k.g!="")g&&(k.g=g+"."+k.g),Kr(k,k.u);else{var z=c.location;k=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const q=new Gr(null);k&&ai(q,k),g&&(q.g=g),z&&Kr(q,z),x&&(q.h=x),k=q}return x=u.G,g=u.wa,x&&g&&Ue(k,x,g),Ue(k,"VER",u.ka),tn(u,k),k}function uu(u,g,x){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new Ke(new bn({ab:x})):new Ke(u.ma),g.Fa(u.L),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}n=cu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ia(){}ia.prototype.g=function(u,g){return new Rt(u,g)};function Rt(u,g){ft.call(this),this.g=new Zi(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!A(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!A(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new fs(this)}E(Rt,ft),Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){ea(this.g)},Rt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=es(u),u=x);g.i.push(new vd(g.Ya++,u)),g.I==3&&An(g)},Rt.prototype.N=function(){this.g.l=null,delete this.j,ea(this.g),delete this.g,Rt.Z.N.call(this)};function du(u){$i.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const x in g){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}E(du,$i);function hu(){lo.call(this),this.status=1}E(hu,lo);function fs(u){this.g=u}E(fs,cu),fs.prototype.ra=function(){lt(this.g,"a")},fs.prototype.qa=function(u){lt(this.g,new du(u))},fs.prototype.pa=function(u){lt(this.g,new hu)},fs.prototype.oa=function(){lt(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,Lv=function(){return new ia},Vv=function(){return ns()},Dv=Ar,pf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,pc=as,os.COMPLETE="complete",jv=os,Gl.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",ft.prototype.listen=ft.prototype.J,nl=Gl,Ke.prototype.listenOnce=Ke.prototype.K,Ke.prototype.getLastError=Ke.prototype.Ha,Ke.prototype.getLastErrorCode=Ke.prototype.ya,Ke.prototype.getStatus=Ke.prototype.ca,Ke.prototype.getResponseJson=Ke.prototype.La,Ke.prototype.getResponseText=Ke.prototype.la,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Fa,Pv=Ke}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="12.8.0";function SI(n){Ja=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new qf("@firebase/firestore");function Na(){return Pi.logLevel}function le(n,...e){if(Pi.logLevel<=Ce.DEBUG){const t=e.map(Gf);Pi.debug(`Firestore (${Ja}): ${n}`,...t)}}function Hn(n,...e){if(Pi.logLevel<=Ce.ERROR){const t=e.map(Gf);Pi.error(`Firestore (${Ja}): ${n}`,...t)}}function Fa(n,...e){if(Pi.logLevel<=Ce.WARN){const t=e.map(Gf);Pi.warn(`Firestore (${Ja}): ${n}`,...t)}}function Gf(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Mv(n,s,t)}function Mv(n,e,t){let s=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Hn(s),new Error(s)}function Be(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||Mv(e,a,s)}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Qn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($t.UNAUTHENTICATED)))}shutdown(){}}class AI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class CI{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let s=this.i;const a=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let l=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new dn,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const y=l;e.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},m=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new dn)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string",31837,{l:s}),new Ov(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class RI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class PI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new RI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ey{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const s=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ey(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ey(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=DI(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Re(n,e){return n<e?-1:n>e?1:0}function gf(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),l=e.charAt(s);if(a!==l)return ef(a)===ef(l)?Re(a,l):ef(a)?1:-1}return Re(n.length,e.length)}const VI=55296,LI=57343;function ef(n){const e=n.charCodeAt(0);return e>=VI&&e<=LI}function Ua(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="__name__";class cn{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&_e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return cn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cn?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=cn.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Re(e.length,t.length)}static compareSegments(e,t){const s=cn.isNumericId(e),a=cn.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?cn.extractNumericId(e).compare(cn.extractNumericId(t)):gf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class Ye extends cn{construct(e,t,s){return new Ye(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new Ye(t)}static emptyPath(){return new Ye([])}}const MI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends cn{construct(e,t,s){return new Vt(e,t,s)}static isValidIdentifier(e){return MI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ky}static keyField(){return new Vt([ky])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ae(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(c=!c,a++):m!=="."||c?(s+=m,a++):(l(),a++)}if(l(),c)throw new ae(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ye.fromString(e))}static fromName(e){return new ge(Ye.fromString(e).popFirst(5))}static empty(){return new ge(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n,e,t){if(!t)throw new ae(K.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OI(n,e,t,s){if(e===!0&&s===!0)throw new ae(K.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ty(n){if(!ge.isDocumentKey(n))throw new ae(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Iy(n){if(ge.isDocumentKey(n))throw new ae(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Uv(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Yc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e(12329,{type:typeof n})}function Sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yc(n);throw new ae(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Dl(n,e){if(!Uv(n))throw new ae(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ae(K.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-62135596800,Sy=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Sy);return new et(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<by)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sy}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dl(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-by;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:xt("string",et._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new et(0,0))}static max(){return new ke(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=-1;function FI(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(s===1e9?new et(t+1,0):new et(t,s));return new zs(a,ge.empty(),e)}function UI(n){return new zs(n.readTime,n.key,_l)}class zs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new zs(ke.min(),ge.empty(),_l)}static max(){return new zs(ke.max(),ge.empty(),_l)}}function zI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $I{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(n){if(n.code!==K.FAILED_PRECONDITION||n.message!==BI)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,s)=>{t(e)}))}static reject(e){return new Q(((t,s)=>{s(e)}))}static waitFor(e){return new Q(((t,s)=>{let a=0,l=0,c=!1;e.forEach((m=>{++a,m.next((()=>{++l,c&&l===a&&t()}),(y=>s(y)))})),c=!0,l===a&&t()}))}static or(e){let t=Q.resolve(!1);for(const s of e)t=t.next((a=>a?Q.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new Q(((s,a)=>{const l=e.length,c=new Array(l);let m=0;for(let y=0;y<l;y++){const v=y;t(e[v]).next((_=>{c[v]=_,++m,m===l&&s(c)}),(_=>a(_)))}}))}static doWhile(e,t){return new Q(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function qI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Za(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=-1;function Xc(n){return n==null}function Nc(n){return n===0&&1/n==-1/0}function HI(n){return typeof n=="number"&&Number.isInteger(n)&&!Nc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="";function WI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ny(e)),e=GI(n.get(t),e);return Ny(e)}function GI(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case zv:t+="";break;default:t+=l}}return t}function Ny(n){return n+zv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KI(n,e){const t=[];for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.push(e(n[s],s,n));return t}function Bv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Dt.RED,this.left=a??Dt.EMPTY,this.right=l??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Dt(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Dt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cy(this.data.getIterator())}getIteratorFrom(e){return new Cy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class Cy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new fr([])}unionWith(e){let t=new Et(Vt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $v("Invalid base64 string: "+l):l}})(e);return new Lt(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const QI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=QI.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $s(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="server_timestamp",Hv="__type__",Wv="__previous_value__",Gv="__local_write_time__";function Yf(n){return(n?.mapValue?.fields||{})[Hv]?.stringValue===qv}function Zc(n){const e=n.mapValue.fields[Wv];return Yf(e)?Zc(e):e}function wl(n){const e=Bs(n.mapValue.fields[Gv].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,t,s,a,l,c,m,y,v,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=_,this.apiKey=E}}const Ac="(default)";class El{constructor(e,t){this.projectId=e,this.database=t||Ac}static empty(){return new El("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}function JI(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ae(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__type__",XI="__max__",uc={mapValue:{}},Qv="__vector__",Cc="value";function qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yf(n)?4:eb(n)?9007199254740991:ZI(n)?10:11:_e(28295,{value:n})}function vn(n,e){if(n===e)return!0;const t=qs(n);if(t!==qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wl(n).isEqual(wl(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Bs(a.timestampValue),m=Bs(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return $s(a.bytesValue).isEqual($s(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return dt(a.geoPointValue.latitude)===dt(l.geoPointValue.latitude)&&dt(a.geoPointValue.longitude)===dt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return dt(a.integerValue)===dt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=dt(a.doubleValue),m=dt(l.doubleValue);return c===m?Nc(c)===Nc(m):isNaN(c)&&isNaN(m)}return!1})(n,e);case 9:return Ua(n.arrayValue.values||[],e.arrayValue.values||[],vn);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},m=l.mapValue.fields||{};if(Ay(c)!==Ay(m))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(m[y]===void 0||!vn(c[y],m[y])))return!1;return!0})(n,e);default:return _e(52216,{left:n})}}function kl(n,e){return(n.values||[]).find((t=>vn(t,e)))!==void 0}function za(n,e){if(n===e)return 0;const t=qs(n),s=qs(e);if(t!==s)return Re(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const m=dt(l.integerValue||l.doubleValue),y=dt(c.integerValue||c.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(n,e);case 3:return Ry(n.timestampValue,e.timestampValue);case 4:return Ry(wl(n),wl(e));case 5:return gf(n.stringValue,e.stringValue);case 6:return(function(l,c){const m=$s(l),y=$s(c);return m.compareTo(y)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const m=l.split("/"),y=c.split("/");for(let v=0;v<m.length&&v<y.length;v++){const _=Re(m[v],y[v]);if(_!==0)return _}return Re(m.length,y.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const m=Re(dt(l.latitude),dt(c.latitude));return m!==0?m:Re(dt(l.longitude),dt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Py(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const m=l.fields||{},y=c.fields||{},v=m[Cc]?.arrayValue,_=y[Cc]?.arrayValue,E=Re(v?.values?.length||0,_?.values?.length||0);return E!==0?E:Py(v,_)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===uc.mapValue&&c===uc.mapValue)return 0;if(l===uc.mapValue)return 1;if(c===uc.mapValue)return-1;const m=l.fields||{},y=Object.keys(m),v=c.fields||{},_=Object.keys(v);y.sort(),_.sort();for(let E=0;E<y.length&&E<_.length;++E){const T=gf(y[E],_[E]);if(T!==0)return T;const R=za(m[y[E]],v[_[E]]);if(R!==0)return R}return Re(y.length,_.length)})(n.mapValue,e.mapValue);default:throw _e(23264,{he:t})}}function Ry(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=Bs(n),s=Bs(e),a=Re(t.seconds,s.seconds);return a!==0?a:Re(t.nanos,s.nanos)}function Py(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=za(t[a],s[a]);if(l)return l}return Re(t.length,s.length)}function Ba(n){return yf(n)}function yf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Bs(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return $s(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ge.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=yf(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${yf(t.fields[c])}`;return a+"}"})(n.mapValue):_e(61005,{value:n})}function gc(n){switch(qs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zc(n);return e?16+gc(e):16;case 5:return 2*n.stringValue.length;case 6:return $s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+gc(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return Ks(s.fields,((l,c)=>{a+=l.length+gc(c)})),a})(n.mapValue);default:throw _e(13486,{value:n})}}function jy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vf(n){return!!n&&"integerValue"in n}function Jf(n){return!!n&&"arrayValue"in n}function Dy(n){return!!n&&"nullValue"in n}function Vy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yc(n){return!!n&&"mapValue"in n}function ZI(n){return(n?.mapValue?.fields||{})[Kv]?.stringValue===Qv}function ll(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ks(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=ll(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ll(n.arrayValue.values[t]);return e}return{...n}}function eb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===XI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(t)}setAll(e){let t=Vt.emptyPath(),s={},a=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,s,a),s={},a=[],t=m.popLast()}c?s[m.lastSegment()]=ll(c):a.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];yc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ks(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Qt(ll(this.value))}}function Yv(n){const e=[];return Ks(n.fields,((t,s)=>{const a=new Vt([t]);if(yc(s)){const l=Yv(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,s,a,l,c,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new qt(e,0,ke.min(),ke.min(),ke.min(),Qt.empty(),0)}static newFoundDocument(e,t,s,a){return new qt(e,1,t,ke.min(),s,a,0)}static newNoDocument(e,t){return new qt(e,2,t,ke.min(),ke.min(),Qt.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,ke.min(),ke.min(),Qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.position=e,this.inclusive=t}}function Ly(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(c.referenceValue),t.key):s=za(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function My(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vn(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t="asc"){this.field=e,this.dir=t}}function tb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{}class vt extends Jv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new nb(e,t,s):t==="array-contains"?new ab(e,s):t==="in"?new ob(e,s):t==="not-in"?new lb(e,s):t==="array-contains-any"?new ub(e,s):new vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new sb(e,s):new ib(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(za(t,this.value)):t!==null&&qs(this.value)===qs(t)&&this.matchesComparison(za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends Jv{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new $r(e,t)}matches(e){return Xv(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xv(n){return n.op==="and"}function Zv(n){return rb(n)&&Xv(n)}function rb(n){for(const e of n.filters)if(e instanceof $r)return!1;return!0}function xf(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+Ba(n.value);if(Zv(n))return n.filters.map((e=>xf(e))).join(",");{const e=n.filters.map((t=>xf(t))).join(",");return`${n.op}(${e})`}}function ex(n,e){return n instanceof vt?(function(s,a){return a instanceof vt&&s.op===a.op&&s.field.isEqual(a.field)&&vn(s.value,a.value)})(n,e):n instanceof $r?(function(s,a){return a instanceof $r&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,m)=>l&&ex(c,a.filters[m])),!0):!1})(n,e):void _e(19439)}function tx(n){return n instanceof vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ba(t.value)}`})(n):n instanceof $r?(function(t){return t.op.toString()+" {"+t.getFilters().map(tx).join(" ,")+"}"})(n):"Filter"}class nb extends vt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class sb extends vt{constructor(e,t){super(e,"in",t),this.keys=rx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ib extends vt{constructor(e,t){super(e,"not-in",t),this.keys=rx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function rx(n,e){return(e.arrayValue?.values||[]).map((t=>ge.fromName(t.referenceValue)))}class ab extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jf(t)&&kl(t.arrayValue,this.value)}}class ob extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kl(this.value.arrayValue,t)}}class lb extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!kl(this.value.arrayValue,t)}}class ub extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>kl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t=null,s=[],a=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=m,this.Te=null}}function Oy(n,e=null,t=[],s=[],a=null,l=null,c=null){return new cb(n,e,t,s,a,l,c)}function Xf(n){const e=Ee(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>xf(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Ba(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Ba(s))).join(",")),e.Te=t}return e.Te}function Zf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ex(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!My(n.startAt,e.startAt)&&My(n.endAt,e.endAt)}function _f(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t=null,s=[],a=[],l=null,c="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function db(n,e,t,s,a,l,c,m){return new eo(n,e,t,s,a,l,c,m)}function em(n){return new eo(n)}function Fy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hb(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function nx(n){return n.collectionGroup!==null}function ul(n){const e=Ee(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Et(Vt.comparator);return c.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Tl(l,s))})),t.has(Vt.keyField().canonicalString())||e.Ie.push(new Tl(Vt.keyField(),s))}return e.Ie}function hn(n){const e=Ee(n);return e.Ee||(e.Ee=sx(e,ul(n))),e.Ee}function fb(n){const e=Ee(n);return e.Re||(e.Re=sx(e,n.explicitOrderBy)),e.Re}function sx(n,e){if(n.limitType==="F")return Oy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Tl(a.field,l)}));const t=n.endAt?new Rc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Rc(n.startAt.position,n.startAt.inclusive):null;return Oy(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function wf(n,e){const t=n.filters.concat([e]);return new eo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mb(n,e){const t=n.explicitOrderBy.concat([e]);return new eo(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Pc(n,e,t){return new eo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ed(n,e){return Zf(hn(n),hn(e))&&n.limitType===e.limitType}function ix(n){return`${Xf(hn(n))}|lt:${n.limitType}`}function Aa(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>tx(a))).join(", ")}]`),Xc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>Ba(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>Ba(a))).join(",")),`Target(${s})`})(hn(n))}; limitType=${n.limitType})`}function td(n,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,a){for(const l of ul(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(c,m,y){const v=Ly(c,m,y);return c.inclusive?v<=0:v<0})(s.startAt,ul(s),a)||s.endAt&&!(function(c,m,y){const v=Ly(c,m,y);return c.inclusive?v>=0:v>0})(s.endAt,ul(s),a))})(n,e)}function pb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ax(n){return(e,t)=>{let s=!1;for(const a of ul(n)){const l=gb(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function gb(n,e,t){const s=n.field.isKeyField()?ge.comparator(e.key,t.key):(function(l,c,m){const y=c.data.field(l),v=m.data.field(l);return y!==null&&v!==null?za(y,v):_e(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return Bv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new it(ge.comparator);function Wn(){return yb}const ox=new it(ge.comparator);function sl(...n){let e=ox;for(const t of n)e=e.insert(t.key,t);return e}function lx(n){let e=ox;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Si(){return cl()}function ux(){return cl()}function cl(){return new Mi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const vb=new it(ge.comparator),xb=new Et(ge.comparator);function Pe(...n){let e=xb;for(const t of n)e=e.add(t);return e}const _b=new Et(Re);function wb(){return _b}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function cx(n){return{integerValue:""+n}}function Eb(n,e){return HI(e)?cx(e):tm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function kb(n,e,t){return n instanceof Il?(function(a,l){const c={fields:{[Hv]:{stringValue:qv},[Gv]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Yf(l)&&(l=Zc(l)),l&&(c.fields[Wv]=l),{mapValue:c}})(t,e):n instanceof bl?hx(n,e):n instanceof Sl?fx(n,e):(function(a,l){const c=dx(a,l),m=Uy(c)+Uy(a.Ae);return vf(c)&&vf(a.Ae)?cx(m):tm(a.serializer,m)})(n,e)}function Tb(n,e,t){return n instanceof bl?hx(n,e):n instanceof Sl?fx(n,e):t}function dx(n,e){return n instanceof jc?(function(s){return vf(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Il extends rd{}class bl extends rd{constructor(e){super(),this.elements=e}}function hx(n,e){const t=mx(e);for(const s of n.elements)t.some((a=>vn(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Sl extends rd{constructor(e){super(),this.elements=e}}function fx(n,e){let t=mx(e);for(const s of n.elements)t=t.filter((a=>!vn(a,s)));return{arrayValue:{values:t}}}class jc extends rd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Uy(n){return dt(n.integerValue||n.doubleValue)}function mx(n){return Jf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,t){this.field=e,this.transform=t}}function bb(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof bl&&a instanceof bl||s instanceof Sl&&a instanceof Sl?Ua(s.elements,a.elements,vn):s instanceof jc&&a instanceof jc?vn(s.Ae,a.Ae):s instanceof Il&&a instanceof Il})(n.transform,e.transform)}class Sb{constructor(e,t){this.version=e,this.transformResults=t}}class br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class nd{}function px(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new rm(n.key,br.none()):new Vl(n.key,n.data,br.none());{const t=n.data,s=Qt.empty();let a=new Et(Vt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Qs(n.key,s,new fr(a.toArray()),br.none())}}function Nb(n,e,t){n instanceof Vl?(function(a,l,c){const m=a.value.clone(),y=By(a.fieldTransforms,l,c.transformResults);m.setAll(y),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):n instanceof Qs?(function(a,l,c){if(!vc(a.precondition,l))return void l.convertToUnknownDocument(c.version);const m=By(a.fieldTransforms,l,c.transformResults),y=l.data;y.setAll(gx(a)),y.setAll(m),l.convertToFoundDocument(c.version,y).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function dl(n,e,t,s){return n instanceof Vl?(function(l,c,m,y){if(!vc(l.precondition,c))return m;const v=l.value.clone(),_=$y(l.fieldTransforms,y,c);return v.setAll(_),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof Qs?(function(l,c,m,y){if(!vc(l.precondition,c))return m;const v=$y(l.fieldTransforms,y,c),_=c.data;return _.setAll(gx(l)),_.setAll(v),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,s):(function(l,c,m){return vc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,e,t)}function Ab(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=dx(s.transform,a||null);l!=null&&(t===null&&(t=Qt.empty()),t.set(s.field,l))}return t||null}function zy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ua(s,a,((l,c)=>bb(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vl extends nd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qs extends nd{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gx(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function By(n,e,t){const s=new Map;Be(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,m=e.data.field(l.field);s.set(l.field,Tb(c,m,t[a]))}return s}function $y(n,e,t){const s=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);s.set(a.field,kb(l,c,e))}return s}class rm extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cb extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Nb(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=dl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=dl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=ux();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(a.key)?null:m;const y=px(c,m);y!==null&&s.set(a.key,y),c.isValidDocument()||c.convertToNoDocument(ke.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,((t,s)=>zy(t,s)))&&Ua(this.baseMutations,e.baseMutations,((t,s)=>zy(t,s)))}}class nm{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Be(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return vb})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new nm(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,De;function Vb(n){switch(n){case K.OK:return _e(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return _e(15467,{code:n})}}function yx(n){if(n===void 0)return Hn("GRPC error has no .code"),K.UNKNOWN;switch(n){case gt.OK:return K.OK;case gt.CANCELLED:return K.CANCELLED;case gt.UNKNOWN:return K.UNKNOWN;case gt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case gt.INTERNAL:return K.INTERNAL;case gt.UNAVAILABLE:return K.UNAVAILABLE;case gt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case gt.NOT_FOUND:return K.NOT_FOUND;case gt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case gt.ABORTED:return K.ABORTED;case gt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case gt.DATA_LOSS:return K.DATA_LOSS;default:return _e(39323,{code:n})}}(De=gt||(gt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Fs([4294967295,4294967295],0);function qy(n){const e=Lb().encode(n),t=new Rv;return t.update(e),new Uint8Array(t.digest())}function Hy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fs([t,s],0),new Fs([a,l],0)]}class sm{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new il(`Invalid padding: ${t}`);if(s<0)throw new il(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new il(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new il(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Fs.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Fs.fromNumber(s)));return a.compare(Mb)===1&&(a=new Fs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=qy(e),[s,a]=Hy(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new sm(l,a,t);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=qy(e),[s,a]=Hy(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new sd(ke.min(),a,new it(Re),Wn(),Pe())}}class Ll{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ll(s,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,s,a){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=a}}class vx{constructor(e,t){this.targetId=e,this.Ce=t}}class xx{constructor(e,t,s=Lt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Wy{constructor(){this.ve=0,this.Fe=Gy(),this.Me=Lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),t=Pe(),s=Pe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:_e(38017,{changeType:l})}})),new Ll(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=Gy()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Ob{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wn(),this.He=cc(),this.Je=cc(),this.Ze=new it(Re)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(_f(l))if(s===0){const c=new ge(l.path);this.et(t,c,qt.newNoDocument(c,ke.min()))}else Be(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const m=this.ut(e),y=m?this.ct(m,e,c):1;if(y!==0){this.it(t);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,m;try{c=$s(s).toUint8Array()}catch(y){if(y instanceof $v)return Fa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new sm(c,a,l)}catch(y){return Fa(y instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const m=this.ot(c);if(m){if(l.current&&_f(m.target)){const y=new ge(m.target.path);this.It(y).has(c)||this.Et(c,y)||this.et(c,y,qt.newNoDocument(y,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let s=Pe();this.Je.forEach(((l,c)=>{let m=!0;c.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new sd(e,t,this.Ze,this.je,s);return this.je=Wn(),this.He=cc(),this.Je=cc(),this.Ze=new it(Re),a}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Wy,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Et(Re),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Et(Re),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function cc(){return new it(ge.comparator)}function Gy(){return new it(ge.comparator)}const Fb={asc:"ASCENDING",desc:"DESCENDING"},Ub={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zb={and:"AND",or:"OR"};class Bb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ef(n,e){return n.useProto3Json||Xc(e)?e:{value:e}}function Dc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _x(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $b(n,e){return Dc(n,e.toTimestamp())}function fn(n){return Be(!!n,49232),ke.fromTimestamp((function(t){const s=Bs(t);return new et(s.seconds,s.nanos)})(n))}function im(n,e){return kf(n,e).canonicalString()}function kf(n,e){const t=(function(a){return new Ye(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function wx(n){const e=Ye.fromString(n);return Be(Sx(e),10190,{key:e.toString()}),e}function Tf(n,e){return im(n.databaseId,e.path)}function tf(n,e){const t=wx(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(kx(t))}function Ex(n,e){return im(n.databaseId,e)}function qb(n){const e=wx(n);return e.length===4?Ye.emptyPath():kx(e)}function If(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kx(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ky(n,e,t){return{name:Tf(n,e),fields:t.value.mapValue.fields}}function Hb(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_e(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(v,_){return v.useProto3Json?(Be(_===void 0||typeof _=="string",58123),Lt.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Lt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(v){const _=v.code===void 0?K.UNKNOWN:yx(v.code);return new ae(_,v.message||"")})(c);t=new xx(s,a,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=tf(n,s.document.name),l=fn(s.document.updateTime),c=s.document.createTime?fn(s.document.createTime):ke.min(),m=new Qt({mapValue:{fields:s.document.fields}}),y=qt.newFoundDocument(a,l,c,m),v=s.targetIds||[],_=s.removedTargetIds||[];t=new xc(v,_,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=tf(n,s.document),l=s.readTime?fn(s.readTime):ke.min(),c=qt.newNoDocument(a,l),m=s.removedTargetIds||[];t=new xc([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=tf(n,s.document),l=s.removedTargetIds||[];t=new xc([],l,a,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new Db(a,l),m=s.targetId;t=new vx(m,c)}}return t}function Wb(n,e){let t;if(e instanceof Vl)t={update:Ky(n,e.key,e.value)};else if(e instanceof rm)t={delete:Tf(n,e.key)};else if(e instanceof Qs)t={update:Ky(n,e.key,e.data),updateMask:tS(e.fieldMask)};else{if(!(e instanceof Cb))return _e(16599,{dt:e.type});t={verify:Tf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const m=c.transform;if(m instanceof Il)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Sl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof jc)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:$b(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e(27497)})(n,e.precondition)),t}function Gb(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?fn(a.updateTime):fn(l);return c.isEqual(ke.min())&&(c=fn(l)),new Sb(c,a.transformResults||[])})(t,e)))):[]}function Kb(n,e){return{documents:[Ex(n,e.path)]}}function Tx(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Ex(n,a);const l=(function(v){if(v.length!==0)return bx($r.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(v){if(v.length!==0)return v.map((_=>(function(T){return{field:Cs(T.field),direction:Xb(T.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=Ef(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:a}}function Qb(n,e,t,s){const{ft:a,parent:l}=Tx(n,e),c={},m=[];let y=0;return t.forEach((v=>{const _="aggregate_"+y++;c[_]=v.alias,v.aggregateType==="count"?m.push({alias:_,count:{}}):v.aggregateType==="avg"?m.push({alias:_,avg:{field:Cs(v.fieldPath)}}):v.aggregateType==="sum"&&m.push({alias:_,sum:{field:Cs(v.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:m,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function Yb(n){let e=qb(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Be(s===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const T=Ix(E);return T instanceof $r&&Zv(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((T=>(function(H){return new Tl(Ca(H.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(T)))})(t.orderBy));let m=null;t.limit&&(m=(function(E){let T;return T=typeof E=="object"?E.value:E,Xc(T)?null:T})(t.limit));let y=null;t.startAt&&(y=(function(E){const T=!!E.before,R=E.values||[];return new Rc(R,T)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const T=!E.before,R=E.values||[];return new Rc(R,T)})(t.endAt)),db(e,a,c,l,m,"F",y,v)}function Jb(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ix(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ca(t.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ca(t.unaryFilter.field);return vt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ca(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ca(t.unaryFilter.field);return vt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(n):n.fieldFilter!==void 0?(function(t){return vt.create(Ca(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return $r.create(t.compositeFilter.filters.map((s=>Ix(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(t.compositeFilter.op))})(n):_e(30097,{filter:n})}function Xb(n){return Fb[n]}function Zb(n){return Ub[n]}function eS(n){return zb[n]}function Cs(n){return{fieldPath:n.canonicalString()}}function Ca(n){return Vt.fromServerFormat(n.fieldPath)}function bx(n){return n instanceof vt?(function(t){if(t.op==="=="){if(Vy(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NAN"}};if(Dy(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vy(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NOT_NAN"}};if(Dy(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(t.field),op:Zb(t.op),value:t.value}}})(n):n instanceof $r?(function(t){const s=t.getFilters().map((a=>bx(a)));return s.length===1?s[0]:{compositeFilter:{op:eS(t.op),filters:s}}})(n):_e(54877,{filter:n})}function tS(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Sx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function Nx(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,s,a,l=ke.min(),c=ke.min(),m=Lt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.yt=e}}function nS(n){const e=Yb({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.Sn=new iS}addToCollectionParentIndex(e,t){return this.Sn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(zs.min())}updateCollectionGroup(e,t,s){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class iS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Et(Ye.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Et(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ax=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(Ax,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $a(0)}static ar(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="LruGarbageCollector",aS=1048576;function Jy([n,e],[t,s]){const a=Re(n,t);return a===0?Re(e,s):a}class oS{constructor(e){this.Pr=e,this.buffer=new Et(Jy),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Jy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(Yy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Za(t)?le(Yy,"Ignoring IndexedDB error during garbage collection: ",t):await Xa(t)}await this.Ar(3e5)}))}}class uS{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Jc.ce);const s=new oS(t);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Qy)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,a,l,c,m,y,v;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(s=E,m=Date.now(),this.removeTargets(e,s,t)))).next((E=>(l=E,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(v=Date.now(),Na()<=Ce.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(m-c)+`ms
	Removed ${l} targets in `+(y-m)+`ms
	Removed ${E} documents in `+(v-y)+`ms
Total Duration: ${v-_}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function cS(n,e){return new uS(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.changes=new Mi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Q.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&dl(s.mutation,a,fr.empty(),et.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Pe()){const a=Si();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let c=sl();return l.forEach(((m,y)=>{c=c.insert(m,y.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Si();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Pe())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,s,a){let l=Wn();const c=cl(),m=(function(){return cl()})();return t.forEach(((y,v)=>{const _=s.get(v.key);a.has(v.key)&&(_===void 0||_.mutation instanceof Qs)?l=l.insert(v.key,v):_!==void 0?(c.set(v.key,_.mutation.getFieldMask()),dl(_.mutation,v,_.mutation.getFieldMask(),et.now())):c.set(v.key,fr.empty())})),this.recalculateAndSaveOverlays(e,l).next((y=>(y.forEach(((v,_)=>c.set(v,_))),t.forEach(((v,_)=>m.set(v,new hS(_,c.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=cl();let a=new it(((c,m)=>c-m)),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((y=>{const v=t.get(y);if(v===null)return;let _=s.get(y)||fr.empty();_=m.applyToLocalView(v,_),s.set(y,_);const E=(a.get(m.batchId)||Pe()).add(y);a=a.insert(m.batchId,E)}))})).next((()=>{const c=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,_=y.value,E=ux();_.forEach((T=>{if(!l.has(T)){const R=px(t.get(T),s.get(T));R!==null&&E.set(T,R),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,E))}return Q.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return hb(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):Q.resolve(Si());let m=_l,y=l;return c.next((v=>Q.forEach(v,((_,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),l.get(_)?Q.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{y=y.insert(_,T)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,y,v,Pe()))).next((_=>({batchId:m,changes:lx(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((s=>{let a=sl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=sl();return this.indexManager.getCollectionParents(e,l).next((m=>Q.forEach(m,(y=>{const v=(function(E,T){return new eo(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next((_=>{_.forEach(((E,T)=>{c=c.insert(E,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((c=>{l.forEach(((y,v)=>{const _=v.getKey();c.get(_)===null&&(c=c.insert(_,qt.newInvalidDocument(_)))}));let m=sl();return c.forEach(((y,v)=>{const _=l.get(y);_!==void 0&&dl(_.mutation,v,fr.empty(),et.now()),td(t,v)&&(m=m.insert(y,v))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Q.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:fn(a.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:nS(a.bundledQuery),readTime:fn(a.readTime)}})(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.overlays=new it(ge.comparator),this.Lr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Si();return Q.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.bt(e,t,l)})),Q.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),Q.resolve()}getOverlaysForCollection(e,t,s){const a=Si(),l=t.length+1,c=new ge(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&y.largestBatchId>s&&a.set(y.getKey(),y)}return Q.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new it(((v,_)=>v-_));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let _=l.get(v.largestBatchId);_===null&&(_=Si(),l=l.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const m=Si(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,_)=>m.set(v,_))),!(m.size()>=a)););return Q.resolve(m)}bt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Pb(t,s));let l=this.Lr.get(t);l===void 0&&(l=Pe(),this.Lr.set(t,l)),this.Lr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.kr=new Et(St.Kr),this.qr=new Et(St.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new St(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new St(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new ge(new Ye([])),s=new St(t,e),a=new St(t,e+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ge(new Ye([])),s=new St(t,e),a=new St(t,e+1);let l=Pe();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new St(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class St{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ge.comparator(e.key,t.key)||Re(e.Hr,t.Hr)}static Ur(e,t){return Re(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Et(St.Kr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Rb(l,t,s,a);this.mutationQueue.push(c);for(const m of a)this.Jr=this.Jr.add(new St(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,t){return Q.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Xr(s),l=a<0?0:a;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Qf:this.Yn-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new St(t,0),a=new St(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const m=this.Zr(c.Hr);l.push(m)})),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Et(Re);return t.forEach((a=>{const l=new St(a,0),c=new St(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(m=>{s=s.add(m.Hr)}))})),Q.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const c=new St(new ge(l),0);let m=new Et(Re);return this.Jr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.Hr)),!0)}),c),Q.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Be(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Q.forEach(t.mutations,(a=>{const l=new St(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new St(t,0),a=this.Jr.firstAfterOrEqual(s);return Q.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.ti=e,this.docs=(function(){return new it(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Q.resolve(s?s.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let s=Wn();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():qt.newInvalidDocument(a))})),Q.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Wn();const c=t.path,m=new ge(c.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:_}}=y.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||zI(UI(_),s)<=0||(a.has(_.key)||td(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,s,a){_e(9500)}ni(e,t){return Q.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new xS(this)}getSize(e){return Q.resolve(this.size)}}class xS extends dS{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),Q.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.persistence=e,this.ri=new Mi((t=>Xf(t)),Zf),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.ii=0,this.si=new am,this.targetCount=0,this.oi=$a._r()}forEachTarget(e,t){return this.ri.forEach(((s,a)=>t(a))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),Q.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new $a(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.lr(t),Q.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),Q.waitFor(l).next((()=>a))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return Q.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),Q.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return Q.resolve(s)}containsKey(e,t){return Q.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t){this._i={},this.overlays={},this.ai=new Jc(0),this.ui=!1,this.ui=!0,this.ci=new gS,this.referenceDelegate=e(this),this.li=new _S(this),this.indexManager=new sS,this.remoteDocumentCache=(function(a){return new vS(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new rS(t),this.Pi=new mS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new yS(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){le("MemoryPersistence","Starting transaction:",e);const a=new wS(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return Q.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class wS extends $I{constructor(e){super(),this.currentSequenceNumber=e}}class om{constructor(e){this.persistence=e,this.Ri=new am,this.Ai=null}static Vi(e){return new om(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),Q.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,(s=>{const a=ge.fromPath(s);return this.mi(e,a).next((l=>{l||t.removeEntry(a,ke.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Q.or([()=>Q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Vc{constructor(e,t){this.persistence=e,this.fi=new Mi((s=>WI(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=cS(this,t)}static Vi(e,t){return new Vc(e,t)}Ti(){}Ii(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return Q.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?Q.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((m=>{m||(s++,l.removeEntry(c,ke.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Q.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gc(e.data.value)),t}wr(e,t,s){return Q.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return Q.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=a}static Es(e,t){let s=Pe(),a=Pe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new lm(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return uT()?8:qI(Ht())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new ES;return this.ys(e,t,c).next((m=>{if(l.result=m,this.As)return this.ws(e,t,c,m.size)}))})).next((()=>l.result))}ws(e,t,s,a){return s.documentReadCount<this.Vs?(Na()<=Ce.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Aa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(Na()<=Ce.DEBUG&&le("QueryEngine","Query:",Aa(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Na()<=Ce.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Aa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(t))):Q.resolve())}gs(e,t){if(Fy(t))return Q.resolve(null);let s=hn(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Pc(t,null,"F"),s=hn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Pe(...l);return this.fs.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const v=this.bs(t,m);return this.Ss(t,v,c,y.readTime)?this.gs(e,Pc(t,null,"F")):this.Ds(e,v,t,y)}))))})))))}ps(e,t,s,a){return Fy(t)||a.isEqual(ke.min())?Q.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,s,a)?Q.resolve(null):(Na()<=Ce.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Aa(t)),this.Ds(e,c,t,FI(a,_l)).next((m=>m)))}))}bs(e,t){let s=new Et(ax(e));return t.forEach(((a,l)=>{td(e,l)&&(s=s.add(l))})),s}Ss(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,s){return Na()<=Ce.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Aa(t)),this.fs.getDocumentsMatchingQuery(e,t,zs.min(),s)}Ds(e,t,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="LocalStore",TS=3e8;class IS{constructor(e,t,s,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new it(Re),this.Fs=new Mi((l=>Xf(l)),Zf),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function bS(n,e,t,s){return new IS(n,e,t,s)}async function Rx(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],m=[];let y=Pe();for(const v of a){c.push(v.batchId);for(const _ of v.mutations)y=y.add(_.key)}for(const v of l){m.push(v.batchId);for(const _ of v.mutations)y=y.add(_.key)}return t.localDocuments.getDocuments(s,y).next((v=>({Ns:v,removedBatchIds:c,addedBatchIds:m})))}))}))}function SS(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,_){const E=v.batch,T=E.keys();let R=Q.resolve();return T.forEach((H=>{R=R.next((()=>_.getEntry(y,H))).next((V=>{const F=v.docVersions.get(H);Be(F!==null,48541),V.version.compareTo(F)<0&&(E.applyToRemoteDocument(V,v),V.isValidDocument()&&(V.setReadTime(v.commitVersion),_.addEntry(V)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(y,E)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=Pe();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function Px(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function NS(n,e){const t=Ee(n),s=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const m=[];e.targetChanges.forEach(((_,E)=>{const T=a.get(E);if(!T)return;m.push(t.li.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.li.addMatchingKeys(l,_.addedDocuments,E))));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(Lt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,s)),a=a.insert(E,R),(function(V,F,W){return V.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=TS?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(T,R,_)&&m.push(t.li.updateTargetData(l,R))}));let y=Wn(),v=Pe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),m.push(AS(l,c,e.documentUpdates).next((_=>{y=_.Bs,v=_.Ls}))),!s.isEqual(ke.min())){const _=t.li.getLastRemoteSnapshotVersion(l).next((E=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));m.push(_)}return Q.waitFor(m).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,y,v))).next((()=>y))})).then((l=>(t.vs=a,l)))}function AS(n,e,t){let s=Pe(),a=Pe();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let c=Wn();return t.forEach(((m,y)=>{const v=l.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(ke.min())?(e.removeEntry(m,y.readTime),c=c.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),c=c.insert(m,y)):le(um,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{Bs:c,Ls:a}}))}function CS(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Qf),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function RS(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.li.getTargetData(s,e).next((l=>l?(a=l,Q.resolve(a)):t.li.allocateTargetId(s).next((c=>(a=new Vs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function bf(n,e,t){const s=Ee(n),a=s.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Za(c))throw c;le(um,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function Xy(n,e,t){const s=Ee(n);let a=ke.min(),l=Pe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(y,v,_){const E=Ee(y),T=E.Fs.get(_);return T!==void 0?Q.resolve(E.vs.get(T)):E.li.getTargetData(v,_)})(s,c,hn(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,m.targetId).next((y=>{l=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,t?a:ke.min(),t?l:Pe()))).next((m=>(PS(s,pb(e),m),{documents:m,ks:l})))))}function PS(n,e,t){let s=n.Ms.get(e)||ke.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(e,s)}class Zy{constructor(){this.activeTargetIds=wb()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jS{constructor(){this.vo=new Zy,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Zy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="ConnectivityMonitor";class t0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(e0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(e0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function Sf(){return dc===null?dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="RestConnection",VS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Ac?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,t,s,a,l){const c=Sf(),m=this.Qo(e,t.toUriEncodedString());le(rf,`Sending RPC '${e}' ${c}:`,m,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,a,l);const{host:v}=new URL(m),_=Qa(v);return this.zo(e,m,y,s,_).then((E=>(le(rf,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Fa(rf,`RPC '${e}' ${c} failed with error: `,E,"url: ",m,"request:",s),E}))}jo(e,t,s,a,l,c){return this.Wo(e,t,s,a,l)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ja})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const s=VS[e];let a=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection",el=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Pa extends LS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Pa.c_){const e=Vv();el(e,Dv.STAT_EVENT,(t=>{t.stat===pf.PROXY?le(Bt,"STAT_EVENT: detected buffering proxy"):t.stat===pf.NOPROXY&&le(Bt,"STAT_EVENT: detected no buffering proxy")})),Pa.c_=!0}}zo(e,t,s,a,l){const c=Sf();return new Promise(((m,y)=>{const v=new Pv;v.setWithCredentials(!0),v.listenOnce(jv.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case pc.NO_ERROR:const E=v.getResponseJson();le(Bt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),m(E);break;case pc.TIMEOUT:le(Bt,`RPC '${e}' ${c} timed out`),y(new ae(K.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const T=v.getStatus();if(le(Bt,`RPC '${e}' ${c} failed with status:`,T,"response text:",v.getResponseText()),T>0){let R=v.getResponseJson();Array.isArray(R)&&(R=R[0]);const H=R?.error;if(H&&H.status&&H.message){const V=(function(W){const G=W.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(G)>=0?G:K.UNKNOWN})(H.status);y(new ae(V,H.message))}else y(new ae(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ae(K.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{le(Bt,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(a);le(Bt,`RPC '${e}' ${c} sending request:`,a),v.send(t,"POST",_,s,15)}))}T_(e,t,s){const a=Sf(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=l.join("");le(Bt,`Creating RPC '${e}' stream ${a}: ${v}`,m);const _=c.createWebChannel(v,m);this.I_(_);let E=!1,T=!1;const R=new MS({Ho:H=>{T?le(Bt,`Not sending because RPC '${e}' stream ${a} is closed:`,H):(E||(le(Bt,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),le(Bt,`RPC '${e}' stream ${a} sending:`,H),_.send(H))},Jo:()=>_.close()});return el(_,nl.EventType.OPEN,(()=>{T||(le(Bt,`RPC '${e}' stream ${a} transport opened.`),R.i_())})),el(_,nl.EventType.CLOSE,(()=>{T||(T=!0,le(Bt,`RPC '${e}' stream ${a} transport closed`),R.o_(),this.E_(_))})),el(_,nl.EventType.ERROR,(H=>{T||(T=!0,Fa(Bt,`RPC '${e}' stream ${a} transport errored. Name:`,H.name,"Message:",H.message),R.o_(new ae(K.UNAVAILABLE,"The operation could not be completed")))})),el(_,nl.EventType.MESSAGE,(H=>{if(!T){const V=H.data[0];Be(!!V,16349);const F=V,W=F?.error||F[0]?.error;if(W){le(Bt,`RPC '${e}' stream ${a} received error:`,W);const G=W.status;let ne=(function(te){const N=gt[te];if(N!==void 0)return yx(N)})(G),ee=W.message;ne===void 0&&(ne=K.INTERNAL,ee="Unknown error status: "+G+" with message "+W.message),T=!0,R.o_(new ae(ne,ee)),_.close()}else le(Bt,`RPC '${e}' stream ${a} received:`,V),R.__(V)}})),Pa.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Lv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){return new Pa(n)}function nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n){return new Bb(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pa.c_=!1;class jx{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="PersistentStream";class Dx{constructor(e,t,s,a,l,c,m,y){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(Hn(t.toString()),Hn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new ae(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(r0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(le(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FS extends Dx{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Hb(this.serializer,e),s=(function(l){if(!("targetChange"in l))return ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?fn(c.readTime):ke.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=If(this.serializer),t.addTarget=(function(l,c){let m;const y=c.target;if(m=_f(y)?{documents:Kb(l,y)}:{query:Tx(l,y).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=_x(l,c.resumeToken);const v=Ef(l,c.expectedCount);v!==null&&(m.expectedCount=v)}else if(c.snapshotVersion.compareTo(ke.min())>0){m.readTime=Dc(l,c.snapshotVersion.toTimestamp());const v=Ef(l,c.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const s=Jb(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=If(this.serializer),t.removeTarget=e,this.K_(t)}}class US extends Dx{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Gb(e.writeResults,e.commitTime),s=fn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=If(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>Wb(this.serializer,s)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{}class BS extends zS{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,kf(t,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(K.UNKNOWN,l.toString())}))}jo(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(e,kf(t,s),a,c,m,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(K.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $S(n,e,t,s){return new BS(n,e,t,s)}class qS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hn(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="RemoteStore";class HS{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Oi(this)&&(le(ji,"Restarting streams for network reachability change."),await(async function(y){const v=Ee(y);v.Ea.add(4),await Ml(v),v.Va.set("Unknown"),v.Ea.delete(4),await ad(v)})(this))}))})),this.Va=new qS(s,a)}}async function ad(n){if(Oi(n))for(const e of n.Ra)await e(!0)}async function Ml(n){for(const e of n.Ra)await e(!1)}function Vx(n,e){const t=Ee(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),fm(t)?hm(t):to(t).O_()&&dm(t,e))}function cm(n,e){const t=Ee(n),s=to(t);t.Ia.delete(e),s.O_()&&Lx(t,e),t.Ia.size===0&&(s.O_()?s.L_():Oi(t)&&t.Va.set("Unknown"))}function dm(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}to(n).Z_(e)}function Lx(n,e){n.da.$e(e),to(n).X_(e)}function hm(n){n.da=new Ob({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),to(n).start(),n.Va.ua()}function fm(n){return Oi(n)&&!to(n).x_()&&n.Ia.size>0}function Oi(n){return Ee(n).Ea.size===0}function Mx(n){n.da=void 0}async function WS(n){n.Va.set("Online")}async function GS(n){n.Ia.forEach(((e,t)=>{dm(n,e)}))}async function KS(n,e){Mx(n),fm(n)?(n.Va.ha(e),hm(n)):n.Va.set("Unknown")}async function QS(n,e,t){if(n.Va.set("Online"),e instanceof xx&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const m of l.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,c),a.Ia.delete(m),a.da.removeTarget(m))})(n,e)}catch(s){le(ji,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lc(n,s)}else if(e instanceof xc?n.da.Xe(e):e instanceof vx?n.da.st(e):n.da.tt(e),!t.isEqual(ke.min()))try{const s=await Px(n.localStore);t.compareTo(s)>=0&&await(function(l,c){const m=l.da.Tt(c);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const _=l.Ia.get(v);_&&l.Ia.set(v,_.withResumeToken(y.resumeToken,c))}})),m.targetMismatches.forEach(((y,v)=>{const _=l.Ia.get(y);if(!_)return;l.Ia.set(y,_.withResumeToken(Lt.EMPTY_BYTE_STRING,_.snapshotVersion)),Lx(l,y);const E=new Vs(_.target,y,v,_.sequenceNumber);dm(l,E)})),l.remoteSyncer.applyRemoteEvent(m)})(n,t)}catch(s){le(ji,"Failed to raise snapshot:",s),await Lc(n,s)}}async function Lc(n,e,t){if(!Za(e))throw e;n.Ea.add(1),await Ml(n),n.Va.set("Offline"),t||(t=()=>Px(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(ji,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ad(n)}))}function Ox(n,e){return e().catch((t=>Lc(n,t,e)))}async function od(n){const e=Ee(n),t=Hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qf;for(;YS(e);)try{const a=await CS(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,JS(e,a)}catch(a){await Lc(e,a)}Fx(e)&&Ux(e)}function YS(n){return Oi(n)&&n.Ta.length<10}function JS(n,e){n.Ta.push(e);const t=Hs(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function Fx(n){return Oi(n)&&!Hs(n).x_()&&n.Ta.length>0}function Ux(n){Hs(n).start()}async function XS(n){Hs(n).ra()}async function ZS(n){const e=Hs(n);for(const t of n.Ta)e.ea(t.mutations)}async function eN(n,e,t){const s=n.Ta.shift(),a=nm.from(s,e,t);await Ox(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await od(n)}async function tN(n,e){e&&Hs(n).Y_&&await(async function(s,a){if((function(c){return Vb(c)&&c!==K.ABORTED})(a.code)){const l=s.Ta.shift();Hs(s).B_(),await Ox(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await od(s)}})(n,e),Fx(n)&&Ux(n)}async function n0(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),le(ji,"RemoteStore received new credentials");const s=Oi(t);t.Ea.add(3),await Ml(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ad(t)}async function rN(n,e){const t=Ee(n);e?(t.Ea.delete(2),await ad(t)):e||(t.Ea.add(2),await Ml(t),t.Va.set("Unknown"))}function to(n){return n.ma||(n.ma=(function(t,s,a){const l=Ee(t);return l.sa(),new FS(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:WS.bind(null,n),Yo:GS.bind(null,n),t_:KS.bind(null,n),J_:QS.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),fm(n)?hm(n):n.Va.set("Unknown")):(await n.ma.stop(),Mx(n))}))),n.ma}function Hs(n){return n.fa||(n.fa=(function(t,s,a){const l=Ee(t);return l.sa(),new US(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:XS.bind(null,n),t_:tN.bind(null,n),ta:ZS.bind(null,n),na:eN.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await od(n)):(await n.fa.stop(),n.Ta.length>0&&(le(ji,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,m=new mm(e,t,c,a,l);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(n,e){if(Hn("AsyncQueue",`${e}: ${n}`),Za(n))return new ae(K.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static emptySet(e){return new ja(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=sl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ja)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ja;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.ga=new it(ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class qa{constructor(e,t,s,a,l,c,m,y,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new qa(e,t,ja.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class sN{constructor(){this.queries=i0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Ee(t),l=a.queries;a.queries=i0(),l.forEach(((c,m)=>{for(const y of m.ba)y.onError(s)}))})(this,new ae(K.ABORTED,"Firestore shutting down"))}}function i0(){return new Mi((n=>ix(n)),ed)}async function zx(n,e){const t=Ee(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new nN,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const m=pm(c,`Initialization of query '${Aa(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&gm(t)}async function Bx(n,e){const t=Ee(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function iN(n,e){const t=Ee(n);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const m of c.ba)m.Fa(a)&&(s=!0);c.wa=a}}s&&gm(t)}function aN(n,e,t){const s=Ee(n),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(t);s.queries.delete(e)}function gm(n){n.Ca.forEach((e=>{e.next()}))}var Nf,a0;(a0=Nf||(Nf={})).Ma="default",a0.Cache="cache";class $x{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new qa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.key=e}}class Hx{constructor(e){this.key=e}}class oN{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=ax(e),this.tu=new ja(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new s0,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,E)=>{const T=a.get(_),R=td(this.query,E)?E:null,H=!!T&&this.mutatedKeys.has(T.key),V=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let F=!1;T&&R?T.data.isEqual(R.data)?H!==V&&(s.track({type:3,doc:R}),F=!0):this.su(T,R)||(s.track({type:2,doc:R}),F=!0,(y&&this.eu(R,y)>0||v&&this.eu(R,v)<0)&&(m=!0)):!T&&R?(s.track({type:0,doc:R}),F=!0):T&&!R&&(s.track({type:1,doc:T}),F=!0,(y||v)&&(m=!0)),F&&(R?(c=c.add(R),l=V?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Ss:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(R,H){const V=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:F})}};return V(R)-V(H)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(s),a=a??!1;const m=t&&!a?this._u():[],y=this.Ya.size===0&&this.current&&!a?1:0,v=y!==this.Xa;return this.Xa=y,c.length!==0||v?{snapshot:new qa(this.query,e.tu,l,c,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new Hx(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new qx(s))})),t}cu(e){this.Za=e.ks,this.Ya=Pe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return qa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ym="SyncEngine";class lN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class uN{constructor(e){this.key=e,this.hu=!1}}class cN{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Mi((m=>ix(m)),ed),this.Iu=new Map,this.Eu=new Set,this.Ru=new it(ge.comparator),this.Au=new Map,this.Vu=new am,this.du={},this.mu=new Map,this.fu=$a.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dN(n,e,t=!0){const s=Jx(n);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Wx(s,e,t,!0),a}async function hN(n,e){const t=Jx(n);await Wx(t,e,!0,!1)}async function Wx(n,e,t,s){const a=await RS(n.localStore,hn(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await fN(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&Vx(n.remoteStore,a),m}async function fN(n,e,t,s,a){n.pu=(E,T,R)=>(async function(V,F,W,G){let ne=F.view.ru(W);ne.Ss&&(ne=await Xy(V.localStore,F.query,!1).then((({documents:N})=>F.view.ru(N,ne))));const ee=G&&G.targetChanges.get(F.targetId),me=G&&G.targetMismatches.get(F.targetId)!=null,te=F.view.applyChanges(ne,V.isPrimaryClient,ee,me);return l0(V,F.targetId,te.au),te.snapshot})(n,E,T,R);const l=await Xy(n.localStore,e,!0),c=new oN(e,l.ks),m=c.ru(l.documents),y=Ll.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),v=c.applyChanges(m,n.isPrimaryClient,y);l0(n,t,v.au);const _=new lN(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function mN(n,e,t){const s=Ee(n),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!ed(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await bf(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&cm(s.remoteStore,a.targetId),Af(s,a.targetId)})).catch(Xa)):(Af(s,a.targetId),await bf(s.localStore,a.targetId,!0))}async function pN(n,e){const t=Ee(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),cm(t.remoteStore,s.targetId))}async function gN(n,e,t){const s=kN(n);try{const a=await(function(c,m){const y=Ee(c),v=et.now(),_=m.reduce(((R,H)=>R.add(H.key)),Pe());let E,T;return y.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let H=Wn(),V=Pe();return y.xs.getEntries(R,_).next((F=>{H=F,H.forEach(((W,G)=>{G.isValidDocument()||(V=V.add(W))}))})).next((()=>y.localDocuments.getOverlayedDocuments(R,H))).next((F=>{E=F;const W=[];for(const G of m){const ne=Ab(G,E.get(G.key).overlayedDocument);ne!=null&&W.push(new Qs(G.key,ne,Yv(ne.value.mapValue),br.exists(!0)))}return y.mutationQueue.addMutationBatch(R,v,W,m)})).next((F=>{T=F;const W=F.applyToLocalDocumentSet(E,V);return y.documentOverlayCache.saveOverlays(R,F.batchId,W)}))})).then((()=>({batchId:T.batchId,changes:lx(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,m,y){let v=c.du[c.currentUser.toKey()];v||(v=new it(Re)),v=v.insert(m,y),c.du[c.currentUser.toKey()]=v})(s,a.batchId,t),await Ol(s,a.changes),await od(s.remoteStore)}catch(a){const l=pm(a,"Failed to persist write");t.reject(l)}}async function Gx(n,e){const t=Ee(n);try{const s=await NS(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Be(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Be(c.hu,14607):a.removedDocuments.size>0&&(Be(c.hu,42227),c.hu=!1))})),await Ol(t,s,e)}catch(s){await Xa(s)}}function o0(n,e,t){const s=Ee(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,c)=>{const m=c.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(c,m){const y=Ee(c);y.onlineState=m;let v=!1;y.queries.forEach(((_,E)=>{for(const T of E.ba)T.va(m)&&(v=!0)})),v&&gm(y)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yN(n,e,t){const s=Ee(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new it(ge.comparator);c=c.insert(l,qt.newNoDocument(l,ke.min()));const m=Pe().add(l),y=new sd(ke.min(),new Map,new it(Re),c,m);await Gx(s,y),s.Ru=s.Ru.remove(l),s.Au.delete(e),vm(s)}else await bf(s.localStore,e,!1).then((()=>Af(s,e,t))).catch(Xa)}async function vN(n,e){const t=Ee(n),s=e.batch.batchId;try{const a=await SS(t.localStore,e);Qx(t,s,null),Kx(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ol(t,a)}catch(a){await Xa(a)}}async function xN(n,e,t){const s=Ee(n);try{const a=await(function(c,m){const y=Ee(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let _;return y.mutationQueue.lookupMutationBatch(v,m).next((E=>(Be(E!==null,37113),_=E.keys(),y.mutationQueue.removeMutationBatch(v,E)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,_,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_))).next((()=>y.localDocuments.getDocuments(v,_)))}))})(s.localStore,e);Qx(s,e,t),Kx(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ol(s,a)}catch(a){await Xa(a)}}function Kx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Qx(n,e,t){const s=Ee(n);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Af(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||Yx(n,s)}))}function Yx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(cm(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),vm(n))}function l0(n,e,t){for(const s of t)s instanceof qx?(n.Vu.addReference(s.key,e),_N(n,s)):s instanceof Hx?(le(ym,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||Yx(n,s.key)):_e(19791,{wu:s})}function _N(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(le(ym,"New document in limbo: "+t),n.Eu.add(s),vm(n))}function vm(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ge(Ye.fromString(e)),s=n.fu.next();n.Au.set(s,new uN(t)),n.Ru=n.Ru.insert(t,s),Vx(n.remoteStore,new Vs(hn(em(t.path)),s,"TargetPurposeLimboResolution",Jc.ce))}}async function Ol(n,e,t){const s=Ee(n),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{c.push(s.pu(y,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const _=v?!v.fromCache:t?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,_?"current":"not-current")}if(v){a.push(v);const _=lm.Es(y.targetId,v);l.push(_)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(y,v){const _=Ee(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Q.forEach(v,(T=>Q.forEach(T.Ts,(R=>_.persistence.referenceDelegate.addReference(E,T.targetId,R))).next((()=>Q.forEach(T.Is,(R=>_.persistence.referenceDelegate.removeReference(E,T.targetId,R)))))))))}catch(E){if(!Za(E))throw E;le(um,"Failed to update sequence numbers: "+E)}for(const E of v){const T=E.targetId;if(!E.fromCache){const R=_.vs.get(T),H=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(H);_.vs=_.vs.insert(T,V)}}})(s.localStore,l))}async function wN(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){le(ym,"User change. New user:",e.toKey());const s=await Rx(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((m=>{m.forEach((y=>{y.reject(new ae(K.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ol(t,s.Ns)}}function EN(n,e){const t=Ee(n),s=t.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let a=Pe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const m=t.Tu.get(c);a=a.unionWith(m.view.nu)}return a}}function Jx(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yN.bind(null,e),e.Pu.J_=iN.bind(null,e.eventManager),e.Pu.yu=aN.bind(null,e.eventManager),e}function kN(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xN.bind(null,e),e}class Mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return bS(this.persistence,new kS,e.initialUser,this.serializer)}Cu(e){return new Cx(om.Vi,this.serializer)}Du(e){return new jS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mc.provider={build:()=>new Mc};class TN extends Mc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof Vc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lS(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new Cx((s=>Vc.Vi(s,t)),this.serializer)}}class Cf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>o0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wN.bind(null,this.syncEngine),await rN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sN})()}createDatastore(e){const t=id(e.databaseInfo.databaseId),s=OS(e.databaseInfo);return $S(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,c,m){return new HS(s,a,l,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>o0(this.syncEngine,t,0)),(function(){return t0.v()?new t0:new DS})())}createSyncEngine(e,t){return(function(a,l,c,m,y,v,_){const E=new cN(a,l,c,m,y,v);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ee(t);le(ji,"RemoteStore shutting down."),s.Ea.add(5),await Ml(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cf.provider={build:()=>new Cf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class IN{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=a,this.user=$t.UNAUTHENTICATED,this.clientId=Kf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{le(Ws,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(le(Ws,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=pm(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function sf(n,e){n.asyncQueue.verifyOperationInProgress(),le(Ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Rx(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function u0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bN(n);le(Ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>n0(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>n0(e.remoteStore,a))),n._onlineComponents=e}async function bN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Ws,"Using user provided OfflineComponentProvider");try{await sf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===K.FAILED_PRECONDITION||a.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Fa("Error using user provided cache. Falling back to memory cache: "+t),await sf(n,new Mc)}}else le(Ws,"Using default OfflineComponentProvider"),await sf(n,new TN(void 0));return n._offlineComponents}async function xm(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Ws,"Using user provided OnlineComponentProvider"),await u0(n,n._uninitializedComponentsProvider._online)):(le(Ws,"Using default OnlineComponentProvider"),await u0(n,new Cf))),n._onlineComponents}function SN(n){return xm(n).then((e=>e.syncEngine))}function NN(n){return xm(n).then((e=>e.datastore))}async function Zx(n){const e=await xm(n),t=e.eventManager;return t.onListen=dN.bind(null,e.syncEngine),t.onUnlisten=mN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pN.bind(null,e.syncEngine),t}function AN(n,e,t={}){const s=new dn;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,y,v){const _=new Xx({next:T=>{_.Nu(),c.enqueueAndForget((()=>Bx(l,E)));const R=T.docs.has(m);!R&&T.fromCache?v.reject(new ae(K.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&y&&y.source==="server"?v.reject(new ae(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(T)},error:T=>v.reject(T)}),E=new $x(em(m.path),_,{includeMetadataChanges:!0,Ka:!0});return zx(l,E)})(await Zx(n),n.asyncQueue,e,t,s))),s.promise}function CN(n,e,t={}){const s=new dn;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,y,v){const _=new Xx({next:T=>{_.Nu(),c.enqueueAndForget((()=>Bx(l,E))),T.fromCache&&y.source==="server"?v.reject(new ae(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(T)},error:T=>v.reject(T)}),E=new $x(m,_,{includeMetadataChanges:!0,Ka:!0});return zx(l,E)})(await Zx(n),n.asyncQueue,e,t,s))),s.promise}function RN(n,e,t){const s=new dn;return n.asyncQueue.enqueueAndForget((async()=>{try{const a=await NN(n);s.resolve((async function(c,m,y){const v=Ee(c),{request:_,gt:E,parent:T}=Qb(v.serializer,fb(m),y);v.connection.Ko||delete _.parent;const R=(await v.jo("RunAggregationQuery",v.serializer.databaseId,T,_,1)).filter((V=>!!V.result));Be(R.length===1,64727);const H=R[0].result?.aggregateFields;return Object.keys(H).reduce(((V,F)=>(V[E[F]]=H[F],V)),{})})(a,e,t))}catch(a){s.reject(a)}})),s.promise}function PN(n,e){const t=new dn;return n.asyncQueue.enqueueAndForget((async()=>gN(await SN(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="ComponentProvider",c0=new Map;function DN(n,e,t,s,a){return new YI(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,e_(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="firestore.googleapis.com",d0=!0;class h0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t_,this.ssl=d0}else this.host=e.host,this.ssl=e.ssl??d0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ax;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aS)throw new ae(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new NI;switch(s.type){case"firstParty":return new PI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=c0.get(t);s&&(le(jN,"Removing Datastore"),c0.delete(t),s.terminate())})(this),Promise.resolve()}}function VN(n,e,t,s={}){n=Sr(n,ld);const a=Qa(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},m=`${e}:${t}`;a&&(kv(`https://${m}`),Tv("Firestore",!0)),l.host!==t_&&l.host!==m&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...l,host:m,ssl:a,emulatorOptions:s};if(!Ci(y,c)&&(n._setSettings(y),s.mockUserToken)){let v,_;if(typeof s.mockUserToken=="string")v=s.mockUserToken,_=$t.MOCK_USER;else{v=eT(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ae(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new $t(E)}n._authCredentials=new AI(new Ov(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class ht{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Dl(t,ht._jsonSchema))return new ht(e,s||null,new ge(Ye.fromString(t.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:xt("string",ht._jsonSchemaVersion),referencePath:xt("string")};class Us extends Ys{constructor(e,t,s){super(e,t,em(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new ge(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function nr(n,e,...t){if(n=At(n),Fv("collection","path",e),n instanceof ld){const s=Ye.fromString(e,...t);return Iy(s),new Us(n,null,s)}{if(!(n instanceof ht||n instanceof Us))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ye.fromString(e,...t));return Iy(s),new Us(n.firestore,null,s)}}function Nt(n,e,...t){if(n=At(n),arguments.length===1&&(e=Kf.newId()),Fv("doc","path",e),n instanceof ld){const s=Ye.fromString(e,...t);return Ty(s),new ht(n,null,new ge(s))}{if(!(n instanceof ht||n instanceof Us))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ye.fromString(e,...t));return Ty(s),new ht(n.firestore,n instanceof Us?n.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="AsyncQueue";class m0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jx(this,"async_queue_retry"),this._c=()=>{const s=nf();s&&le(f0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=nf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=nf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new dn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Za(e))throw e;le(f0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Hn("INTERNAL UNHANDLED ERROR: ",p0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=mm.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&_e(47125,{Pc:p0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function p0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Js extends ld{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new m0,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m0(e),this._firestoreClient=void 0,await e}}}function LN(n,e){const t=typeof n=="object"?n:Nv(),s=typeof n=="string"?n:Ac,a=Wf(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=X1("firestore");l&&VN(a,...l)}return a}function ud(n){if(n._terminated)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MN(n),n._firestoreClient}function MN(n){const e=n._freezeSettings(),t=DN(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new IN(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tr(Lt.fromBase64String(e))}catch(t){throw new ae(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tr(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dl(e,Tr._jsonSchema))return Tr.fromBase64String(e.bytes)}}Tr._jsonSchemaVersion="firestore/bytes/1.0",Tr._jsonSchema={type:xt("string",Tr._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mn._jsonSchemaVersion}}static fromJSON(e){if(Dl(e,mn._jsonSchema))return new mn(e.latitude,e.longitude)}}mn._jsonSchemaVersion="firestore/geoPoint/1.0",mn._jsonSchema={type:xt("string",mn._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dl(e,zr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new zr(e.vectorValues);throw new ae(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zr._jsonSchemaVersion="firestore/vectorValue/1.0",zr._jsonSchema={type:xt("string",zr._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=/^__.*__$/;class FN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vl(e,this.data,t,this.fieldTransforms)}}class r_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function n_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:n})}}class wm{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new wm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Oc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(n_(this.dataSource)&&ON.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class UN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||id(e)}createContext(e,t,s,a=!1){return new wm({dataSource:e,methodName:t,targetDoc:s,path:Vt.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dd(n){const e=n._freezeSettings(),t=id(n._databaseId);return new UN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function s_(n,e,t,s,a,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,t,a);km("Data must be an object, but it was:",c,s);const m=i_(s,c);let y,v;if(l.merge)y=new fr(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const T=Di(e,E,t);if(!c.contains(T))throw new ae(K.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);l_(_,T)||_.push(T)}y=new fr(_),v=c.fieldTransforms.filter((E=>y.covers(E.field)))}else y=null,v=c.fieldTransforms;return new FN(new Qt(m),y,v)}class hd extends cd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hd}}class Em extends cd{_toFieldTransform(e){return new Ib(e.path,new Il)}isEqual(e){return e instanceof Em}}function zN(n,e,t,s){const a=n.createContext(1,e,t);km("Data must be an object, but it was:",a,s);const l=[],c=Qt.empty();Ks(s,((y,v)=>{const _=o_(e,y,t);v=At(v);const E=a.childContextForFieldPath(_);if(v instanceof hd)l.push(_);else{const T=Fl(v,E);T!=null&&(l.push(_),c.set(_,T))}}));const m=new fr(l);return new r_(c,m,a.fieldTransforms)}function BN(n,e,t,s,a,l){const c=n.createContext(1,e,t),m=[Di(e,s,t)],y=[a];if(l.length%2!=0)throw new ae(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)m.push(Di(e,l[T])),y.push(l[T+1]);const v=[],_=Qt.empty();for(let T=m.length-1;T>=0;--T)if(!l_(v,m[T])){const R=m[T];let H=y[T];H=At(H);const V=c.childContextForFieldPath(R);if(H instanceof hd)v.push(R);else{const F=Fl(H,V);F!=null&&(v.push(R),_.set(R,F))}}const E=new fr(v);return new r_(_,E,c.fieldTransforms)}function $N(n,e,t,s=!1){return Fl(t,n.createContext(s?4:3,e))}function Fl(n,e){if(a_(n=At(n)))return km("Unsupported field value:",e,n),i_(n,e);if(n instanceof cd)return(function(s,a){if(!n_(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const m of s){let y=Fl(m,a.childContextForArray(c));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),c++}return{arrayValue:{values:l}}})(n,e)}return(function(s,a){if((s=At(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Eb(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=et.fromDate(s);return{timestampValue:Dc(a.serializer,l)}}if(s instanceof et){const l=new et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dc(a.serializer,l)}}if(s instanceof mn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Tr)return{bytesValue:_x(a.serializer,s._byteString)};if(s instanceof ht){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:im(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof zr)return(function(c,m){const y=c instanceof zr?c.toArray():c;return{mapValue:{fields:{[Kv]:{stringValue:Qv},[Cc]:{arrayValue:{values:y.map((_=>{if(typeof _!="number")throw m.createError("VectorValues must only contain numeric values.");return tm(m.serializer,_)}))}}}}}})(s,a);if(Nx(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Yc(s)}`)})(n,e)}function i_(n,e){const t={};return Bv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(n,((s,a)=>{const l=Fl(a,e.childContextForField(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function a_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof et||n instanceof mn||n instanceof Tr||n instanceof ht||n instanceof cd||n instanceof zr||Nx(n))}function km(n,e,t){if(!a_(t)||!Uv(t)){const s=Yc(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function Di(n,e,t){if((e=At(e))instanceof _m)return e._internalPath;if(typeof e=="string")return o_(n,e);throw Oc("Field path arguments must be of type string or ",n,!1,void 0,t)}const qN=new RegExp("[~\\*/\\[\\]]");function o_(n,e,t){if(e.search(qN)>=0)throw Oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _m(...e.split("."))._internalPath}catch{throw Oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Oc(n,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(l||c)&&(y+=" (found",l&&(y+=` in field ${s}`),c&&(y+=` in document ${a}`),y+=")"),new ae(K.INVALID_ARGUMENT,m+n+y)}function l_(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{convertValue(e,t="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ks(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Cc].arrayValue?.values?.map((s=>dt(s.doubleValue)));return new zr(t)}convertGeoPoint(e){return new mn(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Zc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ye.fromString(e);Be(Sx(s),9688,{name:e});const a=new El(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return a.isEqual(t)||Hn(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends HN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,t)}}function Gs(){return new Em("serverTimestamp")}const g0="@firebase/firestore",y0="4.10.0";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class GN{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new Qt({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Di("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class KN extends u_{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Im{}class bm extends Im{}function Ir(n,e,...t){let s=[];e instanceof Im&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((y=>y instanceof Sm)).length,m=l.filter((y=>y instanceof fd)).length;if(c>1||c>0&&m>0)throw new ae(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class fd extends bm{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new fd(e,t,s)}_apply(e){const t=this._parse(e);return c_(e._query,t),new Ys(e.firestore,e.converter,wf(e._query,t))}_parse(e){const t=dd(e.firestore);return(function(l,c,m,y,v,_,E){let T;if(v.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ae(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){_0(E,_);const H=[];for(const V of E)H.push(x0(y,l,V));T={arrayValue:{values:H}}}else T=x0(y,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||_0(E,_),T=$N(m,c,E,_==="in"||_==="not-in");return vt.create(v,_,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function yt(n,e,t){const s=e,a=Di("where",n);return fd._create(a,s,t)}class Sm extends Im{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sm(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:$r.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const m=l.getFlattenedFilters();for(const y of m)c_(c,y),c=wf(c,y)})(e._query,t),new Ys(e.firestore,e.converter,wf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nm extends bm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Nm(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tl(l,c)})(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,mb(e._query,t))}}function Fc(n,e="asc"){const t=e,s=Di("orderBy",n);return Nm._create(s,t)}class Am extends bm{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Am(e,t,s)}_apply(e){return new Ys(e.firestore,e.converter,Pc(e._query,this._limit,this._limitType))}}function v0(n){return Am._create("limit",n,"F")}function x0(n,e,t){if(typeof(t=At(t))=="string"){if(t==="")throw new ae(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nx(e)&&t.indexOf("/")!==-1)throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ye.fromString(t));if(!ge.isDocumentKey(s))throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jy(n,new ge(s))}if(t instanceof ht)return jy(n,t._key);throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yc(t)}.`)}function _0(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c_(n,e){const t=(function(a,l){for(const c of a)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function d_(n,e,t){let s;return s=n?n.toFirestore(e):e,s}function YN(){return new WN("count")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n){return JN(n,{count:YN()})}function JN(n,e){const t=Sr(n.firestore,Js),s=ud(t),a=KI(e,((l,c)=>new jb(c,l.aggregateType,l._internalFieldPath)));return RN(s,n._query,a).then((l=>(function(m,y,v){const _=new Tm(m);return new GN(y,_,v)})(t,n,l)))}class al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ni extends u_{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Di("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ni._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ni._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ni._jsonSchema={type:xt("string",Ni._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class _c extends Ni{data(e={}){return super.data(e)}}class Da{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new al(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new _c(this._firestore,this._userDataWriter,s.key,s,new al(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((m=>{const y=new _c(a._firestore,a._userDataWriter,m.doc.key,m.doc,new al(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const y=new _c(a._firestore,a._userDataWriter,m.doc.key,m.doc,new al(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,_=-1;return m.type!==0&&(v=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:XN(m.type),doc:y,oldIndex:v,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Da._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da._jsonSchemaVersion="firestore/querySnapshot/1.0",Da._jsonSchema={type:xt("string",Da._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n){n=Sr(n,ht);const e=Sr(n.firestore,Js),t=ud(e);return AN(t,n._key).then((s=>eA(e,n,s)))}function pn(n){n=Sr(n,Ys);const e=Sr(n.firestore,Js),t=ud(e),s=new Tm(e);return QN(n._query),CN(t,n._query).then((a=>new Da(e,s,n,a)))}function h_(n,e,t){n=Sr(n,ht);const s=Sr(n.firestore,Js),a=d_(n.converter,e),l=dd(s);return md(s,[s_(l,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,br.none())])}function Fr(n,e,t,...s){n=Sr(n,ht);const a=Sr(n.firestore,Js),l=dd(a);let c;return c=typeof(e=At(e))=="string"||e instanceof _m?BN(l,"updateDoc",n._key,e,t,s):zN(l,"updateDoc",n._key,e),md(a,[c.toMutation(n._key,br.exists(!0))])}function ZN(n){return md(Sr(n.firestore,Js),[new rm(n._key,br.none())])}function f_(n,e){const t=Sr(n.firestore,Js),s=Nt(n),a=d_(n.converter,e),l=dd(n.firestore);return md(t,[s_(l,"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,br.exists(!1))]).then((()=>s))}function md(n,e){const t=ud(n);return PN(t,e)}function eA(n,e,t){const s=t.docs.get(e._key),a=new Tm(n);return new Ni(n,a,e._key,s,new al(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){SI(Ya),Oa(new Ri("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new Js(new CI(s.getProvider("auth-internal")),new jI(c,s.getProvider("app-check-internal")),JI(c,a),c);return l={useFetchStreams:t,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),Os(g0,y0,e),Os(g0,y0,"esm2020")})();var tA="firebase",rA="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(tA,rA,"app");function m_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nA=m_,p_=new Pl("auth","Firebase",m_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new qf("@firebase/auth");function sA(n,...e){Uc.logLevel<=Ce.WARN&&Uc.warn(`Auth (${Ya}): ${n}`,...e)}function wc(n,...e){Uc.logLevel<=Ce.ERROR&&Uc.error(`Auth (${Ya}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(n,...e){throw Cm(n,...e)}function gn(n,...e){return Cm(n,...e)}function g_(n,e,t){const s={...nA(),[e]:t};return new Pl("auth","Firebase",s).create(e,{appName:n.name})}function Bn(n){return g_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return p_.create(n,...e)}function xe(n,e,...t){if(!n)throw Cm(e,...t)}function Fn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wc(e),new Error(e)}function Gn(n,e){n||Fn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(){return typeof self<"u"&&self.location?.href||""}function iA(){return E0()==="http:"||E0()==="https:"}function E0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iA()||aT()||"connection"in navigator)?navigator.onLine:!0}function oA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gn(t>e,"Short delay should be less than long delay!"),this.isMobile=nT()||oT()}get(){return aA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(n,e){Gn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cA=new Ul(3e4,6e4);function Yn(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Jn(n,e,t,s,a={}){return v_(n,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=jl({key:n.config.apiKey,...c}).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:y,...l};return iT()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Qa(n.emulatorConfig.host)&&(v.credentials="include"),y_.fetch()(await x_(n,n.config.apiHost,t,m),v)})}async function v_(n,e,t){n._canInitEmulator=!1;const s={...lA,...e};try{const a=new hA(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw hc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[y,v]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw hc(n,"credential-already-in-use",c);if(y==="EMAIL_EXISTS")throw hc(n,"email-already-in-use",c);if(y==="USER_DISABLED")throw hc(n,"user-disabled",c);const _=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw g_(n,_,v);qr(n,_)}}catch(a){if(a instanceof Qn)throw a;qr(n,"network-request-failed",{message:String(a)})}}async function zl(n,e,t,s,a={}){const l=await Jn(n,e,t,s,a);return"mfaPendingCredential"in l&&qr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function x_(n,e,t,s){const a=`${e}${t}?${s}`,l=n,c=l.config.emulator?Rm(n.config,a):`${n.config.apiScheme}://${a}`;return uA.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function dA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(gn(this.auth,"network-request-failed")),cA.get())})}}function hc(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=gn(n,e,s);return a.customData._tokenResponse=t,a}function k0(n){return n!==void 0&&n.enterprise!==void 0}class fA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mA(n,e){return Jn(n,"GET","/v2/recaptchaConfig",Yn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(n,e){return Jn(n,"POST","/v1/accounts:delete",e)}async function zc(n,e){return Jn(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gA(n,e=!1){const t=At(n),s=await t.getIdToken(e),a=Pm(s);xe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:hl(af(a.auth_time)),issuedAtTime:hl(af(a.iat)),expirationTime:hl(af(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function af(n){return Number(n)*1e3}function Pm(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const a=xv(t);return a?JSON.parse(a):(wc("Failed to decode base64 JWT payload"),null)}catch(a){return wc("Caught error parsing JWT payload as JSON",a?.toString()),null}}function T0(n){const e=Pm(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Qn&&yA(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function yA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n){const e=n.auth,t=await n.getIdToken(),s=await Nl(n,zc(e,{idToken:t}));xe(s?.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?__(a.providerUserInfo):[],c=_A(n.providerData,l),m=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!c?.length,v=m?y:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new jf(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,_)}async function xA(n){const e=At(n);await Bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _A(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function __(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(n,e){const t=await v_(n,{},async()=>{const s=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await x_(n,a,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return n.emulatorConfig&&Qa(n.emulatorConfig.host)&&(y.credentials="include"),y_.fetch()(c,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function EA(n,e){return Jn(n,"POST","/v2/accounts:revokeToken",Yn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=T0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await wA(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new Va;return s&&(xe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(xe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Va,this.toJSON())}_performRefresh(){return Fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ur{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new vA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gA(this,e)}reload(){return xA(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Bc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kr(this.auth.app))return Promise.reject(Bn(this.auth));const e=await this.getIdToken();return await Nl(this,pA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,y=t._redirectEventId??void 0,v=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:R,providerData:H,stsTokenManager:V}=t;xe(E&&V,e,"internal-error");const F=Va.fromJSON(this.name,V);xe(typeof E=="string",e,"internal-error"),Ns(s,e.name),Ns(a,e.name),xe(typeof T=="boolean",e,"internal-error"),xe(typeof R=="boolean",e,"internal-error"),Ns(l,e.name),Ns(c,e.name),Ns(m,e.name),Ns(y,e.name),Ns(v,e.name),Ns(_,e.name);const W=new Ur({uid:E,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:m,stsTokenManager:F,createdAt:v,lastLoginAt:_});return H&&Array.isArray(H)&&(W.providerData=H.map(G=>({...G}))),y&&(W._redirectEventId=y),W}static async _fromIdTokenResponse(e,t,s=!1){const a=new Va;a.updateFromServerResponse(t);const l=new Ur({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Bc(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];xe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?__(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,m=new Va;m.updateFromIdToken(s);const y=new Ur({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:c}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new jf(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=new Map;function Un(n){Gn(n instanceof Function,"Expected a class definition");let e=I0.get(n);return e?(Gn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,I0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}w_.type="NONE";const b0=w_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n,e,t){return`firebase:${n}:${e}:${t}`}class La{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Ec(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ec("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zc(this.auth,{idToken:e}).catch(()=>{});return t?Ur._fromGetAccountInfoResponse(this.auth,t,e):null}return Ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new La(Un(b0),e,s);const a=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=a[0]||Un(b0);const c=Ec(s,e.config.apiKey,e.name);let m=null;for(const v of t)try{const _=await v._get(c);if(_){let E;if(typeof _=="string"){const T=await zc(e,{idToken:_}).catch(()=>{});if(!T)break;E=await Ur._fromGetAccountInfoResponse(e,T,_)}else E=Ur._fromJSON(e,_);v!==l&&(m=E),l=v;break}}catch{}const y=a.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!y.length?new La(l,e,s):(l=y[0],m&&await l._set(c,m.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(c)}catch{}})),new La(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S_(e))return"Blackberry";if(N_(e))return"Webos";if(k_(e))return"Safari";if((e.includes("chrome/")||T_(e))&&!e.includes("edge/"))return"Chrome";if(b_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function E_(n=Ht()){return/firefox\//i.test(n)}function k_(n=Ht()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T_(n=Ht()){return/crios\//i.test(n)}function I_(n=Ht()){return/iemobile/i.test(n)}function b_(n=Ht()){return/android/i.test(n)}function S_(n=Ht()){return/blackberry/i.test(n)}function N_(n=Ht()){return/webos/i.test(n)}function jm(n=Ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kA(n=Ht()){return jm(n)&&!!window.navigator?.standalone}function TA(){return lT()&&document.documentMode===10}function A_(n=Ht()){return jm(n)||b_(n)||N_(n)||S_(n)||/windows phone/i.test(n)||I_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(n,e=[]){let t;switch(n){case"Browser":t=S0(Ht());break;case"Worker":t=`${S0(Ht())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ya}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,m)=>{try{const y=e(l);c(y)}catch(y){m(y)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(n,e={}){return Jn(n,"GET","/v2/passwordPolicy",Yn(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=6;class NA{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??SA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new IA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Un(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await La.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zc(this,{idToken:e}),s=await Ur._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===c)&&m?.user&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kr(this.app))return Promise.reject(Bn(this));const t=e?At(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kr(this.app)?Promise.reject(Bn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kr(this.app)?Promise.reject(Bn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bA(this),t=new NA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await EA(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Un(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[Un(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,s,a);return()=>{c=!0,y()}}else{const y=e.addObserver(t);return()=>{c=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xs(n){return At(n)}class N0{constructor(e){this.auth=e,this.observer=null,this.addObserver=gT(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CA(n){pd=n}function R_(n){return pd.loadJS(n)}function RA(){return pd.recaptchaEnterpriseScript}function PA(){return pd.gapiScript}function jA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class DA{constructor(){this.enterprise=new VA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class VA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const LA="recaptcha-enterprise",P_="NO_RECAPTCHA";class MA{constructor(e){this.type=LA,this.auth=Xs(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{mA(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new fA(y);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,c(v.siteKey)}}).catch(y=>{m(y)})})}function a(l,c,m){const y=window.grecaptcha;k0(y)?y.enterprise.ready(()=>{y.enterprise.execute(l,{action:e}).then(v=>{c(v)}).catch(()=>{c(P_)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DA().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(m=>{if(!t&&k0(window.grecaptcha))a(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let y=RA();y.length!==0&&(y+=m),R_(y).then(()=>{a(m,l,c)}).catch(v=>{c(v)})}}).catch(m=>{c(m)})})}}async function A0(n,e,t,s=!1,a=!1){const l=new MA(n);let c;if(a)c=P_;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,v=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function $c(n,e,t,s,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await A0(n,e,t,t==="getOobCode");return s(n,l)}else return s(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await A0(n,e,t,t==="getOobCode");return s(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n,e){const t=Wf(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ci(l,e??{}))return a;qr(a,"already-initialized")}return t.initialize({options:e})}function FA(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Un);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function UA(n,e,t){const s=Xs(n);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=j_(e),{host:c,port:m}=zA(e),y=m===null?"":`:${m}`,v={url:`${l}//${c}${y}/`},_=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(Ci(v,s.config.emulator)&&Ci(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Qa(c)?(kv(`${l}//${c}${y}`),Tv("Auth",!0)):BA()}function j_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zA(n){const e=j_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:C0(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:C0(c)}}}function C0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function BA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,t){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}async function $A(n,e){return Jn(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(n,e){return zl(n,"POST","/v1/accounts:signInWithPassword",Yn(n,e))}async function HA(n,e){return Jn(n,"POST","/v1/accounts:sendOobCode",Yn(n,e))}async function WA(n,e){return HA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",Yn(n,e))}async function KA(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",Yn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Dm{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Al(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Al(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $c(e,t,"signInWithPassword",qA);case"emailLink":return GA(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $c(e,s,"signUpPassword",$A);case"emailLink":return KA(e,{idToken:t,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(n,e){return zl(n,"POST","/v1/accounts:signInWithIdp",Yn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="http://localhost";class Vi extends Dm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const c=new Vi(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ma(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ma(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ma(e,t)}buildRequest(){const e={requestUri:QA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JA(n){const e=tl(rl(n)).link,t=e?tl(rl(e)).deep_link_id:null,s=tl(rl(n)).deep_link_id;return(s?tl(rl(s)).link:null)||s||t||e||n}class Vm{constructor(e){const t=tl(rl(e)),s=t.apiKey??null,a=t.oobCode??null,l=YA(t.mode??null);xe(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=JA(e);try{return new Vm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(e,t){return Al._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Vm.parseLink(t);return xe(s,"argument-error"),Al._fromEmailAndCode(e,s.code,s.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends D_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Bl{constructor(){super("facebook.com")}static credential(e){return Vi._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vi._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ps.credential(t,s)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Bl{constructor(){super("github.com")}static credential(e){return Vi._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Bl{constructor(){super("twitter.com")}static credential(e,t){return Vi._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ds.credential(t,s)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(n,e){return zl(n,"POST","/v1/accounts:signUp",Yn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await Ur._fromIdTokenResponse(e,s,a),c=R0(s);return new Li({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=R0(s);return new Li({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function R0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Qn{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new qc(e,t,s,a)}}function V_(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(n,l,e,s):l})}async function ZA(n,e,t=!1){const s=await Nl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Li._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(n,e,t=!1){const{auth:s}=n;if(kr(s.app))return Promise.reject(Bn(s));const a="reauthenticate";try{const l=await Nl(n,V_(s,a,e,n),t);xe(l.idToken,s,"internal-error");const c=Pm(l.idToken);xe(c,s,"internal-error");const{sub:m}=c;return xe(n.uid===m,s,"user-mismatch"),Li._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&qr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L_(n,e,t=!1){if(kr(n.app))return Promise.reject(Bn(n));const s="signIn",a=await V_(n,s,e),l=await Li._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}async function t2(n,e){return L_(Xs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M_(n){const e=Xs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function r2(n,e,t){const s=Xs(n);await $c(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WA)}async function O_(n,e,t){if(kr(n.app))return Promise.reject(Bn(n));const s=Xs(n),c=await $c(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XA).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&M_(n),y}),m=await Li._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function n2(n,e,t){return kr(n.app)?Promise.reject(Bn(n)):t2(At(n),ro.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&M_(n),s})}function s2(n,e,t,s){return At(n).onIdTokenChanged(e,t,s)}function i2(n,e,t){return At(n).beforeAuthStateChanged(e,t)}function a2(n,e,t,s){return At(n).onAuthStateChanged(e,t,s)}function o2(n){return At(n).signOut()}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=1e3,u2=10;class U_ extends F_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,y)=>{this.notifyListeners(c,y)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);TA()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,u2):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}U_.type="LOCAL";const c2=U_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends F_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}z_.type="SESSION";const B_=z_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new gd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const m=Array.from(c).map(async v=>v(t.origin,l)),y=await d2(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((m,y)=>{const v=Lm("",20);a.port1.start();const _=setTimeout(()=>{y(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===v)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(T.data.response);break;default:clearTimeout(_),clearTimeout(l),y(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function f2(n){yn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function m2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p2(){return navigator?.serviceWorker?.controller||null}function g2(){return $_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="firebaseLocalStorageDb",y2=1,Wc="firebaseLocalStorage",H_="fbase_key";class $l{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yd(n,e){return n.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function v2(){const n=indexedDB.deleteDatabase(q_);return new $l(n).toPromise()}function Df(){const n=indexedDB.open(q_,y2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Wc,{keyPath:H_})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Wc)?e(s):(s.close(),await v2(),e(await Df()))})})}async function P0(n,e,t){const s=yd(n,!0).put({[H_]:e,value:t});return new $l(s).toPromise()}async function x2(n,e){const t=yd(n,!1).get(e),s=await new $l(t).toPromise();return s===void 0?null:s.value}function j0(n,e){const t=yd(n,!0).delete(e);return new $l(t).toPromise()}const _2=800,w2=3;class W_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Df(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>w2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(g2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await m2(),!this.activeServiceWorker)return;this.sender=new h2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Df();return await P0(e,Hc,"1"),await j0(e,Hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>P0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>x2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>j0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=yd(a,!1).getAll();return new $l(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W_.type="LOCAL";const E2=W_;new Ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n,e){return e?Un(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends Dm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ma(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ma(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function T2(n){return L_(n.auth,new Mm(n),n.bypassAuthState)}function I2(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),e2(t,new Mm(n),n.bypassAuthState)}async function b2(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),ZA(t,new Mm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const y={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return b2;case"reauthViaPopup":case"reauthViaRedirect":return I2;default:qr(this.auth,"internal-error")}}resolve(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Ul(2e3,1e4);class Ra extends G_{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Gn(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S2.get())};e()}}Ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="pendingRedirect",kc=new Map;class A2 extends G_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const s=await C2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C2(n,e){const t=j2(e),s=P2(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function R2(n,e){kc.set(n._key(),e)}function P2(n){return Un(n._redirectPersistence)}function j2(n){return Ec(N2,n.config.apiKey,n.name)}async function D2(n,e,t=!1){if(kr(n.app))return Promise.reject(Bn(n));const s=Xs(n),a=k2(s,e),c=await new A2(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=600*1e3;class L2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!K_(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(gn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V2&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(e))}saveEventToCache(e){this.cachedEventUids.add(D0(e)),this.lastProcessedEventTime=Date.now()}}function D0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function K_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function M2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(n,e={}){return Jn(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U2=/^https?/;async function z2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await O2(n);for(const t of e)try{if(B2(t))return}catch{}qr(n,"unauthorized-domain")}function B2(n){const e=Pf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!U2.test(t))return!1;if(F2.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new Ul(3e4,6e4);function V0(){const n=yn().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function q2(n){return new Promise((e,t)=>{function s(){V0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V0(),t(gn(n,"network-request-failed"))},timeout:$2.get()})}if(yn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(yn().gapi?.load)s();else{const a=jA("iframefcb");return yn()[a]=()=>{gapi.load?s():t(gn(n,"network-request-failed"))},R_(`${PA()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Tc=null,e})}let Tc=null;function H2(n){return Tc=Tc||q2(n),Tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new Ul(5e3,15e3),G2="__/auth/iframe",K2="emulator/auth/iframe",Q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J2(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Rm(e,K2):`https://${n.config.authDomain}/${G2}`,s={apiKey:e.apiKey,appName:n.name,v:Ya},a=Y2.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${jl(s).slice(1)}`}async function X2(n){const e=await H2(n),t=yn().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:J2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q2,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=gn(n,"network-request-failed"),m=yn().setTimeout(()=>{l(c)},W2.get());function y(){yn().clearTimeout(m),a(s)}s.ping(y).then(y,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eC=500,tC=600,rC="_blank",nC="http://localhost";class L0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sC(n,e,t,s=eC,a=tC){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...Z2,width:s.toString(),height:a.toString(),top:l,left:c},v=Ht().toLowerCase();t&&(m=T_(v)?rC:t),E_(v)&&(e=e||nC,y.scrollbars="yes");const _=Object.entries(y).reduce((T,[R,H])=>`${T}${R}=${H},`,"");if(kA(v)&&m!=="_self")return iC(e||"",m),new L0(null);const E=window.open(e||"",m,_);xe(E,n,"popup-blocked");try{E.focus()}catch{}return new L0(E)}function iC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="__/auth/handler",oC="emulator/auth/handler",lC=encodeURIComponent("fac");async function M0(n,e,t,s,a,l){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ya,eventId:a};if(e instanceof D_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",pT(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Bl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const y=await n._getAppCheckToken(),v=y?`#${lC}=${encodeURIComponent(y)}`:"";return`${uC(n)}?${jl(m).slice(1)}${v}`}function uC({config:n}){return n.emulator?Rm(n,oC):`https://${n.authDomain}/${aC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="webStorageSupport";class cC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B_,this._completeRedirectFn=D2,this._overrideRedirectResult=R2}async _openPopup(e,t,s,a){Gn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await M0(e,t,s,Pf(),a);return sC(e,l,Lm())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await M0(e,t,s,Pf(),a);return f2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Gn(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await X2(e),s=new L2(e);return t.register("authEvent",a=>(xe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(of,{type:of},a=>{const l=a?.[0]?.[of];l!==void 0&&t(!!l),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=z2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return A_()||k_()||jm()}}const dC=cC;var O0="@firebase/auth",F0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mC(n){Oa(new Ri("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C_(n)},v=new AA(s,a,l,y);return FA(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Oa(new Ri("auth-internal",e=>{const t=Xs(e.getProvider("auth").getImmediate());return(s=>new hC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(O0,F0,fC(n)),Os(O0,F0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=300,gC=Ev("authIdTokenMaxAge")||pC;let U0=null;const yC=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>gC)return;const a=t?.token;U0!==a&&(U0=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Q_(n=Nv()){const e=Wf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=OA(n,{popupRedirectResolver:dC,persistence:[E2,c2,B_]}),s=Ev("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=yC(l.toString());i2(t,c,()=>c(t.currentUser)),s2(t,m=>c(m))}}const a=_v("auth");return a&&UA(t,`http://${a}`),t}function vC(){return document.getElementsByTagName("head")?.[0]??document}CA({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=gn("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",vC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mC("Browser");const xC={apiKey:"AIzaSyAWcY83Sfnrd4hAiYtgcOhx7QEPxefExoI",authDomain:"fitcore-ca10b.firebaseapp.com",projectId:"fitcore-ca10b",storageBucket:"fitcore-ca10b.firebasestorage.app",messagingSenderId:"681434572380",appId:"1:681434572380:web:9a912d65ea43fe9ff22899"},Y_=yy().length?yy()[0]:Sv(xC),Ai=Q_(Y_),ze=LN(Y_),J_=L.createContext(void 0);function _C({children:n}){const[e,t]=L.useState(null),[s,a]=L.useState(null),[l,c]=L.useState(null),[m,y]=L.useState(!0),v=async T=>{try{const R=await Rf(Nt(ze,"users",T));if(R.exists()){const H=R.data();if(a(H),H.role==="gymAdmin"&&H.gymId){const V=await Rf(Nt(ze,"gyms",H.gymId));V.exists()&&c({...V.data(),id:V.id})}}}catch(R){console.error("Error fetching user data:",R)}};L.useEffect(()=>{const T=a2(Ai,async R=>{t(R),R?await v(R.uid):(a(null),c(null)),y(!1)});return()=>T()},[]);const _=async()=>{await o2(Ai)},E=async()=>{e&&await v(e.uid)};return h.jsx(J_.Provider,{value:{user:e,userData:s,userGym:l,loading:m,logout:_,refreshUserData:E},children:n})}const _n=()=>{const n=L.useContext(J_);if(!n)throw new Error("useAuth must be used within AuthProvider");return n};function wC({darkMode:n}){const{userData:e,user:t}=_n(),[s,a]=L.useState({activeMembers:0,enrollmentRequests:0,todaysRevenue:0,checkIns:0}),[l,c]=L.useState([]),[m,y]=L.useState([]),[v,_]=L.useState(!0),[E,T]=L.useState(null),R=async()=>{if(e?.gymId)try{_(!0);const W=Ir(nr(ze,"users"),yt("gymId","==",e.gymId),yt("role","==","member"),yt("enrollmentStatus","==","approved")),G=(await w0(W)).data().count,ne=Ir(nr(ze,"enrollments"),yt("gymId","==",e.gymId),yt("status","==","pending"),Fc("createdAt","desc"),v0(5)),me=(await pn(ne)).docs.map(Le=>({...Le.data(),id:Le.id,createdAt:Le.data().createdAt?.toDate?Le.data().createdAt.toDate():Le.data().createdAt}));y(me);const te=Ir(nr(ze,"enrollments"),yt("gymId","==",e.gymId),yt("status","==","pending")),N=(await w0(te)).data().count,I=new Date;I.setHours(0,0,0,0);const S=Ir(nr(ze,"enrollments"),yt("gymId","==",e.gymId),yt("status","==","approved")),j=(await pn(S)).docs.reduce((Le,kt)=>{const We=kt.data(),ie=We.createdAt;return(ie?.toDate?ie.toDate():new Date(ie))>=I?Le+(We.amount||0):Le},0),O=Ir(nr(ze,"enrollments"),yt("gymId","==",e.gymId),yt("status","==","approved"),Fc("createdAt","desc"),v0(5)),He=(await pn(O)).docs.map(Le=>({...Le.data(),id:Le.id,createdAt:Le.data().createdAt?.toDate?Le.data().createdAt.toDate():Le.data().createdAt}));c(He),a({activeMembers:G,enrollmentRequests:N,todaysRevenue:j,checkIns:0})}catch(W){console.error("Error fetching dashboard data:",W)}finally{_(!1)}};L.useEffect(()=>{R()},[e]);const H=async W=>{if(confirm(`Approve enrollment for ${W.userName}?`)){T(W.id);try{await Fr(Nt(ze,"enrollments",W.id),{status:"approved",verifiedAt:Gs(),verifiedBy:t?.uid}),await Fr(Nt(ze,"users",W.userId),{enrollmentStatus:"approved"}),await R()}catch(G){console.error("Error approving:",G),alert("Failed to approve enrollment")}finally{T(null)}}},V=async W=>{if(confirm(`Reject enrollment for ${W.userName}?`)){T(W.id);try{await Fr(Nt(ze,"enrollments",W.id),{status:"rejected",verifiedAt:Gs(),verifiedBy:t?.uid}),await Fr(Nt(ze,"users",W.userId),{enrollmentStatus:"rejected",gymId:null}),await R()}catch(G){console.error("Error rejecting:",G),alert("Failed to reject enrollment")}finally{T(null)}}},F=[{label:"Today's Check-ins",value:v?"...":s.checkIns.toString(),change:"Coming Soon",icon:yl,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{label:"Active Members",value:v?"...":s.activeMembers.toString(),change:"Total Active",icon:M1,color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-50 dark:bg-emerald-900/20"},{label:"Today's Revenue",value:v?"...":`${s.todaysRevenue}`,change:"Daily Total",icon:pl,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-50 dark:bg-purple-900/20"},{label:"Pending Requests",value:v?"...":s.enrollmentRequests.toString(),change:"Needs attention",icon:n1,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-50 dark:bg-orange-900/20"}];return h.jsx("div",{className:n?"dark":"",children:h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:F.map(W=>{const G=W.icon;return h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsx("div",{className:`p-2 rounded-lg ${W.bgColor}`,children:h.jsx(G,{className:`w-5 h-5 ${W.color}`})}),h.jsx("span",{className:"text-xs font-medium text-emerald-600 dark:text-emerald-400",children:W.change})]}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-1",children:W.value}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:W.label})]},W.label)})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Pending Enrollment Requests"}),h.jsx("div",{className:"space-y-3",children:v?h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Loading..."}):m.length===0?h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No pending requests"}):m.map(W=>h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-800",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W.userName}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:W.userEmail}),h.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["",W.amount,"  ",W.paymentMethod]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>H(W),disabled:E===W.id,className:"p-1.5 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded transition-colors disabled:opacity-50",title:"Approve",children:h.jsx(bc,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>V(W),disabled:E===W.id,className:"p-1.5 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors disabled:opacity-50",title:"Reject",children:h.jsx(ov,{className:"w-5 h-5"})})]})]},W.id))})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Payments"}),h.jsx("div",{className:"space-y-3",children:v?h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Loading..."}):l.length===0?h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No recent payments"}):l.map(W=>h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-800",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W.userName}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:W.createdAt instanceof Date?W.createdAt.toLocaleDateString():"Date N/A"})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["",W.amount]}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:W.paymentMethod})]})]},W.id))})]})]})]})})}function EC({memberId:n,onBack:e,darkMode:t}){const s={name:"Loading Name...",email:"loading@email.com",phone:"(555) 123-4567",joinDate:new Date().toISOString(),membershipType:"Standard",membershipStart:new Date().toISOString(),membershipExpiry:new Date().toISOString(),goals:"N/A",notes:"No notes available."},a=[{date:"2026-01-12",checkIn:"06:30 AM",checkOut:"08:45 AM",duration:"2h 15m"},{date:"2026-01-11",checkIn:"06:45 AM",checkOut:"08:30 AM",duration:"1h 45m"},{date:"2026-01-09",checkIn:"06:30 AM",checkOut:"08:15 AM",duration:"1h 45m"},{date:"2026-01-08",checkIn:"07:00 AM",checkOut:"09:00 AM",duration:"2h 0m"},{date:"2026-01-06",checkIn:"06:30 AM",checkOut:"08:30 AM",duration:"2h 0m"}],l=[{date:"2025-12-15",amount:150,method:"Card",status:"completed",description:"Monthly Premium"},{date:"2025-11-15",amount:150,method:"Card",status:"completed",description:"Monthly Premium"},{date:"2025-10-15",amount:150,method:"Cash",status:"completed",description:"Monthly Premium"},{date:"2025-09-15",amount:150,method:"Card",status:"completed",description:"Monthly Premium"}];return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("button",{onClick:e,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:h.jsx($f,{className:"w-5 h-5"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s.name}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Member since ",new Date(s.joinDate).toLocaleDateString()]})]}),h.jsx("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium text-sm transition-colors",children:"Edit Member"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Profile Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-100 dark:border-gray-800",children:[h.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:h.jsx(hv,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Email"}),h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.email})]})]}),h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-100 dark:border-gray-800",children:[h.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:h.jsx(fv,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Phone"}),h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.phone})]})]}),h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-100 dark:border-gray-800",children:[h.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:h.jsx(Kk,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Goals"}),h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.goals})]})]}),h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-100 dark:border-gray-800",children:[h.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:h.jsx(Zk,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Join Date"}),h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(s.joinDate).toLocaleDateString()})]})]})]}),h.jsxs("div",{className:"mt-4 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/30 rounded-lg",children:[h.jsx("p",{className:"text-xs font-medium text-amber-900 dark:text-amber-400 mb-1",children:"Notes"}),h.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:s.notes})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Membership Status"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-100 dark:border-gray-800",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Membership Type"}),h.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded text-xs font-medium",children:s.membershipType})]}),h.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-100 dark:border-gray-800",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Start Date"}),h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(s.membershipStart).toLocaleDateString()})]}),h.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-100 dark:border-gray-800",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Expiry Date"}),h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(s.membershipExpiry).toLocaleDateString()})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Attendance"}),h.jsx("div",{className:"space-y-3",children:a.map((c,m)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-100 dark:border-gray-800",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(c.date).toLocaleDateString()}),h.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[c.checkIn," - ",c.checkOut]})]}),h.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.duration})]},m))})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Payments"}),h.jsx("div",{className:"space-y-3",children:l.map((c,m)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-100 dark:border-gray-800",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:h.jsx(lv,{className:"w-3 h-3 text-emerald-600 dark:text-emerald-400"})}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",c.amount]}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:c.description}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:new Date(c.date).toLocaleDateString()})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"inline-block px-2 py-1 bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 rounded text-xs font-medium mb-1",children:c.status}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:c.method})]})]},m))})]})]})]})}function kC({onBack:n,darkMode:e}){return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("button",{onClick:n,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:h.jsx($f,{className:"w-5 h-5"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Member"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Fill in the details to create a new member"})]})]}),h.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-6",children:h.jsxs("form",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Personal Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),h.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full name"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),h.jsx("input",{type:"email",className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone *"}),h.jsx("input",{type:"tel",className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"(555) 123-4567"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date of Birth"}),h.jsx("input",{type:"date",className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Goals & Stats (Optional)"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fitness Goals"}),h.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Weight loss, Muscle gain"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Health Notes"}),h.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Any medical conditions or injuries"})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Membership Details"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Membership Type *"}),h.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Select membership type"}),h.jsx("option",{value:"basic",children:"Basic - $100/month"}),h.jsx("option",{value:"premium",children:"Premium - $150/month"}),h.jsx("option",{value:"vip",children:"VIP - $200/month"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date *"}),h.jsx("input",{type:"date",className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expiry Date *"}),h.jsx("input",{type:"date",className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration"}),h.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"1",children:"1 Month"}),h.jsx("option",{value:"3",children:"3 Months"}),h.jsx("option",{value:"6",children:"6 Months"}),h.jsx("option",{value:"12",children:"12 Months"})]})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Initial Payment"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),h.jsx("input",{type:"number",className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),h.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"cash",children:"Cash"}),h.jsx("option",{value:"card",children:"Card"}),h.jsx("option",{value:"online",children:"Online Transfer"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Status"}),h.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"completed",children:"Completed"}),h.jsx("option",{value:"pending",children:"Pending"})]})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Additional Notes"}),h.jsx("textarea",{rows:4,className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Any additional information about the member..."})]}),h.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-800",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-200 dark:border-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg font-medium text-sm transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium text-sm transition-colors",children:"Add Member"})]})]})})]})}function TC({darkMode:n}){const{userData:e,user:t}=_n(),[s,a]=L.useState(""),[l,c]=L.useState("all"),[m,y]=L.useState(null),[v,_]=L.useState(!1),[E,T]=L.useState([]),[R,H]=L.useState(!0),[V,F]=L.useState(null),W=async()=>{if(e?.gymId)try{H(!0);const te=Ir(nr(ze,"users"),yt("gymId","==",e.gymId),yt("role","==","member")),I=(await pn(te)).docs.map(S=>({...S.data(),uid:S.id}));T(I)}catch(te){console.error("Error fetching members:",te)}finally{H(!1)}};L.useEffect(()=>{W()},[e]);const G=async te=>{if(confirm(`Approve membership for ${te.displayName}?`)){F(te.uid);try{const N=Ir(nr(ze,"enrollments"),yt("userId","==",te.uid)),S=(await pn(N)).docs.find(P=>P.data().gymId===e?.gymId&&P.data().status==="pending");S&&await Fr(Nt(ze,"enrollments",S.id),{status:"approved",verifiedAt:Gs(),verifiedBy:t?.uid||null}),await Fr(Nt(ze,"users",te.uid),{enrollmentStatus:"approved"}),await W(),alert("Member approved successfully")}catch(N){console.error("Error approving member:",N);const I=N instanceof Error?N.message:"Unknown error";alert(`Failed to approve member: ${I}`)}finally{F(null)}}},ne=async te=>{if(confirm(`Reject membership for ${te.displayName}?`)){F(te.uid);try{const N=Ir(nr(ze,"enrollments"),yt("userId","==",te.uid)),S=(await pn(N)).docs.find(P=>P.data().gymId===e?.gymId&&P.data().status==="pending");S&&await Fr(Nt(ze,"enrollments",S.id),{status:"rejected",verifiedAt:Gs(),verifiedBy:t?.uid||null}),await Fr(Nt(ze,"users",te.uid),{enrollmentStatus:"rejected",gymId:null}),await W(),alert("Member rejected successfully")}catch(N){console.error("Error rejecting member:",N);const I=N instanceof Error?N.message:"Unknown error";alert(`Failed to reject member: ${I}`)}finally{F(null)}}},ee=async te=>{if(confirm(`Are you sure you want to delete ${te.displayName}? This action cannot be undone.`)){F(te.uid);try{await ZN(Nt(ze,"users",te.uid)),await W(),alert("Member deleted successfully")}catch(N){console.error("Error deleting member:",N),alert("Failed to delete member")}finally{F(null)}}},me=E.filter(te=>{const N=(te.displayName?.toLowerCase()||"").includes(s.toLowerCase())||(te.email?.toLowerCase()||"").includes(s.toLowerCase()),I=l==="all"||l==="active"&&te.enrollmentStatus==="approved"||l==="inactive"&&te.enrollmentStatus!=="approved"&&te.enrollmentStatus!=="pending"||l==="pending"&&te.enrollmentStatus==="pending";return N&&I});return m?h.jsx(EC,{memberId:m,onBack:()=>y(null),darkMode:n}):v?h.jsx(kC,{onBack:()=>_(!1),darkMode:n}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Members"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage your gym members"})]}),h.jsxs("button",{onClick:()=>_(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium text-sm transition-colors",children:[h.jsx(gl,{className:"w-4 h-4"}),"Add Member"]})]}),h.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-4",children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(mv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:s,onChange:te=>a(te.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(cv,{className:"w-4 h-4 text-gray-400"}),h.jsxs("select",{value:l,onChange:te=>c(te.target.value),className:"px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"All Members"}),h.jsx("option",{value:"active",children:"Active"}),h.jsx("option",{value:"pending",children:"Pending Requests"}),h.jsx("option",{value:"inactive",children:"Inactive"}),h.jsx("option",{value:"expiring",children:"Expiring Soon"}),h.jsx("option",{value:"recent",children:"Recently Added"})]})]})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Name"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Contact"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Membership"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Expiry"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Last Visit"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"}),h.jsx("th",{className:"text-right py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:me.map(te=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30",children:[h.jsx("td",{className:"py-3 px-5",children:h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:te.displayName||"N/A"})}),h.jsx("td",{className:"py-3 px-5",children:h.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:te.email})}),h.jsx("td",{className:"py-3 px-5",children:h.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded text-xs font-medium",children:"Standard"})}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-900 dark:text-white",children:"--"}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-600 dark:text-gray-400",children:"--"}),h.jsx("td",{className:"py-3 px-5",children:h.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize ${te.enrollmentStatus==="approved"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":te.enrollmentStatus==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:te.enrollmentStatus})}),h.jsx("td",{className:"py-3 px-5",children:h.jsx("div",{className:"flex items-center justify-end gap-2",children:te.enrollmentStatus==="pending"?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>G(te),disabled:V===te.uid,className:"p-1.5 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded transition-colors",title:"Approve",children:h.jsx(bc,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>ne(te),disabled:V===te.uid,className:"p-1.5 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors",title:"Reject",children:h.jsx(ov,{className:"w-4 h-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>y(te.uid),className:"p-1.5 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"View",children:h.jsx(c1,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>ee(te),disabled:V===te.uid,className:"p-1.5 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors",title:"Delete",children:h.jsx(pv,{className:"w-4 h-4"})})]})})})]},te.uid))})]})})}),h.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:h.jsxs("p",{children:["Showing ",me.length," of ",E.length," members"]})})]})}function IC({darkMode:n}){const{userData:e}=_n(),[t,s]=L.useState(""),[a,l]=L.useState("all"),[c,m]=L.useState("all"),[y,v]=L.useState([]),[_,E]=L.useState(!0);L.useEffect(()=>{(async()=>{if(e?.gymId)try{E(!0);const F=Ir(nr(ze,"enrollments"),yt("gymId","==",e.gymId),Fc("createdAt","desc")),G=(await pn(F)).docs.map(ne=>({...ne.data(),id:ne.id,createdAt:ne.data().createdAt?.toDate?ne.data().createdAt.toDate():ne.data().createdAt}));v(G)}catch(F){console.error("Error fetching payments:",F)}finally{E(!1)}})()},[e]);const T=y.filter(V=>{const F=V.userName.toLowerCase().includes(t.toLowerCase())||V.transactionId&&V.transactionId.toLowerCase().includes(t.toLowerCase()),W=a==="all"||V.paymentMethod.toLowerCase()===a,G=c==="all"||V.status===c;return F&&W&&G}),R=T.filter(V=>V.status==="approved").reduce((V,F)=>V+F.amount,0),H=T.filter(V=>V.status==="pending").reduce((V,F)=>V+F.amount,0);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Payments"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Track and manage all transactions"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-200 dark:border-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg font-medium text-sm transition-colors",children:[h.jsx(uv,{className:"w-4 h-4"}),"Export"]}),h.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium text-sm transition-colors",children:[h.jsx(gl,{className:"w-4 h-4"}),"Add Payment"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Total Revenue"}),h.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:["",R]}),h.jsxs("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 font-medium",children:[T.filter(V=>V.status==="approved").length," completed payments"]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Pending Payments"}),h.jsxs("p",{className:"text-2xl font-semibold text-orange-600 dark:text-orange-400 mb-2",children:["",H]}),h.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:[T.filter(V=>V.status==="pending").length," pending transactions"]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Total Transactions"}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:T.length}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"In selected period"})]})]}),h.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-4",children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(mv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search by member name or transaction ID...",value:t,onChange:V=>s(V.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(cv,{className:"w-4 h-4 text-gray-400"}),h.jsxs("select",{value:a,onChange:V=>l(V.target.value),className:"px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"All Methods"}),h.jsx("option",{value:"cash",children:"Cash"}),h.jsx("option",{value:"online",children:"Online"})]}),h.jsxs("select",{value:c,onChange:V=>m(V.target.value),className:"px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"All Status"}),h.jsx("option",{value:"approved",children:"Completed"}),h.jsx("option",{value:"pending",children:"Pending"}),h.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Date & Time"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Member"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Description"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Amount"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Method"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Reference"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:_?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"py-8 text-center text-gray-500",children:"Loading payments..."})}):T.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"py-8 text-center text-gray-500",children:"No records found"})}):T.map(V=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30",children:[h.jsxs("td",{className:"py-3 px-5",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:V.createdAt instanceof Date?V.createdAt.toLocaleDateString():"N/A"}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:V.createdAt instanceof Date?V.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),h.jsx("td",{className:"py-3 px-5 text-sm font-medium text-gray-900 dark:text-white",children:V.userName}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-600 dark:text-gray-400",children:"Membership Fee"}),h.jsxs("td",{className:"py-3 px-5 text-sm font-semibold text-gray-900 dark:text-white",children:["",V.amount]}),h.jsx("td",{className:"py-3 px-5",children:h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400 rounded text-xs font-medium uppercase",children:V.paymentMethod})}),h.jsx("td",{className:"py-3 px-5",children:h.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize ${V.status==="approved"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":V.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:V.status})}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-600 dark:text-gray-400",children:V.transactionId||"--"})]},V.id))})]})})}),h.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:h.jsxs("p",{children:["Showing ",T.length," of ",y.length," payments"]})})]})}function bC({darkMode:n}){const[e,t]=L.useState("today"),s=[{id:1,name:"Sarah Johnson",checkIn:"06:30 AM",status:"in",duration:"2h 45m",email:"sarah.j@email.com"},{id:2,name:"Emma Wilson",checkIn:"08:00 AM",status:"in",duration:"1h 45m",email:"emma.w@email.com"},{id:3,name:"Lisa Anderson",checkIn:"09:00 AM",status:"in",duration:"45m",email:"lisa.a@email.com"},{id:4,name:"David Martinez",checkIn:"07:30 AM",status:"in",duration:"2h 15m",email:"david.m@email.com"}],a=[{id:5,name:"Mike Chen",checkIn:"07:15 AM",checkOut:"09:00 AM",duration:"1h 45m",email:"mike.chen@email.com"},{id:6,name:"James Brown",checkIn:"07:45 AM",checkOut:"09:30 AM",duration:"1h 45m",email:"james.b@email.com"},{id:7,name:"Sophie Taylor",checkIn:"06:00 AM",checkOut:"07:30 AM",duration:"1h 30m",email:"sophie.t@email.com"},{id:8,name:"Ryan Garcia",checkIn:"08:30 AM",checkOut:"10:00 AM",duration:"1h 30m",email:"ryan.g@email.com"}],l=[{id:1,name:"Sarah Johnson",date:"2026-01-11",checkIn:"06:30 AM",checkOut:"08:45 AM",duration:"2h 15m"},{id:2,name:"Mike Chen",date:"2026-01-11",checkIn:"07:15 AM",checkOut:"09:00 AM",duration:"1h 45m"},{id:3,name:"Emma Wilson",date:"2026-01-11",checkIn:"08:00 AM",checkOut:"09:45 AM",duration:"1h 45m"},{id:4,name:"David Martinez",date:"2026-01-10",checkIn:"07:30 AM",checkOut:"09:30 AM",duration:"2h 0m"},{id:5,name:"Sarah Johnson",date:"2026-01-10",checkIn:"06:45 AM",checkOut:"08:30 AM",duration:"1h 45m"},{id:6,name:"Lisa Anderson",date:"2026-01-10",checkIn:"09:00 AM",checkOut:"10:30 AM",duration:"1h 30m"},{id:7,name:"James Brown",date:"2026-01-09",checkIn:"07:45 AM",checkOut:"09:30 AM",duration:"1h 45m"},{id:8,name:"Emma Wilson",date:"2026-01-09",checkIn:"08:00 AM",checkOut:"10:00 AM",duration:"2h 0m"}];return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Attendance"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Track member check-ins and visits"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-1",children:[h.jsx("button",{onClick:()=>t("today"),className:`px-4 py-1.5 rounded text-sm font-medium transition-colors ${e==="today"?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:"Today"}),h.jsx("button",{onClick:()=>t("history"),className:`px-4 py-1.5 rounded text-sm font-medium transition-colors ${e==="history"?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:"History"})]}),h.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium text-sm transition-colors",children:[h.jsx(gl,{className:"w-4 h-4"}),"Manual Entry"]})]})]}),e==="today"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Currently In Gym"}),h.jsx("p",{className:"text-2xl font-semibold text-emerald-600 dark:text-emerald-400 mb-2",children:s.length}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),h.jsx("span",{className:"text-xs font-medium text-emerald-600 dark:text-emerald-400",children:"Active Now"})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Checked Out Today"}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:a.length}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"Completed visits"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Total Check-ins"}),h.jsx("p",{className:"text-2xl font-semibold text-blue-600 dark:text-blue-400 mb-2",children:s.length+a.length}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"Today's total"})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Currently In Gym"}),h.jsxs("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 rounded text-xs font-medium",children:[s.length," Active"]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Member"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Check-in Time"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Duration"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"}),h.jsx("th",{className:"text-right py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Action"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:s.map(c=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30",children:[h.jsxs("td",{className:"py-3 px-5",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.name}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:c.email})]}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-900 dark:text-white",children:c.checkIn}),h.jsx("td",{className:"py-3 px-5 text-sm font-medium text-gray-900 dark:text-white",children:c.duration}),h.jsx("td",{className:"py-3 px-5",children:h.jsxs("span",{className:"inline-flex items-center gap-1.5 text-emerald-600 dark:text-emerald-400",children:[h.jsx(gv,{className:"w-3.5 h-3.5"}),h.jsx("span",{className:"text-xs font-medium",children:"In Gym"})]})}),h.jsx("td",{className:"py-3 px-5 text-right",children:h.jsx("button",{className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded text-xs font-medium transition-colors",children:"Check Out"})})]},c.id))})]})})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Checked Out Today"}),h.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400 rounded text-xs font-medium",children:[a.length," Completed"]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Member"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Check-in"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Check-out"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Duration"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:a.map(c=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30",children:[h.jsxs("td",{className:"py-3 px-5",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.name}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:c.email})]}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-900 dark:text-white",children:c.checkIn}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-900 dark:text-white",children:c.checkOut}),h.jsx("td",{className:"py-3 px-5 text-sm font-medium text-gray-900 dark:text-white",children:c.duration}),h.jsx("td",{className:"py-3 px-5",children:h.jsxs("span",{className:"inline-flex items-center gap-1.5 text-gray-600 dark:text-gray-400",children:[h.jsx(U1,{className:"w-3.5 h-3.5"}),h.jsx("span",{className:"text-xs font-medium",children:"Completed"})]})})]},c.id))})]})})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-4",children:h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"date",className:"flex-1 px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"to"}),h.jsx("input",{type:"date",className:"flex-1 px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Member"}),h.jsxs("select",{className:"px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"All Members"}),h.jsx("option",{value:"1",children:"Sarah Johnson"}),h.jsx("option",{value:"2",children:"Mike Chen"}),h.jsx("option",{value:"3",children:"Emma Wilson"})]})]})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Date"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Member"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Check-in"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Check-out"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Duration"}),h.jsx("th",{className:"text-right py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:l.map(c=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30",children:[h.jsx("td",{className:"py-3 px-5 text-sm font-medium text-gray-900 dark:text-white",children:new Date(c.date).toLocaleDateString()}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-900 dark:text-white",children:c.name}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-900 dark:text-white",children:c.checkIn}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-900 dark:text-white",children:c.checkOut}),h.jsx("td",{className:"py-3 px-5 text-sm font-medium text-gray-900 dark:text-white",children:c.duration}),h.jsx("td",{className:"py-3 px-5 text-right",children:h.jsx("button",{className:"p-1.5 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition-colors",title:"Edit",children:h.jsx(P1,{className:"w-4 h-4"})})})]},c.id))})]})})}),h.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:h.jsxs("p",{children:["Showing ",l.length," attendance records"]})})]})]})}function SC({darkMode:n}){const{userData:e}=_n(),[t,s]=L.useState({totalRevenue:0,totalMembers:0,approvedEnrollments:0,pendingEnrollments:0}),[a,l]=L.useState([]),[c,m]=L.useState(!0);L.useEffect(()=>{(async()=>{if(e?.gymId)try{m(!0);const _=Ir(nr(ze,"enrollments"),yt("gymId","==",e.gymId)),T=(await pn(_)).docs.map(G=>({...G.data(),id:G.id,createdAt:G.data().createdAt?.toDate?G.data().createdAt.toDate():G.data().createdAt}));l(T);const R=T.filter(G=>G.status==="approved"),H=T.filter(G=>G.status==="pending"),V=R.reduce((G,ne)=>G+ne.amount,0),F=Ir(nr(ze,"users"),yt("gymId","==",e.gymId),yt("role","==","member"),yt("enrollmentStatus","==","approved")),W=await pn(F);s({totalRevenue:V,totalMembers:W.size,approvedEnrollments:R.length,pendingEnrollments:H.length})}catch(_){console.error("Error fetching reports data:",_)}finally{m(!1)}})()},[e]);const y=()=>{const v=[["Date","Member","Email","Amount","Payment Method","Status"].join(","),...a.map(R=>[R.createdAt instanceof Date?R.createdAt.toLocaleDateString():"N/A",R.userName,R.userEmail,R.amount,R.paymentMethod,R.status].join(","))].join(`
`),_=new Blob([v],{type:"text/csv"}),E=window.URL.createObjectURL(_),T=document.createElement("a");T.href=E,T.download=`payments-${new Date().toISOString().split("T")[0]}.csv`,T.click()};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Reports"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Analytics and insights"})]}),h.jsx("div",{className:"flex items-center gap-3",children:h.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-200 dark:border-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg font-medium text-sm transition-colors",children:[h.jsx(uv,{className:"w-4 h-4"}),"Export Payments"]})})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:h.jsx(pl,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-1",children:c?"...":`${t.totalRevenue}`}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Revenue"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:h.jsx(yl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-1",children:c?"...":t.totalMembers}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Active Members"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:h.jsx(pl,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})})}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-1",children:c?"...":t.approvedEnrollments}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Approved Enrollments"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:h.jsx(yl,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})})}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-1",children:c?"...":t.pendingEnrollments}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pending Requests"})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden",children:[h.jsx("div",{className:"p-5 border-b border-gray-200 dark:border-gray-800",children:h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"All Transactions"})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Date"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Member"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Email"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Amount"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Method"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:c?h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"Loading..."})}):a.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"No transactions found"})}):a.map(v=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30",children:[h.jsx("td",{className:"py-3 px-5 text-sm text-gray-900 dark:text-white",children:v.createdAt instanceof Date?v.createdAt.toLocaleDateString():"N/A"}),h.jsx("td",{className:"py-3 px-5 text-sm font-medium text-gray-900 dark:text-white",children:v.userName}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-600 dark:text-gray-400",children:v.userEmail}),h.jsxs("td",{className:"py-3 px-5 text-sm font-semibold text-gray-900 dark:text-white",children:["",v.amount]}),h.jsx("td",{className:"py-3 px-5",children:h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400 rounded text-xs font-medium uppercase",children:v.paymentMethod})}),h.jsx("td",{className:"py-3 px-5",children:h.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize ${v.status==="approved"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":v.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:v.status})})]},v.id))})]})})]})]})}function NC({darkMode:n}){const{userGym:e,refreshUserData:t}=_n(),[s,a]=L.useState(!1),[l,c]=L.useState({name:"",phone:"",email:"",address:"",monthlyFee:0,upiId:""});L.useEffect(()=>{e&&c({name:e.name||"",phone:e.phone||"",email:e.email||"",address:e.address||"",monthlyFee:e.monthlyFee||0,upiId:e.upiId||""})},[e]);const m=async()=>{if(e?.id)try{a(!0),await Fr(Nt(ze,"gyms",e.id),{name:l.name,phone:l.phone,email:l.email,address:l.address,monthlyFee:Number(l.monthlyFee),upiId:l.upiId}),await t(),alert("Settings saved successfully!")}catch(y){console.error("Error saving settings:",y),alert("Failed to save settings")}finally{a(!1)}};return e?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Settings"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage your gym configuration"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-6",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Gym Information"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[h.jsx(ml,{className:"w-4 h-4"}),"Gym Name"]}),h.jsx("input",{type:"text",value:l.name,onChange:y=>c({...l,name:y.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[h.jsx(fv,{className:"w-4 h-4"}),"Phone"]}),h.jsx("input",{type:"tel",value:l.phone,onChange:y=>c({...l,phone:y.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[h.jsx(hv,{className:"w-4 h-4"}),"Email"]}),h.jsx("input",{type:"email",value:l.email,onChange:y=>c({...l,email:y.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[h.jsx(w1,{className:"w-4 h-4"}),"Address"]}),h.jsx("input",{type:"text",value:l.address,onChange:y=>c({...l,address:y.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[h.jsx(f1,{className:"w-4 h-4"}),"Monthly Fee ()"]}),h.jsx("input",{type:"number",value:l.monthlyFee,onChange:y=>c({...l,monthlyFee:parseFloat(y.target.value)||0}),className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[h.jsx(pl,{className:"w-4 h-4"}),"UPI ID"]}),h.jsx("input",{type:"text",value:l.upiId,onChange:y=>c({...l,upiId:y.target.value}),className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),h.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-800",children:h.jsx("button",{onClick:m,disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium text-sm transition-colors disabled:opacity-50",children:s?"Saving...":"Save Changes"})})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-6",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Gym Statistics"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Gym ID"}),h.jsx("p",{className:"text-sm font-mono text-gray-900 dark:text-white",children:e.id})]}),h.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Created"}),h.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:e.createdAt instanceof Date?e.createdAt.toLocaleDateString():"N/A"})]}),h.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Status"}),h.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${e.isActive?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:e.isActive?"Active":"Inactive"})]})]})]})]}):h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Settings"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Loading gym information..."})]})})}function AC(){const n=Ka(),[e,t]=L.useState(""),[s,a]=L.useState(""),[l,c]=L.useState(""),[m,y]=L.useState(!1),v=async _=>{_.preventDefault(),c(""),y(!0);try{const E=await n2(Ai,e,s),T=await Rf(Nt(ze,"users",E.user.uid));if(T.exists()){const R=T.data();R.role==="superAdmin"?n("/super-admin"):R.role==="gymAdmin"?n("/dashboard"):(c("Access denied. Admin only."),await Ai.signOut())}else c("User not found."),await Ai.signOut()}catch(E){const T=E;T.code==="auth/user-not-found"?c("No account found with this email."):T.code==="auth/wrong-password"?c("Incorrect password."):T.code==="auth/invalid-credential"?c("Invalid email or password."):c(T.message||"Login failed")}finally{y(!1)}};return h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-lg mb-4",children:h.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),h.jsx("h1",{className:"text-3xl font-semibold text-gray-900 dark:text-white",children:"FITCORE"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Admin Panel"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Sign In"}),h.jsxs("form",{onSubmit:v,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),h.jsx("input",{type:"email",value:e,onChange:_=>t(_.target.value),className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin@fitcore.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),h.jsx("input",{type:"password",value:s,onChange:_=>a(_.target.value),className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",required:!0})]}),l&&h.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/30 rounded-lg p-3",children:h.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:l})}),h.jsx("button",{type:"submit",disabled:m,className:"w-full py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Signing in...":"Sign In"})]})]}),h.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mt-4",children:"Admin access only"})]})})}function CC({onSuccess:n}){const[e,t]=L.useState(!1),[s,a]=L.useState(""),[l,c]=L.useState({name:"",address:"",phone:"",email:"",upiId:"",monthlyFee:"",adminName:"",adminEmail:"",adminPassword:""}),m=v=>{c({...l,[v.target.name]:v.target.value})},y=async v=>{v.preventDefault(),t(!0),a("");try{const _=await O_(Ai,l.adminEmail,l.adminPassword),E=await f_(nr(ze,"gyms"),{name:l.name,address:l.address,phone:l.phone,email:l.email,upiId:l.upiId,monthlyFee:parseFloat(l.monthlyFee),adminId:_.user.uid,isActive:!0,createdAt:Gs()});await h_(Nt(ze,"users",_.user.uid),{displayName:l.adminName,email:l.adminEmail,role:"gymAdmin",gymId:E.id,enrollmentStatus:"none",paymentMethod:null,transactionId:null,enrolledAt:null,createdAt:Gs()}),alert(`Gym "${l.name}" created successfully!

Admin Credentials:
Email: ${l.adminEmail}
Password: ${l.adminPassword}

Please save these credentials securely.`),c({name:"",address:"",phone:"",email:"",upiId:"",monthlyFee:"",adminName:"",adminEmail:"",adminPassword:""}),n()}catch(_){const E=_;E.code==="auth/email-already-in-use"?a("Admin email is already in use."):a(E.message||"Failed to create gym")}finally{t(!1)}};return h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Create New Gym"}),h.jsxs("form",{onSubmit:y,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Gym Information"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gym Name *"}),h.jsx("input",{type:"text",name:"name",value:l.name,onChange:m,className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address *"}),h.jsx("input",{type:"text",name:"address",value:l.address,onChange:m,className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone *"}),h.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:m,className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),h.jsx("input",{type:"email",name:"email",value:l.email,onChange:m,className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"UPI ID *"}),h.jsx("input",{type:"text",name:"upiId",value:l.upiId,onChange:m,className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Monthly Fee () *"}),h.jsx("input",{type:"number",name:"monthlyFee",value:l.monthlyFee,onChange:m,className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]})]})]}),h.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Admin Account"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Admin Name *"}),h.jsx("input",{type:"text",name:"adminName",value:l.adminName,onChange:m,className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Admin Email *"}),h.jsx("input",{type:"email",name:"adminEmail",value:l.adminEmail,onChange:m,className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Admin Password *"}),h.jsx("input",{type:"password",name:"adminPassword",value:l.adminPassword,onChange:m,className:"w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",minLength:6,required:!0})]})]})]})]}),s&&h.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/30 rounded-lg p-3",children:h.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:s})}),h.jsx("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-800",children:h.jsx("button",{type:"submit",disabled:e,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Creating...":"Create Gym & Admin"})})]})]})})}function RC(){const n=Ka(),{user:e,userData:t,loading:s,logout:a}=_n(),[l,c]=L.useState([]),[m,y]=L.useState(!0),[v,_]=L.useState(null),[E,T]=L.useState(!1),R=Q_();L.useEffect(()=>{s||(e?t?.role!=="superAdmin"?n("/"):H():n("/"))},[e,t,s,n]);const H=async()=>{try{const ee=Ir(nr(ze,"gyms"),Fc("createdAt","desc")),te=(await pn(ee)).docs.map(N=>({id:N.id,name:N.data().name,address:N.data().address,phone:N.data().phone,email:N.data().email,upiId:N.data().upiId,monthlyFee:N.data().monthlyFee,createdAt:N.data().createdAt?.toDate()||new Date,adminId:N.data().adminId,isActive:N.data().isActive??!0}));c(te)}catch(ee){console.error("Error fetching gyms:",ee)}finally{y(!1)}},V=async ee=>{if(!ee.email){alert("No email found for this gym admin");return}if(confirm(`Send password reset email to ${ee.email}?`)){_(ee.id);try{await r2(R,ee.email),alert(`Password reset email sent to ${ee.email}`)}catch(me){console.error("Error sending password reset:",me),alert("Failed to send password reset email")}finally{_(null)}}},F=async ee=>{const me=ee.isActive?"deactivate":"activate";if(confirm(`Are you sure you want to ${me} ${ee.name}?`)){_(ee.id);try{await Fr(Nt(ze,"gyms",ee.id),{isActive:!ee.isActive}),await H(),alert(`Gym ${me}d successfully`)}catch(te){console.error(`Error ${me}ing gym:`,te),alert(`Failed to ${me} gym`)}finally{_(null)}}},W=async ee=>{if(confirm(` WARNING: Delete ${ee.name}? This action cannot be undone!`)&&confirm(`Type the gym name to confirm deletion: "${ee.name}"`)){_(ee.id);try{await Fr(Nt(ze,"gyms",ee.id),{isActive:!1}),await H(),alert("Gym deactivated (deletion requires additional cleanup)")}catch(me){console.error("Error deleting gym:",me),alert("Failed to delete gym")}finally{_(null)}}},G=async()=>{await a(),n("/")},ne={totalGyms:l.length,activeGyms:l.filter(ee=>ee.isActive).length,inactiveGyms:l.filter(ee=>!ee.isActive).length,totalRevenue:l.reduce((ee,me)=>ee+me.monthlyFee,0)};return s||m?h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex items-center justify-center",children:h.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[h.jsx("header",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:h.jsx(ml,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"FITCORE"}),h.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Super Admin"})]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{onClick:()=>n("/super-admin/create-gym"),className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium text-sm transition-colors",children:[h.jsx(gl,{className:"w-4 h-4"}),"Create Gym"]}),h.jsxs("div",{className:"text-right hidden sm:block",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t?.displayName}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:t?.email})]}),h.jsx("button",{onClick:G,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:h.jsx(dv,{className:"w-5 h-5"})})]})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between bg-purple-50 dark:bg-purple-900/10 border-2 border-purple-200 dark:border-purple-800 rounded-lg p-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Gym Management"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Create and manage all gyms in the system"})]}),h.jsxs("button",{onClick:()=>n("/super-admin/create-gym"),className:"inline-flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold text-base shadow-lg hover:shadow-xl transition-all w-full sm:w-auto justify-center",children:[h.jsx(gl,{className:"w-5 h-5"}),"Create New Gym"]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:h.jsx(ml,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:ne.totalGyms}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Gyms"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:h.jsx(bc,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:ne.activeGyms}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Gyms"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:h.jsx(ly,{className:"w-5 h-5 text-red-600 dark:text-red-400"})})}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:ne.inactiveGyms}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Inactive Gyms"})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-5",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:h.jsx(pl,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})})}),h.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:["",ne.totalRevenue]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Monthly Fees"})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden",children:[h.jsx("div",{className:"p-5 border-b border-gray-200 dark:border-gray-800",children:h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"All Gyms"})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Gym Name"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Contact"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Monthly Fee"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"}),h.jsx("th",{className:"text-left py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Created"}),h.jsx("th",{className:"text-right py-3 px-5 text-xs font-medium text-gray-600 dark:text-gray-400",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:l.length===0?h.jsx("tr",{children:h.jsxs("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:[h.jsx(yl,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),h.jsx("p",{children:"No gyms found"})]})}):l.map(ee=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30",children:[h.jsxs("td",{className:"py-3 px-5",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ee.name}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:ee.address})]}),h.jsxs("td",{className:"py-3 px-5",children:[h.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:ee.email}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:ee.phone})]}),h.jsxs("td",{className:"py-3 px-5 text-sm font-semibold text-gray-900 dark:text-white",children:["",ee.monthlyFee]}),h.jsx("td",{className:"py-3 px-5",children:h.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ee.isActive?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:ee.isActive?"Active":"Inactive"})}),h.jsx("td",{className:"py-3 px-5 text-sm text-gray-600 dark:text-gray-400",children:ee.createdAt instanceof Date?ee.createdAt.toLocaleDateString():"N/A"}),h.jsx("td",{className:"py-3 px-5",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:()=>V(ee),disabled:v===ee.id,className:"p-1.5 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors disabled:opacity-50",title:"Reset Admin Password",children:h.jsx(p1,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>F(ee),disabled:v===ee.id,className:`p-1.5 rounded transition-colors disabled:opacity-50 ${ee.isActive?"text-orange-600 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/30":"text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/30"}`,title:ee.isActive?"Deactivate Gym":"Activate Gym",children:ee.isActive?h.jsx(ly,{className:"w-4 h-4"}):h.jsx(bc,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>W(ee),disabled:v===ee.id,className:"p-1.5 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition-colors disabled:opacity-50",title:"Delete Gym",children:h.jsx(pv,{className:"w-4 h-4"})})]})})]},ee.id))})]})})]}),E&&h.jsx("div",{className:"fixed inset-0 bg-gray-900/50 z-[9999] flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[h.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 p-4 flex items-center justify-between z-10",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Create New Gym"}),h.jsx("button",{onClick:()=>T(!1),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:""})]}),h.jsx("div",{className:"p-6",children:h.jsx(CC,{onSuccess:()=>{T(!1),H()}})})]})})]})]})}function PC(){const n=Ka(),{userData:e,loading:t}=_n(),[s,a]=L.useState(!1),[l,c]=L.useState(""),[m,y]=L.useState(""),[v,_]=L.useState({name:"",address:"",phone:"",email:"",upiId:"",monthlyFee:"",adminName:"",adminEmail:"",adminPassword:""});if(!t&&e?.role!=="superAdmin")return n("/"),null;const E=R=>{_({...v,[R.target.name]:R.target.value})},T=async R=>{R.preventDefault(),a(!0),c(""),y("");try{const H=await O_(Ai,v.adminEmail,v.adminPassword),V=await f_(nr(ze,"gyms"),{name:v.name,address:v.address,phone:v.phone,email:v.email,upiId:v.upiId,monthlyFee:parseFloat(v.monthlyFee),adminId:H.user.uid,isActive:!0,createdAt:Gs()});await h_(Nt(ze,"users",H.user.uid),{uid:H.user.uid,displayName:v.adminName,email:v.adminEmail,role:"gymAdmin",gymId:V.id,enrollmentStatus:"none",paymentMethod:null,transactionId:null,enrolledAt:null,createdAt:Gs()}),y(`Gym "${v.name}" created successfully!

Admin Credentials:
Email: ${v.adminEmail}
Password: ${v.adminPassword}

Please save these credentials securely.`),_({name:"",address:"",phone:"",email:"",upiId:"",monthlyFee:"",adminName:"",adminEmail:"",adminPassword:""})}catch(H){const V=H;V.code==="auth/email-already-in-use"?c("Admin email is already in use. Please use a different email."):V.code==="auth/weak-password"?c("Password is too weak. Use at least 6 characters."):c(V.message||"Failed to create gym. Please try again.")}finally{a(!1)}};return t?h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex items-center justify-center",children:h.jsx("div",{className:"w-10 h-10 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[h.jsx("header",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 sticky top-0 z-10",children:h.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("button",{onClick:()=>n("/super-admin"),className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:h.jsx($f,{className:"w-5 h-5"})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:h.jsx(ml,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Create New Gym"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add a new gym and admin account"})]})]})]})})}),h.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[m&&h.jsxs("div",{className:"mb-6 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4",children:[h.jsx("h3",{className:"text-emerald-800 dark:text-emerald-400 font-semibold mb-2",children:" Gym Created Successfully!"}),h.jsx("pre",{className:"text-sm text-emerald-700 dark:text-emerald-300 whitespace-pre-wrap",children:m}),h.jsxs("div",{className:"mt-4 flex gap-3",children:[h.jsx("button",{onClick:()=>n("/super-admin"),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium text-sm transition-colors",children:"Back to Dashboard"}),h.jsx("button",{onClick:()=>y(""),className:"px-4 py-2 border border-emerald-300 dark:border-emerald-700 text-emerald-700 dark:text-emerald-400 rounded-lg font-medium text-sm transition-colors hover:bg-emerald-100 dark:hover:bg-emerald-900/30",children:"Create Another"})]})]}),l&&h.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:h.jsx("p",{className:"text-red-600 dark:text-red-400",children:l})}),!m&&h.jsxs("form",{onSubmit:T,className:"space-y-8",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-6",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[h.jsx(ml,{className:"w-5 h-5 text-purple-600"}),"Gym Information"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gym Name *"}),h.jsx("input",{type:"text",name:"name",value:v.name,onChange:E,placeholder:"e.g., FitCore Downtown",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address *"}),h.jsx("input",{type:"text",name:"address",value:v.address,onChange:E,placeholder:"e.g., 123 Main Street, City Center",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number *"}),h.jsx("input",{type:"tel",name:"phone",value:v.phone,onChange:E,placeholder:"e.g., +91 9876543210",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gym Email *"}),h.jsx("input",{type:"email",name:"email",value:v.email,onChange:E,placeholder:"e.g., contact@gym.com",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"UPI ID *"}),h.jsx("input",{type:"text",name:"upiId",value:v.upiId,onChange:E,placeholder:"e.g., gym@upi",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Monthly Fee () *"}),h.jsx("input",{type:"number",name:"monthlyFee",value:v.monthlyFee,onChange:E,placeholder:"e.g., 1500",min:"0",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:" Gym Admin Account"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"This account will be used by the gym administrator to manage members and payments."}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Admin Name *"}),h.jsx("input",{type:"text",name:"adminName",value:v.adminName,onChange:E,placeholder:"e.g., John Smith",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Admin Email *"}),h.jsx("input",{type:"email",name:"adminEmail",value:v.adminEmail,onChange:E,placeholder:"e.g., admin@gym.com",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Admin Password *"}),h.jsx("input",{type:"password",name:"adminPassword",value:v.adminPassword,onChange:E,placeholder:"Min 6 characters",minLength:6,className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[h.jsx("button",{type:"button",onClick:()=>n("/super-admin"),className:"w-full sm:w-auto px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:s,className:"w-full sm:w-auto px-10 py-4 bg-red-600 hover:bg-red-700 text-white rounded-lg font-bold text-lg shadow-xl hover:shadow-2xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Gym...":" Create Gym & Admin Account"})]})]})]})]})}function As({children:n}){const{user:e,loading:t}=_n();return t?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-950",children:h.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):e?h.jsx(h.Fragment,{children:n}):h.jsx(ev,{to:"/",replace:!0})}function Sa({children:n,darkMode:e,setDarkMode:t}){const[s,a]=L.useState(!1),{userData:l,logout:c}=_n(),m=Kn(),y=Ka(),v=[{id:"dashboard",name:"Dashboard",icon:y1,path:"/dashboard"},{id:"members",name:"Members",icon:yl,path:"/members"},{id:"payments",name:"Payments",icon:lv,path:"/payments"},{id:"attendance",name:"Attendance",icon:gv,path:"/attendance"},{id:"reports",name:"Reports",icon:t1,path:"/reports"},{id:"settings",name:"Settings",icon:C1,path:"/settings"}];return h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 transition-colors",children:[s&&h.jsx("div",{className:"fixed inset-0 bg-gray-900/50 z-40 lg:hidden",onClick:()=>a(!1)}),h.jsxs("aside",{className:`fixed top-0 left-0 z-50 h-full w-64 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 transform transition-transform duration-200 lg:translate-x-0 ${s?"translate-x-0":"-translate-x-full"}`,children:[h.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200 dark:border-gray-800",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white font-bold",children:"G"})}),h.jsx("h1",{className:"font-semibold text-gray-900 dark:text-white",children:"GymAdmin"})]}),h.jsx("button",{onClick:()=>a(!1),className:"lg:hidden text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:h.jsx($1,{className:"w-5 h-5"})})]}),h.jsx("nav",{className:"p-3 space-y-1",children:v.map(_=>{const E=_.icon,T=m.pathname===_.path;return h.jsxs("button",{onClick:()=>{y(_.path),a(!1)},className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${T?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"}`,children:[h.jsx(E,{className:"w-5 h-5"}),_.name]},_.id)})}),h.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-200 dark:border-gray-800",children:h.jsxs("button",{onClick:c,className:"flex items-center gap-3 px-3 py-2 w-full text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:[h.jsx(dv,{className:"w-5 h-5"}),h.jsx("span",{children:"Logout"})]})})]}),h.jsxs("div",{className:"lg:pl-64",children:[h.jsxs("header",{className:"sticky top-0 z-30 h-16 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between px-4 lg:px-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>a(!0),className:"lg:hidden text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:h.jsx(k1,{className:"w-6 h-6"})}),h.jsx("div",{children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white capitalize",children:v.find(_=>_.path===m.pathname)?.name||"Dashboard"})})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>t(!e),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:e?h.jsx(D1,{className:"w-5 h-5"}):h.jsx(I1,{className:"w-5 h-5"})}),h.jsxs("div",{className:"flex items-center gap-3 pl-3 border-l border-gray-200 dark:border-gray-800",children:[h.jsxs("div",{className:"hidden sm:block text-right",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:l?.displayName||"User"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:l?.email})]}),h.jsx("div",{className:"w-9 h-9 bg-blue-600 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white text-sm font-medium",children:l?.displayName?.[0]||"U"})})]})]})]}),h.jsx("main",{className:"p-4 lg:p-6",children:n})]})]})}function jC(){const[n,e]=L.useState(!1),{loading:t}=_n();return t?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-950",children:h.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):h.jsx("div",{className:n?"dark":"",children:h.jsxs(uk,{children:[h.jsx(Or,{path:"/",element:h.jsx(AC,{})}),h.jsx(Or,{path:"/dashboard",element:h.jsx(As,{children:h.jsx(Sa,{darkMode:n,setDarkMode:e,children:h.jsx(wC,{darkMode:n})})})}),h.jsx(Or,{path:"/members",element:h.jsx(As,{children:h.jsx(Sa,{darkMode:n,setDarkMode:e,children:h.jsx(TC,{darkMode:n})})})}),h.jsx(Or,{path:"/payments",element:h.jsx(As,{children:h.jsx(Sa,{darkMode:n,setDarkMode:e,children:h.jsx(IC,{darkMode:n})})})}),h.jsx(Or,{path:"/attendance",element:h.jsx(As,{children:h.jsx(Sa,{darkMode:n,setDarkMode:e,children:h.jsx(bC,{darkMode:n})})})}),h.jsx(Or,{path:"/reports",element:h.jsx(As,{children:h.jsx(Sa,{darkMode:n,setDarkMode:e,children:h.jsx(SC,{darkMode:n})})})}),h.jsx(Or,{path:"/settings",element:h.jsx(As,{children:h.jsx(Sa,{darkMode:n,setDarkMode:e,children:h.jsx(NC,{darkMode:n})})})}),h.jsx(Or,{path:"/super-admin",element:h.jsx(As,{children:h.jsx(RC,{})})}),h.jsx(Or,{path:"/super-admin/create-gym",element:h.jsx(As,{children:h.jsx(PC,{})})}),h.jsx(Or,{path:"*",element:h.jsx(ev,{to:"/dashboard",replace:!0})})]})})}hE.createRoot(document.getElementById("root")).render(h.jsx(jk,{children:h.jsx(_C,{children:h.jsx(jC,{})})}));
